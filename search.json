[{"title":"Element日期选择组件时间选择限定","url":"/2017/07/18/Element%E6%97%A5%E6%9C%9F%E9%80%89%E6%8B%A9%E7%BB%84%E4%BB%B6%E6%97%B6%E9%97%B4%E9%80%89%E6%8B%A9%E9%99%90%E5%AE%9A/","content":"<h1 id=\"2018-年-12-月更新：\"><a href=\"#2018-年-12-月更新：\" class=\"headerlink\" title=\"2018 年 12 月更新：\"></a>2018 年 12 月更新：</h1><p>要求禁用时间不能小于启用时间。<br>问题： 启用时间是动态更新的，不同数据启用时间不同，导致禁用时间范围也不一样。在data初始赋值后不会再更新pickerOptions<br>解决方法：watch 启用时间，每次更新启用时间都动态更新一次pickerOptions</p>\n<h1 id=\"Template\"><a href=\"#Template\" class=\"headerlink\" title=\"Template\"></a>Template</h1><figure class=\"highlight livecodeserver\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;el-form-<span class=\"keyword\">item</span> label=<span class=\"string\">\"启用月份\"</span> prop=<span class=\"string\">\"start_year_month\"</span>&gt;</span><br><span class=\"line\">    &lt;el-<span class=\"built_in\">date</span>-picker</span><br><span class=\"line\">      v-model=<span class=\"string\">\"form.start_year_month\"</span></span><br><span class=\"line\">      type=<span class=\"string\">\"month\"</span></span><br><span class=\"line\">      <span class=\"built_in\">format</span>=<span class=\"string\">\"yyyy 年 MM\"</span></span><br><span class=\"line\">      <span class=\"built_in\">value</span>-<span class=\"built_in\">format</span>=<span class=\"string\">\"yyyyMM\"</span></span><br><span class=\"line\">      style=<span class=\"string\">\"width: 100%\"</span></span><br><span class=\"line\">      placeholder=<span class=\"string\">\"请选择启用月份\"</span></span><br><span class=\"line\">      :clearable=<span class=\"string\">\"false\"</span></span><br><span class=\"line\">      :editable=<span class=\"string\">\"false\"</span></span><br><span class=\"line\">    &gt;&lt;/el-<span class=\"built_in\">date</span>-picker&gt;</span><br><span class=\"line\">  &lt;/el-form-<span class=\"keyword\">item</span>&gt;</span><br><span class=\"line\">  &lt;el-form-<span class=\"keyword\">item</span></span><br><span class=\"line\">    label=<span class=\"string\">\"禁用月份\"</span></span><br><span class=\"line\">    prop=<span class=\"string\">\"stop_year_month\"</span></span><br><span class=\"line\">  &gt;</span><br><span class=\"line\">    &lt;el-<span class=\"built_in\">date</span>-picker</span><br><span class=\"line\">      :picker-options=<span class=\"string\">\"pickerOptions\"</span></span><br><span class=\"line\">      v-model=<span class=\"string\">\"form.stop_year_month\"</span></span><br><span class=\"line\">      :clearable=<span class=\"string\">\"false\"</span></span><br><span class=\"line\">      :editable=<span class=\"string\">\"false\"</span></span><br><span class=\"line\">      type=<span class=\"string\">\"month\"</span></span><br><span class=\"line\">      style=<span class=\"string\">\"width: 100%\"</span></span><br><span class=\"line\">      <span class=\"built_in\">format</span>=<span class=\"string\">\"yyyy 年 MM\"</span></span><br><span class=\"line\">      <span class=\"built_in\">value</span>-<span class=\"built_in\">format</span>=<span class=\"string\">\"yyyyMM\"</span></span><br><span class=\"line\">      placeholder=<span class=\"string\">\"请选择禁用月份\"</span></span><br><span class=\"line\">    &gt;&lt;/el-<span class=\"built_in\">date</span>-picker&gt;</span><br><span class=\"line\">  &lt;/el-form-<span class=\"keyword\">item</span>&gt;</span><br></pre></td></tr></table></figure>\n<h1 id=\"Script\"><a href=\"#Script\" class=\"headerlink\" title=\"Script\"></a>Script</h1><figure class=\"highlight kotlin\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">data</span>: &#123;</span><br><span class=\"line\">  pickerOptions: &#123;&#125;,</span><br><span class=\"line\">  form: &#123;</span><br><span class=\"line\">    start_year_month: <span class=\"string\">''</span>,</span><br><span class=\"line\">    stop_year_month: <span class=\"string\">''</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">watch: &#123;</span><br><span class=\"line\">  <span class=\"comment\">// time.getTime是把选中的时间转化成自1970年1月1日 00:00:00 UTC到当前时间的毫秒数</span></span><br><span class=\"line\">  <span class=\"comment\">// 当前启用日期为 ‘201912’ ，只包含日期，导致return范围不对，需要转换为‘2019-12’</span></span><br><span class=\"line\">  [<span class=\"string\">'form.start_year_month'</span>](<span class=\"keyword\">val</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.pickerOptions = Object.assign(&#123;&#125;, <span class=\"keyword\">this</span>.pickerOptions, &#123;</span><br><span class=\"line\">      <span class=\"comment\">// disabledDate 为true表示不可选,false表示可选</span></span><br><span class=\"line\">      disabledDate: (time) =&gt; &#123;</span><br><span class=\"line\">      let str = <span class=\"keyword\">val</span>.slice(<span class=\"number\">0</span>, <span class=\"number\">4</span>) + <span class=\"string\">'-'</span> + <span class=\"keyword\">val</span>.slice(<span class=\"number\">4</span>, <span class=\"number\">7</span>)</span><br><span class=\"line\">      str = new Date(str).getTime()</span><br><span class=\"line\">      <span class=\"keyword\">return</span> time.getTime() &lt; str  <span class=\"comment\">// 可选时间范围大于等于启用日期</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h1 id=\"实现效果\"><a href=\"#实现效果\" class=\"headerlink\" title=\"实现效果\"></a>实现效果</h1><p><img src=\"http://xiaobokeji-test.oss-cn-shenzhen.aliyuncs.com/upload/39f20b94-1fa9-7f0c-547d-b353afaadf5e/1576142187330.gif\" alt=\"image\"></p>\n<hr>\n<h1 id=\"2018-年-7-月更新：\"><a href=\"#2018-年-7-月更新：\" class=\"headerlink\" title=\"2018 年 7 月更新：\"></a>2018 年 7 月更新：</h1><p>产品觉得饿了么的时间范围选择器不方便，要求使用两个单独的时间选择器做时间范围筛选。</p>\n<h1 id=\"Template-1\"><a href=\"#Template-1\" class=\"headerlink\" title=\"Template\"></a>Template</h1><figure class=\"highlight vim\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;<span class=\"keyword\">el</span>-date-picker</span><br><span class=\"line\">  v-model=<span class=\"string\">\"startDate\"</span></span><br><span class=\"line\">  <span class=\"built_in\">type</span>=<span class=\"string\">\"date\"</span></span><br><span class=\"line\">  placeholder=<span class=\"string\">\"选择开始日期\"</span></span><br><span class=\"line\">  :picker-<span class=\"keyword\">options</span>=<span class=\"string\">\"pickerOptionsStart\"</span></span><br><span class=\"line\">  @change=<span class=\"string\">\"changeEnd\"</span></span><br><span class=\"line\">&gt;</span><br><span class=\"line\">&lt;/<span class=\"keyword\">el</span>-date-picker&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;<span class=\"keyword\">el</span>-date-picker</span><br><span class=\"line\">  v-model=<span class=\"string\">\"endDate\"</span></span><br><span class=\"line\">  <span class=\"built_in\">type</span>=<span class=\"string\">\"date\"</span></span><br><span class=\"line\">  placeholder=<span class=\"string\">\"选择结束日期\"</span></span><br><span class=\"line\">  :picker-<span class=\"keyword\">options</span>=<span class=\"string\">\"pickerOptionsEnd\"</span></span><br><span class=\"line\">  @change=<span class=\"string\">\"changeStart\"</span></span><br><span class=\"line\">&gt;</span><br><span class=\"line\">&lt;/<span class=\"keyword\">el</span>-date-picker&gt;</span><br></pre></td></tr></table></figure>\n<h1 id=\"Script-1\"><a href=\"#Script-1\" class=\"headerlink\" title=\"Script\"></a>Script</h1><figure class=\"highlight kotlin\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">data</span>() &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">        pickerOptionsStart: &#123;&#125;,</span><br><span class=\"line\">        pickerOptionsEnd:&#123;&#125;,</span><br><span class=\"line\">        startDate: <span class=\"string\">''</span>,</span><br><span class=\"line\">        endDate: <span class=\"string\">''</span>,</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">methods:&#123;</span><br><span class=\"line\">      changeStart ()&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.pickerOptionsStart = Object.assign(&#123;&#125;,<span class=\"keyword\">this</span>.pickerOptionsStart,&#123;</span><br><span class=\"line\">          disabledDate: (time) =&gt; &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> time.getTime() &gt; <span class=\"keyword\">this</span>.endDate</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      changeEnd ()&#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.pickerOptionsEnd = Object.assign(&#123;&#125;,<span class=\"keyword\">this</span>.pickerOptionsEnd,&#123;</span><br><span class=\"line\">          disabledDate: (time) =&gt; &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> time.getTime() &lt; <span class=\"keyword\">this</span>.startDate</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h5 id=\"2018-年-4-月更新：\"><a href=\"#2018-年-4-月更新：\" class=\"headerlink\" title=\"2018 年 4 月更新：\"></a>2018 年 4 月更新：</h5><p>做企业合同办理入住遇到新的需求，特此记录一下。</p>\n<figure class=\"highlight verilog\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> moment from 'moment'</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">function</span> () &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> that = <span class=\"keyword\">this</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">/** *</span></span><br><span class=\"line\"><span class=\"comment\">     * 不允许选择未来日期</span></span><br><span class=\"line\"><span class=\"comment\">     * 允许选择合同开始前的30天,（即往前推29天）</span></span><br><span class=\"line\"><span class=\"comment\">     * 如果合同租期已结束，可选最大时间为租期结束时间</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    pickerOptions: &#123;</span><br><span class=\"line\">      disabledDate(<span class=\"keyword\">time</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> curDate = (<span class=\"keyword\">new</span> Date())<span class=\"variable\">.getTime</span>()</span><br><span class=\"line\">        <span class=\"keyword\">let</span> start = <span class=\"keyword\">new</span> Date(that<span class=\"variable\">.form</span><span class=\"variable\">.rent_start</span>)<span class=\"variable\">.getTime</span>()</span><br><span class=\"line\">        <span class=\"keyword\">let</span> <span class=\"keyword\">end</span> = <span class=\"keyword\">new</span> Date(that<span class=\"variable\">.form</span><span class=\"variable\">.rent_end</span>)<span class=\"variable\">.getTime</span>()</span><br><span class=\"line\">        <span class=\"keyword\">let</span> three = <span class=\"number\">30</span> * <span class=\"number\">24</span> * <span class=\"number\">3600</span> * <span class=\"number\">1000</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (moment()<span class=\"variable\">.isAfter</span>(that<span class=\"variable\">.form</span><span class=\"variable\">.rent_end</span>, <span class=\"number\">'da</span>y')) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">return</span> <span class=\"keyword\">time</span><span class=\"variable\">.getTime</span>() &lt; start - three || <span class=\"keyword\">time</span><span class=\"variable\">.getTime</span>() &gt; <span class=\"keyword\">end</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">time</span><span class=\"variable\">.getTime</span>() &lt; start - three || <span class=\"keyword\">time</span><span class=\"variable\">.getTime</span>() &gt; curDate</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h5 id=\"应用场景：\"><a href=\"#应用场景：\" class=\"headerlink\" title=\"应用场景：\"></a>应用场景：</h5><p>双栏日期选择。选定开始日期后，结束日期只能限定在开始日期后三个月内的任意一天。</p>\n<h5 id=\"缺点\"><a href=\"#缺点\" class=\"headerlink\" title=\"缺点:\"></a>缺点:</h5><p>内部循环遍历所有日期，性能较差</p>\n<h5 id=\"代码：\"><a href=\"#代码：\" class=\"headerlink\" title=\"代码：\"></a>代码：</h5><ul>\n<li>datepick.html</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"datepick\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">datepick</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">datepick</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>datepick.vue</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"block\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">el-date-picker</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">v-model</span>=<span class=\"string\">\"value1\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">type</span>=<span class=\"string\">\"date\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">placeholder</span>=<span class=\"string\">\"开始日期\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">:picker-options</span>=<span class=\"string\">\"pickerOptions0\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">el-date-picker</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">el-date-picker</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">v-model</span>=<span class=\"string\">\"value2\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">type</span>=<span class=\"string\">\"date\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                   <span class=\"attr\">placeholder</span>=<span class=\"string\">\"结束日期\"</span></span></span><br><span class=\"line\"><span class=\"tag\">                    <span class=\"attr\">:picker-options</span>=<span class=\"string\">\"pickerOptions1\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">el-date-picker</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\">        data()&#123;</span><br><span class=\"line\"><span class=\"actionscript\">            <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">            value1:<span class=\"string\">''</span>,</span></span><br><span class=\"line\"><span class=\"actionscript\">            value2:<span class=\"string\">''</span>,</span></span><br><span class=\"line\">            pickerOptions1: &#123;</span><br><span class=\"line\"><span class=\"actionscript\">                <span class=\"comment\">//disabledDate是日期组件的一个方法</span></span></span><br><span class=\"line\"><span class=\"javascript\">                disabledDate: <span class=\"function\">(<span class=\"params\">time</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">                    <span class=\"comment\">//这里就涉及到日期的指定了  setMonth()函数可以设置月份</span></span></span><br><span class=\"line\"><span class=\"javascript\">                    <span class=\"keyword\">let</span> currentTime = <span class=\"keyword\">this</span>.value1;</span></span><br><span class=\"line\"><span class=\"javascript\">                    <span class=\"keyword\">let</span> threeMonths = currentTime.setMonth(currentTime.getMonth()+<span class=\"number\">3</span>);</span></span><br><span class=\"line\"><span class=\"actionscript\">                    <span class=\"comment\">//一开始我没加下面减三个月的那个语句，他的值会一直累加</span></span></span><br><span class=\"line\">                    currentTime.setMonth(currentTime.getMonth()-3)</span><br><span class=\"line\"><span class=\"actionscript\">                    <span class=\"keyword\">return</span> time.getTime() &lt; <span class=\"keyword\">this</span>.value1 || time.getTime() &gt; threeMonths ;</span></span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>datepick.js</li>\n</ul>\n<figure class=\"highlight livescript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> Vue <span class=\"keyword\">from</span> <span class=\"string\">'vue'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> ElementUI <span class=\"keyword\">from</span> <span class=\"string\">'element-ui'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'element-ui/lib/theme-chalk/index.css'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> datepick <span class=\"keyword\">from</span> <span class=\"string\">'../components/datepick.vue'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">Vue.use(ElementUI);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">new</span> Vue(&#123;</span><br><span class=\"line\">    el: <span class=\"string\">\"<span class=\"subst\">#datepick</span>\"</span>,</span><br><span class=\"line\">    template:<span class=\"string\">'&lt;datepick/&gt;'</span>,</span><br><span class=\"line\">    components: &#123;datepick&#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n","tags":["Element"]},{"title":"ElementUI和第三方图标库Iconfont","url":"/2019/05/27/ElementUI%E5%92%8C%E7%AC%AC%E4%B8%89%E6%96%B9%E5%9B%BE%E6%A0%87%E5%BA%93Iconfont/","content":"<p>遇到一个需求，ElementUI没有符合的图标，需要插入ui提供的图标，所以使用iconfont。</p>\n<p>在项目李找到该图标，本次使用的是【xitong】这个图标。选择font class，再选择在线链接，复制这个链接。<br>在less文件里引入这个iconfont，插入到el-input即可使用。</p>\n<p><img src=\"http://vky-test-oss.inboyu.com/upload/39f56737-c8dc-9641-68f5-370f9959f503.png\" alt=\"选择iconfont\"></p>\n<p><img src=\"http://vky-test-oss.inboyu.com/upload/39f5673d-5269-568b-6300-8723196c4547.png\" alt=\"使用iconfont\"></p>\n<figure class=\"highlight dust\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">el-input</span></span></span></span><br><span class=\"line\"><span class=\"xml\">    size=\"medium\"</span></span><br><span class=\"line\"><span class=\"xml\">    suffix-icon=\"iconfont icon-JYT-icon-xitong\"</span></span><br><span class=\"line\"><span class=\"xml\">    v-model=\"item.value\"</span></span><br><span class=\"line\"><span class=\"xml\">  &gt;<span class=\"tag\">&lt;/<span class=\"name\">el-input</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">export default </span><span class=\"template-variable\">&#123;</span></span><br><span class=\"line\"><span class=\"template-variable\">  data() &#123;</span></span><br><span class=\"line\"><span class=\"template-variable\">    item: &#123;&#125;</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;</span></span><br><span class=\"line\"><span class=\"xml\">&#125;</span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">scoped</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">@import url('//at.alicdn.com/t/font_1712723_tp9lsy2fuua.css');</span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n","tags":["Element"]},{"title":"ElementUI table 编辑拓展","url":"/2019/02/27/ElementUI-table-%E7%BC%96%E8%BE%91%E6%8B%93%E5%B1%95/","content":"<p>被调到新的项目组，开始财务模块开发，涉及到大量报表和数字。最近的需求涉及到element table，各种详细的要求，要求拓展目前现有的table内容，期间也遇到了很多问题，现在记录下来。</p>\n<h4 id=\"目录\"><a href=\"#目录\" class=\"headerlink\" title=\"目录\"></a>目录</h4><ul>\n<li><a href=\"#1\">允许点击table任意一栏编辑</a></li>\n<li><a href=\"#2\">表头合并和样式自定义</a></li>\n<li><a href=\"#2\">允许上传附件</a></li>\n<li><a href=\"#3\">树状table，允许展开折叠操作</a></li>\n<li><a href=\"#4\">根据选择器选择的内容动态新增可编辑的字段</a></li>\n<li><a href=\"#5\">界面编辑操作，输入数据，光标丢失，感觉很卡</a></li>\n</ul>\n<p><span id=\"1\"></span></p>\n<h4 id=\"表格编辑\"><a href=\"#表格编辑\" class=\"headerlink\" title=\"表格编辑\"></a>表格编辑</h4><p><img src=\"http://vky-test-oss.inboyu.com/upload/39f566df-2aaf-e3bd-af76-5404d52a7750.gif\" alt=\"image\"></p>\n<figure class=\"highlight htmlbars\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">html</span> &gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width, initial-scale=1.0\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"X-UA-Compatible\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"ie=edge\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Demo<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"stylesheet\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"https://unpkg.com/element-ui/lib/theme-chalk/index.css\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        .el-table-add-row &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    margin-top: 10px;</span></span><br><span class=\"line\"><span class=\"xml\">    width: 100%;</span></span><br><span class=\"line\"><span class=\"xml\">    height: 34px;</span></span><br><span class=\"line\"><span class=\"xml\">    border: 1px dashed #c1c1cd;</span></span><br><span class=\"line\"><span class=\"xml\">    border-radius: 3px;</span></span><br><span class=\"line\"><span class=\"xml\">    cursor: pointer;</span></span><br><span class=\"line\"><span class=\"xml\">    justify-content: center;</span></span><br><span class=\"line\"><span class=\"xml\">    display: flex;</span></span><br><span class=\"line\"><span class=\"xml\">    line-height: 34px;</span></span><br><span class=\"line\"><span class=\"xml\">&#125;<span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"app\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">el-row</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">el-col</span> <span class=\"attr\">span</span>=<span class=\"string\">\"24\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">el-table</span> <span class=\"attr\">size</span>=<span class=\"string\">\"mini\"</span> <span class=\"attr\">:data</span>=<span class=\"string\">\"master_user.data\"</span> <span class=\"attr\">border</span> <span class=\"attr\">style</span>=<span class=\"string\">\"width: 100%\"</span> <span class=\"attr\">highlight-current-row</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                    <span class=\"tag\">&lt;<span class=\"name\">el-table-column</span> <span class=\"attr\">type</span>=<span class=\"string\">\"index\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                    <span class=\"tag\">&lt;<span class=\"name\">el-table-column</span> <span class=\"attr\">v-for</span>=<span class=\"string\">\"(v,i) in master_user.columns\"</span> <span class=\"attr\">:prop</span>=<span class=\"string\">\"v.field\"</span> <span class=\"attr\">:label</span>=<span class=\"string\">\"v.title\"</span> <span class=\"attr\">:width</span>=<span class=\"string\">\"v.width\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                        <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">\"scope\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">v-if</span>=<span class=\"string\">\"scope.row.isSet\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                                <span class=\"tag\">&lt;<span class=\"name\">el-input</span> <span class=\"attr\">size</span>=<span class=\"string\">\"mini\"</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"请输入内容\"</span> <span class=\"attr\">v-model</span>=<span class=\"string\">\"master_user.sel[v.field]\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                                <span class=\"tag\">&lt;/<span class=\"name\">el-input</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                            <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">v-else</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123;scope.row[v.field]&#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                        <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                    <span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                    <span class=\"tag\">&lt;<span class=\"name\">el-table-column</span> <span class=\"attr\">label</span>=<span class=\"string\">\"操作\"</span> <span class=\"attr\">width</span>=<span class=\"string\">\"100\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                        <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">\"scope\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"el-tag el-tag--info el-tag--mini\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"cursor: pointer;\"</span> @<span class=\"attr\">click</span>=<span class=\"string\">\"pwdChange(scope.row,scope.$index,true)\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                                </span><span class=\"template-variable\">&#123;&#123;scope.row.isSet?'保存':<span class=\"string\">\"修改\"</span>&#125;&#125;</span></span><br><span class=\"line\"><span class=\"xml\">                            <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">v-if</span>=<span class=\"string\">\"!scope.row.isSet\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"el-tag el-tag--danger el-tag--mini\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"cursor: pointer;\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                                删除</span></span><br><span class=\"line\"><span class=\"xml\">                            <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">v-else</span> <span class=\"attr\">class</span>=<span class=\"string\">\"el-tag  el-tag--mini\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"cursor: pointer;\"</span> @<span class=\"attr\">click</span>=<span class=\"string\">\"pwdChange(scope.row,scope.$index,false)\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                                取消</span></span><br><span class=\"line\"><span class=\"xml\">                            <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                        <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                    <span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;/<span class=\"name\">el-table</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;/<span class=\"name\">el-col</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">el-col</span> <span class=\"attr\">span</span>=<span class=\"string\">\"24\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"el-table-add-row\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"width: 99.2%;\"</span> @<span class=\"attr\">click</span>=<span class=\"string\">\"addMasterUser()\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>+ 添加<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;/<span class=\"name\">el-col</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">el-row</span>&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"comment\">&lt;!-- import Vue before Element --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://unpkg.com/vue@2.5.17/dist/vue.min.js\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"comment\">&lt;!-- import JavaScript --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"https://unpkg.com/element-ui/lib/index.js\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        //id生成工具 这个不用看 示例而已 模拟后台返回的id</span></span><br><span class=\"line\"><span class=\"xml\">        var generateId = &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            _count: 1,</span></span><br><span class=\"line\"><span class=\"xml\">            get()&#123;return ((+new Date()) + \"_\" + (this._count++))&#125;</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;;</span></span><br><span class=\"line\"><span class=\"xml\">        //主要内容</span></span><br><span class=\"line\"><span class=\"xml\">        var app = new Vue(&#123;</span></span><br><span class=\"line\"><span class=\"xml\">            el: \"#app\",</span></span><br><span class=\"line\"><span class=\"xml\">            data: &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                master_user: &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                    sel: null,//选中行   </span></span><br><span class=\"line\"><span class=\"xml\">                    columns: [</span></span><br><span class=\"line\"><span class=\"xml\">                        &#123; field: \"type\", title: \"远程类型\", width: 120 &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">                        &#123; field: \"addport\", title: \"连接地址\", width: 150 &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">                        &#123; field: \"user\", title: \"登录用户\", width: 120 &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">                        &#123; field: \"pwd\", title: \"登录密码\", width: 220 &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">                        &#123; field: \"info\", title: \"其他信息\" &#125;</span></span><br><span class=\"line\"><span class=\"xml\">                    ],</span></span><br><span class=\"line\"><span class=\"xml\">                    data: [],</span></span><br><span class=\"line\"><span class=\"xml\">                &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">            &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">            methods: &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                //读取表格数据</span></span><br><span class=\"line\"><span class=\"xml\">                readMasterUser() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                    //根据实际情况，自己改下啊 </span></span><br><span class=\"line\"><span class=\"xml\">                    app.master_user.data.map(i =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                        i.id = generateId.get();//模拟后台插入成功后有了id</span></span><br><span class=\"line\"><span class=\"xml\">                        i.isSet=false;//给后台返回数据添加`isSet`标识</span></span><br><span class=\"line\"><span class=\"xml\">                        return i;</span></span><br><span class=\"line\"><span class=\"xml\">                    &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">                &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">                //添加账号</span></span><br><span class=\"line\"><span class=\"xml\">                addMasterUser() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                    for (let i of app.master_user.data) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                        if (i.isSet) return app.$message.warning(\"请先保存当前编辑项\");</span></span><br><span class=\"line\"><span class=\"xml\">                    &#125;</span></span><br><span class=\"line\"><span class=\"xml\">                    let j = &#123; id: 0, \"type\": \"\", \"addport\": \"\", \"user\": \"\", \"pwd\": \"\", \"info\": \"\", \"isSet\": true, \"_temporary\": true &#125;;</span></span><br><span class=\"line\"><span class=\"xml\">                    app.master_user.data.push(j);</span></span><br><span class=\"line\"><span class=\"xml\">                    app.master_user.sel = JSON.parse(JSON.stringify(j));</span></span><br><span class=\"line\"><span class=\"xml\">                &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">                //修改</span></span><br><span class=\"line\"><span class=\"xml\">                pwdChange(row, index, cg) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                    //点击修改 判断是否已经保存所有操作</span></span><br><span class=\"line\"><span class=\"xml\">                    for (let i of app.master_user.data) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                        if (i.isSet &amp;&amp; i.id != row.id) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                            app.$message.warning(\"请先保存当前编辑项\");</span></span><br><span class=\"line\"><span class=\"xml\">                            return false;</span></span><br><span class=\"line\"><span class=\"xml\">                        &#125;</span></span><br><span class=\"line\"><span class=\"xml\">                    &#125;</span></span><br><span class=\"line\"><span class=\"xml\">                    //是否是取消操作</span></span><br><span class=\"line\"><span class=\"xml\">                    if (!cg) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                        if (!app.master_user.sel.id) app.master_user.data.splice(index, 1);</span></span><br><span class=\"line\"><span class=\"xml\">                        return row.isSet = !row.isSet;</span></span><br><span class=\"line\"><span class=\"xml\">                    &#125;</span></span><br><span class=\"line\"><span class=\"xml\">                    //提交数据</span></span><br><span class=\"line\"><span class=\"xml\">                    if (row.isSet) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                        //项目是模拟请求操作  自己修改下</span></span><br><span class=\"line\"><span class=\"xml\">                        (function () &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                            let data = JSON.parse(JSON.stringify(app.master_user.sel));</span></span><br><span class=\"line\"><span class=\"xml\">                            for (let k in data) row[k] = data[k];</span></span><br><span class=\"line\"><span class=\"xml\">                            app.$message(&#123;</span></span><br><span class=\"line\"><span class=\"xml\">                                type: 'success',</span></span><br><span class=\"line\"><span class=\"xml\">                                message: \"保存成功!\"</span></span><br><span class=\"line\"><span class=\"xml\">                            &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">                            //然后这边重新读取表格数据</span></span><br><span class=\"line\"><span class=\"xml\">                            app.readMasterUser();</span></span><br><span class=\"line\"><span class=\"xml\">                            row.isSet = false;</span></span><br><span class=\"line\"><span class=\"xml\">                        &#125;)();</span></span><br><span class=\"line\"><span class=\"xml\">                    &#125; else &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                        app.master_user.sel = JSON.parse(JSON.stringify(row));</span></span><br><span class=\"line\"><span class=\"xml\">                        row.isSet = true;</span></span><br><span class=\"line\"><span class=\"xml\">                    &#125;</span></span><br><span class=\"line\"><span class=\"xml\">                &#125;</span></span><br><span class=\"line\"><span class=\"xml\">            &#125;</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<hr>\n<p><span id=\"2\"></span></p>\n<h4 id=\"表头合并、自定样式、表格附件上传\"><a href=\"#表头合并、自定样式、表格附件上传\" class=\"headerlink\" title=\"表头合并、自定样式、表格附件上传\"></a>表头合并、自定样式、表格附件上传</h4><p><img src=\"http://vky-test-oss.inboyu.com/upload/39f566e0-3dcf-99b5-2bd2-1d3a06a9230b.png\" alt=\"image\"></p>\n<blockquote>\n<p>表头合并参考了element官方文档，只需要在 el-table-column 里面嵌套 el-table-column，就可以实现多级表头；<br>render-header 列标题 Label 区域渲染使用的 Function，就可以实现表头样式自定义</p>\n</blockquote>\n<figure class=\"highlight django\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">el-table-column</span> <span class=\"attr\">label</span>=<span class=\"string\">\"关停期间损失\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">el-table-column</span></span></span></span><br><span class=\"line\"><span class=\"xml\">    prop=\"landlord_liquidated_damages\"</span></span><br><span class=\"line\"><span class=\"xml\">    :render-header=\"renderHeader\"</span></span><br><span class=\"line\"><span class=\"xml\">    label=\"赔付给房东的违约金（元）\"</span></span><br><span class=\"line\"><span class=\"xml\">  &gt;</span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">\"scope\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      </span><span class=\"template-variable\">&#123;&#123; format(scope.row.landlord_liquidated_damages) &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">template</span></span></span></span><br><span class=\"line\"><span class=\"xml\">    &gt;</span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">el-table-column</span></span></span></span><br><span class=\"line\"><span class=\"xml\">    prop=\"tenant_liquidated_damages\"</span></span><br><span class=\"line\"><span class=\"xml\">    :render-header=\"renderHeader\"</span></span><br><span class=\"line\"><span class=\"xml\">    label=\"赔付给租客的违约金（元）\"</span></span><br><span class=\"line\"><span class=\"xml\">  &gt;</span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">\"scope\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123;</span></span><br><span class=\"line\"><span class=\"template-variable\">      format(scope.row.tenant_liquidated_damages)</span></span><br><span class=\"line\"><span class=\"template-variable\">    &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">el-table-column</span></span></span></span><br><span class=\"line\"><span class=\"xml\">    prop=\"client_liquidated_damages\"</span></span><br><span class=\"line\"><span class=\"xml\">    :render-header=\"renderHeader\"</span></span><br><span class=\"line\"><span class=\"xml\">    label=\"赔付给委托方的违约金（元）\"</span></span><br><span class=\"line\"><span class=\"xml\">  &gt;</span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">\"scope\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123;</span></span><br><span class=\"line\"><span class=\"template-variable\">      format(scope.row.client_liquidated_damages)</span></span><br><span class=\"line\"><span class=\"template-variable\">    &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">el-table-column</span></span></span></span><br><span class=\"line\"><span class=\"xml\">    prop=\"operating_loss\"</span></span><br><span class=\"line\"><span class=\"xml\">    :render-header=\"renderHeader\"</span></span><br><span class=\"line\"><span class=\"xml\">    label=\"经营亏损（元）\"</span></span><br><span class=\"line\"><span class=\"xml\">  &gt;</span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">\"scope\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123;</span></span><br><span class=\"line\"><span class=\"template-variable\">      format(scope.row.operating_loss)</span></span><br><span class=\"line\"><span class=\"template-variable\">    &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">el-table-column</span></span></span></span><br><span class=\"line\"><span class=\"xml\">    prop=\"additional_investment\"</span></span><br><span class=\"line\"><span class=\"xml\">    :render-header=\"renderHeader\"</span></span><br><span class=\"line\"><span class=\"xml\">    label=\"追加投资（元）\"</span></span><br><span class=\"line\"><span class=\"xml\">  &gt;</span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">\"scope\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123;</span></span><br><span class=\"line\"><span class=\"template-variable\">      format(scope.row.additional_investment)</span></span><br><span class=\"line\"><span class=\"template-variable\">    &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">el-table-column</span> <span class=\"attr\">prop</span>=<span class=\"string\">\"upload\"</span> <span class=\"attr\">label</span>=<span class=\"string\">\"附件\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">\"scope\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">div</span></span></span></span><br><span class=\"line\"><span class=\"xml\">      class=\"files-box\"</span></span><br><span class=\"line\"><span class=\"xml\">      v-for=\"(a, aIndex) in scope.row.upload\"</span></span><br><span class=\"line\"><span class=\"xml\">      :key=\"aIndex\"</span></span><br><span class=\"line\"><span class=\"xml\">    &gt;</span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"files-box__name\"</span> <span class=\"attr\">:title</span>=<span class=\"string\">\"a.name\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123; a.name &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"files-box__btn\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">el-button</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> @<span class=\"attr\">click</span>=<span class=\"string\">\"checkFile(a.url)\"</span>&gt;</span>查看<span class=\"tag\">&lt;/<span class=\"name\">el-button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">el-button</span></span></span></span><br><span class=\"line\"><span class=\"xml\">          v-if=\"!isDetail\"</span></span><br><span class=\"line\"><span class=\"xml\">          type=\"text\"</span></span><br><span class=\"line\"><span class=\"xml\">          @click=\"delFile(aIndex, scope.$index)\"</span></span><br><span class=\"line\"><span class=\"xml\">          &gt;删除<span class=\"tag\">&lt;/<span class=\"name\">el-button</span></span></span></span><br><span class=\"line\"><span class=\"xml\">        &gt;</span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 表头样式自定义</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    renderHeader(h, &#123; column, $index &#125;) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> str = <span class=\"string\">''</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        column.label == <span class=\"string\">'预计总投（万元)'</span></span><br><span class=\"line\">        || column.label == <span class=\"string\">'预计NOI/GOP投资回报率（%）'</span></span><br><span class=\"line\">      ) &#123;</span><br><span class=\"line\">        str = <span class=\"string\">'投资收益'</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        str = <span class=\"string\">'关停信息'</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> (</span><br><span class=\"line\">        &lt;span&gt;</span><br><span class=\"line\">          &#123;str&#125;</span><br><span class=\"line\">          &lt;br /&gt;</span><br><span class=\"line\">          &lt;span <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"c6\"</span>&gt;&#123;column.label&#125;&lt;<span class=\"regexp\">/span&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">        &lt;/</span>span&gt;</span><br><span class=\"line\">      )</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 删除附件</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param <span class=\"type\">&#123;*&#125;</span> </span>i 附件index</span></span><br><span class=\"line\"><span class=\"comment\">     * <span class=\"doctag\">@param <span class=\"type\">&#123;*&#125;</span> </span>l list的index</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    delFile(i, l) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.list[l].upload.splice(i, <span class=\"number\">1</span>)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// 查看加密附件</span></span><br><span class=\"line\">    <span class=\"keyword\">async</span> checkFile(url) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> res = <span class=\"keyword\">await</span> PmService.getSignedUrl(url)</span><br><span class=\"line\">        <span class=\"built_in\">window</span>.open(res.data.url, res.data.url)</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.error(e)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">'#'</span></span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.c6</span> &#123;</span></span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#606266</span>;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.c6</span><span class=\"selector-pseudo\">::before</span> &#123;</span></span><br><span class=\"line\">  content: \"*\";</span><br><span class=\"line\"><span class=\"css\">  <span class=\"selector-tag\">color</span>: <span class=\"selector-id\">#f56c6c</span>;</span></span><br><span class=\"line\">  margin-right: 4px;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.files-box</span> &#123;</span></span><br><span class=\"line\">  position: relative;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.files-box__name</span> &#123;</span></span><br><span class=\"line\">  height: 40px;</span><br><span class=\"line\">  line-height: 40px;</span><br><span class=\"line\">  width: 110px;</span><br><span class=\"line\">  overflow: hidden;</span><br><span class=\"line\">  text-overflow: ellipsis;</span><br><span class=\"line\">  white-space: nowrap;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"css\"><span class=\"selector-class\">.files-box__btn</span> &#123;</span></span><br><span class=\"line\">  position: absolute;</span><br><span class=\"line\">  top: 0;</span><br><span class=\"line\">  right: 0;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<hr>\n<p><span id=\"3\"></span></p>\n<h4 id=\"树状table，允许展开折叠操作\"><a href=\"#树状table，允许展开折叠操作\" class=\"headerlink\" title=\"树状table，允许展开折叠操作\"></a>树状table，允许展开折叠操作</h4><p><img src=\"http://vky-test-oss.inboyu.com/upload/39f56713-e356-cbec-9c34-45ecada5598a.gif\" alt=\"image\"></p>\n<blockquote>\n<p>default-expand-all 是否默认展开所有行，当 Table 包含展开行存在或者为树形表格时有效</p>\n</blockquote>\n<figure class=\"highlight django\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"f-mt\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">el-table</span></span></span></span><br><span class=\"line\"><span class=\"xml\">      :data=\"data\"</span></span><br><span class=\"line\"><span class=\"xml\">      style=\"width: 100%;\"</span></span><br><span class=\"line\"><span class=\"xml\">      row-key=\"id\"</span></span><br><span class=\"line\"><span class=\"xml\">      :indent=\"6\"</span></span><br><span class=\"line\"><span class=\"xml\">      :default-expand-all=\"default_expand_all\"</span></span><br><span class=\"line\"><span class=\"xml\">      border</span></span><br><span class=\"line\"><span class=\"xml\">      :tree-props=\"&#123; children: 'children', hasChildren: 'hasChildren' &#125;\"</span></span><br><span class=\"line\"><span class=\"xml\">    &gt;</span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;<span class=\"name\">el-table-column</span> <span class=\"attr\">prop</span>=<span class=\"string\">\"name\"</span> <span class=\"attr\">label</span>=<span class=\"string\">\"指标名称\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">\"scope\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          </span><span class=\"template-variable\">&#123;&#123; scope.row.name &#125;&#125;</span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">f-tips</span> <span class=\"attr\">v-if</span>=<span class=\"string\">\"scope.row.method\"</span> <span class=\"attr\">top</span>=<span class=\"string\">\"25%\"</span> <span class=\"attr\">:width</span>=<span class=\"string\">\"400\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123;</span></span><br><span class=\"line\"><span class=\"template-variable\">            scope.row.method</span></span><br><span class=\"line\"><span class=\"template-variable\">          &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">f-tips</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;<span class=\"name\">el-table-column</span> <span class=\"attr\">prop</span>=<span class=\"string\">\"systemValue\"</span> <span class=\"attr\">label</span>=<span class=\"string\">\"前台系统取值（元）\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">\"scope\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"comment\">&lt;!-- show_system_desc --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">el-tooltip</span></span></span></span><br><span class=\"line\"><span class=\"xml\">            effect=\"dark\"</span></span><br><span class=\"line\"><span class=\"xml\">            :content=\"scope.row.show_system_desc\"</span></span><br><span class=\"line\"><span class=\"xml\">            placement=\"top\"</span></span><br><span class=\"line\"><span class=\"xml\">          &gt;</span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">el-button</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123;</span></span><br><span class=\"line\"><span class=\"template-variable\">              format(scope.row.systemValue)</span></span><br><span class=\"line\"><span class=\"template-variable\">            &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">el-button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;/<span class=\"name\">el-tooltip</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;<span class=\"name\">el-table-column</span> <span class=\"attr\">prop</span>=<span class=\"string\">\"manualValue\"</span> <span class=\"attr\">label</span>=<span class=\"string\">\"手工补录(元)\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">\"scope\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">el-form</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">el-form-item</span></span></span></span><br><span class=\"line\"><span class=\"xml\">              :key=\"scope.row.id\"</span></span><br><span class=\"line\"><span class=\"xml\">              :error=\"valid[scope.row.id + '_' + scope.row.name]\"</span></span><br><span class=\"line\"><span class=\"xml\">            &gt;</span></span><br><span class=\"line\"><span class=\"xml\">              <span class=\"tag\">&lt;<span class=\"name\">el-tooltip</span></span></span></span><br><span class=\"line\"><span class=\"xml\">                effect=\"dark\"</span></span><br><span class=\"line\"><span class=\"xml\">                :content=\"scope.row.show_manual_desc\"</span></span><br><span class=\"line\"><span class=\"xml\">                placement=\"top\"</span></span><br><span class=\"line\"><span class=\"xml\">              &gt;</span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">el-input</span></span></span></span><br><span class=\"line\"><span class=\"xml\">                  size=\"medium\"</span></span><br><span class=\"line\"><span class=\"xml\">                  @input=\"</span></span><br><span class=\"line\"><span class=\"xml\">                    checkInput(</span></span><br><span class=\"line\"><span class=\"xml\">                      scope.row.manualValue,</span></span><br><span class=\"line\"><span class=\"xml\">                      scope.row.id,</span></span><br><span class=\"line\"><span class=\"xml\">                      scope.row.name</span></span><br><span class=\"line\"><span class=\"xml\">                    )</span></span><br><span class=\"line\"><span class=\"xml\">                  \"</span></span><br><span class=\"line\"><span class=\"xml\">                  v-model=\"scope.row.manualValue\"</span></span><br><span class=\"line\"><span class=\"xml\">                  placeholder=\"请输入\"</span></span><br><span class=\"line\"><span class=\"xml\">                &gt;<span class=\"tag\">&lt;/<span class=\"name\">el-input</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">              <span class=\"tag\">&lt;/<span class=\"name\">el-tooltip</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;/<span class=\"name\">el-form-item</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;/<span class=\"name\">el-form</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;<span class=\"name\">el-table-column</span> <span class=\"attr\">prop</span>=<span class=\"string\">\"total\"</span> <span class=\"attr\">label</span>=<span class=\"string\">\"合计(元)\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">\"scope\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">el-tooltip</span></span></span></span><br><span class=\"line\"><span class=\"xml\">            effect=\"dark\"</span></span><br><span class=\"line\"><span class=\"xml\">            :content=\"scope.row.show_system_desc\"</span></span><br><span class=\"line\"><span class=\"xml\">            placement=\"top\"</span></span><br><span class=\"line\"><span class=\"xml\">          &gt;</span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">              </span><span class=\"template-variable\">&#123;&#123;</span></span><br><span class=\"line\"><span class=\"template-variable\">                scope.row.can_edit</span></span><br><span class=\"line\"><span class=\"template-variable\">                  ? format(</span></span><br><span class=\"line\"><span class=\"template-variable\">                      (</span></span><br><span class=\"line\"><span class=\"template-variable\">                        Number(scope.row.systemValue) +</span></span><br><span class=\"line\"><span class=\"template-variable\">                        Number(scope.row.manualValue)</span></span><br><span class=\"line\"><span class=\"template-variable\">                      ).toFixed(2)</span></span><br><span class=\"line\"><span class=\"template-variable\">                    )</span></span><br><span class=\"line\"><span class=\"template-variable\">                  : format(scope.row.total)</span></span><br><span class=\"line\"><span class=\"template-variable\">              &#125;&#125;</span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;/<span class=\"name\">el-tooltip</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;<span class=\"name\">el-table-column</span> <span class=\"attr\">prop</span>=<span class=\"string\">\"houses\"</span> <span class=\"attr\">label</span>=<span class=\"string\">\"楼栋均摊(元)\"</span> <span class=\"attr\">width</span>=<span class=\"string\">\"620\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">\"scope\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">el-form</span> <span class=\"attr\">:inline</span>=<span class=\"string\">\"true\"</span> <span class=\"attr\">label-position</span>=<span class=\"string\">\"right\"</span> <span class=\"attr\">label-width</span>=<span class=\"string\">\"120px\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">el-form-item</span></span></span></span><br><span class=\"line\"><span class=\"xml\">              v-for=\"(item, index) in scope.row.show_houses\"</span></span><br><span class=\"line\"><span class=\"xml\">              :label=\"item.name\"</span></span><br><span class=\"line\"><span class=\"xml\">              :key=\"index\"</span></span><br><span class=\"line\"><span class=\"xml\">              :error=\"valid[item.id + '_' + scope.row.name]\"</span></span><br><span class=\"line\"><span class=\"xml\">            &gt;</span></span><br><span class=\"line\"><span class=\"xml\">              <span class=\"tag\">&lt;<span class=\"name\">el-tooltip</span></span></span></span><br><span class=\"line\"><span class=\"xml\">                effect=\"dark\"</span></span><br><span class=\"line\"><span class=\"xml\">                placement=\"top\"</span></span><br><span class=\"line\"><span class=\"xml\">                :content=\"item.show_system_desc\"</span></span><br><span class=\"line\"><span class=\"xml\">              &gt;</span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">el-input</span></span></span></span><br><span class=\"line\"><span class=\"xml\">                  size=\"medium\"</span></span><br><span class=\"line\"><span class=\"xml\">                  style=\"width: 130px;\"</span></span><br><span class=\"line\"><span class=\"xml\">                  :disabled=\"!item.can_edit\"</span></span><br><span class=\"line\"><span class=\"xml\">                  @input=\"</span></span><br><span class=\"line\"><span class=\"xml\">                    checkInput(item.value, item.id, scope.row.name, scope.row)</span></span><br><span class=\"line\"><span class=\"xml\">                  \"</span></span><br><span class=\"line\"><span class=\"xml\">                  v-model=\"item.value\"</span></span><br><span class=\"line\"><span class=\"xml\">                  placeholder=\"请输入修改数值\"</span></span><br><span class=\"line\"><span class=\"xml\">                &gt;<span class=\"tag\">&lt;/<span class=\"name\">el-input</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">              <span class=\"tag\">&lt;/<span class=\"name\">el-tooltip</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;/<span class=\"name\">el-form-item</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">el-button</span></span></span></span><br><span class=\"line\"><span class=\"xml\">              class=\"show-btn\"</span></span><br><span class=\"line\"><span class=\"xml\">              v-if=\"scope.row.houses &amp;&amp; scope.row.houses.length &gt; 2\"</span></span><br><span class=\"line\"><span class=\"xml\">              type=\"text\"</span></span><br><span class=\"line\"><span class=\"xml\">              @click=\"handleMore(scope.row)\"</span></span><br><span class=\"line\"><span class=\"xml\">              &gt;查看更多<span class=\"tag\">&lt;/<span class=\"name\">el-button</span></span></span></span><br><span class=\"line\"><span class=\"xml\">            &gt;</span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;/<span class=\"name\">el-form</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;/<span class=\"name\">el-table-column</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;/<span class=\"name\">el-table</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">function makeMsg(oriMsg, msg) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">  return `$&#123;oriMsg&#125;$&#123;msg ? '，' + msg : ''&#125;`</span></span><br><span class=\"line\"><span class=\"xml\">&#125;</span></span><br><span class=\"line\"><span class=\"xml\">export default &#123;</span></span><br><span class=\"line\"><span class=\"xml\">  name: 'table-form',</span></span><br><span class=\"line\"><span class=\"xml\">  props: &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    data: &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      type: [Array],</span></span><br><span class=\"line\"><span class=\"xml\">      required: true</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">    // 控制树展开折叠</span></span><br><span class=\"line\"><span class=\"xml\">    default_expand_all: &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      type: Boolean,</span></span><br><span class=\"line\"><span class=\"xml\">      required: true</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">  data() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    return &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      valid: &#123;&#125;,</span></span><br><span class=\"line\"><span class=\"xml\">      title: '',</span></span><br><span class=\"line\"><span class=\"xml\">      form: &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        houses: []</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">      rules: &#123;&#125;,</span></span><br><span class=\"line\"><span class=\"xml\">      visible: false,</span></span><br><span class=\"line\"><span class=\"xml\">      active: ['1'],</span></span><br><span class=\"line\"><span class=\"xml\">      error_info: [],</span></span><br><span class=\"line\"><span class=\"xml\">      d_loading: false,</span></span><br><span class=\"line\"><span class=\"xml\">      list: [],</span></span><br><span class=\"line\"><span class=\"xml\">      field: &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        visible: false,</span></span><br><span class=\"line\"><span class=\"xml\">        loading: false,</span></span><br><span class=\"line\"><span class=\"xml\">        title: ''</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">  watch: &#123;&#125;,</span></span><br><span class=\"line\"><span class=\"xml\">  computed: &#123;&#125;,</span></span><br><span class=\"line\"><span class=\"xml\">  methods: &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    /**</span></span><br><span class=\"line\"><span class=\"xml\">     * 编辑 ,校验输入合法</span></span><br><span class=\"line\"><span class=\"xml\">     * @param &#123;*&#125; value</span></span><br><span class=\"line\"><span class=\"xml\">     * @param &#123;*&#125; id</span></span><br><span class=\"line\"><span class=\"xml\">     * @param &#123;*&#125; name</span></span><br><span class=\"line\"><span class=\"xml\">     * @param &#123;*&#125; item 当前编辑的item</span></span><br><span class=\"line\"><span class=\"xml\">     */</span></span><br><span class=\"line\"><span class=\"xml\">    checkInput(value, id, name, item) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      let i = 14</span></span><br><span class=\"line\"><span class=\"xml\">      let f = 2</span></span><br><span class=\"line\"><span class=\"xml\">      let all_true = false</span></span><br><span class=\"line\"><span class=\"xml\">      this.valid[id + '_' + name] = ''</span></span><br><span class=\"line\"><span class=\"xml\">      let reg = new RegExp(`^-?\\\\d&#123;1,$&#123;i&#125;&#125;(\\\\.\\\\d&#123;1,$&#123;f&#125;&#125;)?$`)</span></span><br><span class=\"line\"><span class=\"xml\">      if (!reg.test(value)) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        this.valid[id + '_' + name] = `最多$&#123;i&#125;位整数$&#123;f&#125;位小数`</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"><span class=\"xml\">      // 校验是否还存在其他valid</span></span><br><span class=\"line\"><span class=\"xml\">      for (let v in this.valid) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        if (this.valid[v]) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          all_true = false</span></span><br><span class=\"line\"><span class=\"xml\">          break</span></span><br><span class=\"line\"><span class=\"xml\">        &#125; else &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          all_true = true</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"><span class=\"xml\">      let res = 0</span></span><br><span class=\"line\"><span class=\"xml\">      if (item.houses &amp;&amp; item.houses.length) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        item.houses.forEach((h) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          res = Utils.floatAdd(res, h.value, 2)</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;)</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"><span class=\"xml\">      item.manualValue = res // 同步更新当前手工补录值</span></span><br><span class=\"line\"><span class=\"xml\">      this.$emit('checkInput', all_true) // 通过输入合法性校验</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    // 查看更多楼栋信息</span></span><br><span class=\"line\"><span class=\"xml\">    handleMore(data) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      this.form = _.clone(data)</span></span><br><span class=\"line\"><span class=\"xml\">      this.title = data.name</span></span><br><span class=\"line\"><span class=\"xml\">      this.visible = true</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    // 查看明细</span></span><br><span class=\"line\"><span class=\"xml\">    goTo(url) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      this.$emit('goTo', url)</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    /**</span></span><br><span class=\"line\"><span class=\"xml\">     * 正浮点数限制</span></span><br><span class=\"line\"><span class=\"xml\">     * @param &#123;Number&#125; i 整数最大位数</span></span><br><span class=\"line\"><span class=\"xml\">     * @param &#123;Number&#125; f 小数最大位数</span></span><br><span class=\"line\"><span class=\"xml\">     * @param &#123;Object&#125; options 配置</span></span><br><span class=\"line\"><span class=\"xml\">     *    isMoreThanZero: 是否强制大于0</span></span><br><span class=\"line\"><span class=\"xml\">     *    canNegative: 是否允许输入负数</span></span><br><span class=\"line\"><span class=\"xml\">     */</span></span><br><span class=\"line\"><span class=\"xml\">    float(i, f, options = &#123;&#125;) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      return &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        validator: (rule, value, callback) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          let reg</span></span><br><span class=\"line\"><span class=\"xml\">          let msg</span></span><br><span class=\"line\"><span class=\"xml\">          if (f == 0) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            reg = new RegExp(`^-?\\\\d&#123;1,$&#123;i&#125;&#125;$`)</span></span><br><span class=\"line\"><span class=\"xml\">          &#125; else &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            reg = new RegExp(`^-?\\\\d&#123;1,$&#123;i&#125;&#125;(\\\\.\\\\d&#123;1,$&#123;f&#125;&#125;)?$`)</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;</span></span><br><span class=\"line\"><span class=\"xml\">          if (!value) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            callback()</span></span><br><span class=\"line\"><span class=\"xml\">          &#125; else &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            if (reg.test(value)) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">              if (</span></span><br><span class=\"line\"><span class=\"xml\">                (options.isMoreThanZero &amp;&amp; Number(value) <span class=\"tag\">&lt;<span class=\"name\">=</span> <span class=\"attr\">0</span>)</span></span></span><br><span class=\"line\"><span class=\"xml\">                || (!options.canNegative &amp;&amp; Number(value) <span class=\"tag\">&lt; <span class=\"attr\">0</span>)</span></span></span><br><span class=\"line\"><span class=\"xml\">              ) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                msg = '请输入大于零的数值'</span></span><br><span class=\"line\"><span class=\"xml\">              &#125; else &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                callback()</span></span><br><span class=\"line\"><span class=\"xml\">              &#125;</span></span><br><span class=\"line\"><span class=\"xml\">            &#125; else &#123;</span></span><br><span class=\"line\"><span class=\"xml\">              msg = `最多$&#123;i&#125;位整数`</span></span><br><span class=\"line\"><span class=\"xml\">              if (f != 0) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                msg += `$&#123;f&#125;位小数`</span></span><br><span class=\"line\"><span class=\"xml\">              &#125;</span></span><br><span class=\"line\"><span class=\"xml\">            &#125;</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;</span></span><br><span class=\"line\"><span class=\"xml\">          if (msg) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            callback(new Error(makeMsg(msg, options.extraMsg)))</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">        trigger: 'blur'</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">    /*</span></span><br><span class=\"line\"><span class=\"xml\">      不允许输入全部是空格</span></span><br><span class=\"line\"><span class=\"xml\">     */</span></span><br><span class=\"line\"><span class=\"xml\">    notAllBlank(label) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      return &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        validator: (rule, value = '', callback) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          if (value.trim().length == 0) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            callback(new Error(`$&#123;label&#125;不能全部是空格`))</span></span><br><span class=\"line\"><span class=\"xml\">          &#125; else &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            callback()</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">        trigger: 'blur'</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">    /**</span></span><br><span class=\"line\"><span class=\"xml\">     * 千分位</span></span><br><span class=\"line\"><span class=\"xml\">     * @param &#123;*&#125; str 字符串数字</span></span><br><span class=\"line\"><span class=\"xml\">     */</span></span><br><span class=\"line\"><span class=\"xml\">    format(str) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      if (!str) return str</span></span><br><span class=\"line\"><span class=\"xml\">      str = str.toString()</span></span><br><span class=\"line\"><span class=\"xml\">      let minus = false</span></span><br><span class=\"line\"><span class=\"xml\">      if (/^-/.test(str)) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        minus = true</span></span><br><span class=\"line\"><span class=\"xml\">        str = str.replace(/^-/, '')</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"><span class=\"xml\">      let [int, float] = str.split('.')</span></span><br><span class=\"line\"><span class=\"xml\">      let result = []</span></span><br><span class=\"line\"><span class=\"xml\">      for (let i = 0; i <span class=\"tag\">&lt; <span class=\"attr\">int.length</span>; <span class=\"attr\">i</span>++) &#123;</span></span></span><br><span class=\"line\"><span class=\"xml\">        result = [int[int.length - i - 1], ...result]</span></span><br><span class=\"line\"><span class=\"xml\">        if (i % 3 == 2 &amp;&amp; i != int.length - 1) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          result = [',', ...result]</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"><span class=\"xml\">      if (float) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        return `$&#123;minus ? '-' : ''&#125;$&#123;result.join('')&#125;.$&#123;float&#125;`</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"><span class=\"xml\">      return `$&#123;minus ? '-' : ''&#125;$&#123;result.join('')&#125;`</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;</span></span><br><span class=\"line\"><span class=\"xml\">&#125;</span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"less\"</span> <span class=\"attr\">scoped</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">@import '~__assets/var.less';</span></span><br><span class=\"line\"><span class=\"xml\">@import url('//at.alicdn.com/t/font_1712723_tp9lsy2fuua.css');</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">.f-fr &#123;</span></span><br><span class=\"line\"><span class=\"xml\">  float: right;</span></span><br><span class=\"line\"><span class=\"xml\">&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">.f-tooltip &#123;</span></span><br><span class=\"line\"><span class=\"xml\">  max-width: 700px !important;</span></span><br><span class=\"line\"><span class=\"xml\">  word-wrap: break-word !important;</span></span><br><span class=\"line\"><span class=\"xml\">&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">.show-btn &#123;</span></span><br><span class=\"line\"><span class=\"xml\">  position: absolute;</span></span><br><span class=\"line\"><span class=\"xml\">  right: 20px;</span></span><br><span class=\"line\"><span class=\"xml\">  top: 13px;</span></span><br><span class=\"line\"><span class=\"xml\">&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">/deep/ .cell &#123;</span></span><br><span class=\"line\"><span class=\"xml\">  user-select: text;</span></span><br><span class=\"line\"><span class=\"xml\">&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">/deep/ .el-table__row &#123;</span></span><br><span class=\"line\"><span class=\"xml\">  td &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    &amp;:last-child &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      .cell &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        max-height: 60px;</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;</span></span><br><span class=\"line\"><span class=\"xml\">&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">.dialog-total &#123;</span></span><br><span class=\"line\"><span class=\"xml\">  height: 32px;</span></span><br><span class=\"line\"><span class=\"xml\">  text-align: right;</span></span><br><span class=\"line\"><span class=\"xml\">&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">.error-info &#123;</span></span><br><span class=\"line\"><span class=\"xml\">  color: @c-err;</span></span><br><span class=\"line\"><span class=\"xml\">  font-size: 16px;</span></span><br><span class=\"line\"><span class=\"xml\">  line-height: 24px;</span></span><br><span class=\"line\"><span class=\"xml\">&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">.f-i-btn &#123;</span></span><br><span class=\"line\"><span class=\"xml\">  font-size: 16px;</span></span><br><span class=\"line\"><span class=\"xml\">&#125;</span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p>参考链接：</p>\n<ul>\n<li><a href=\"https://element.eleme.cn/#/zh-CN/component/table\" target=\"_blank\" rel=\"noopener\">Table 表格</a></li>\n<li><a href=\"https://www.cnblogs.com/jiajialove/p/10740217.html\" target=\"_blank\" rel=\"noopener\">elementUi中input输入字符光标在输入一个字符后，光标失去焦点</a></li>\n</ul>\n","tags":["Element"]},{"title":"2019年终总结","url":"/2020/01/14/2019%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/","content":"<p>  a、2019年做了哪些工作，列举出最重要的三项并阐述每一项工作取得的效果；</p>\n<p> b、这三项工作当中有哪些做得好的，哪些做得不好的，要有详尽的分析；</p>\n<p> c、2020年自己的能力提升计划和关键动作是什么。</p>\n<figure class=\"highlight asciidoc\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">- </span>单店分析模型</span><br><span class=\"line\"><span class=\"bullet\">- </span>样式、地图</span><br><span class=\"line\"><span class=\"bullet\">- </span>户口簿</span><br><span class=\"line\"><span class=\"bullet\">- </span>单一模块拆分组件</span><br><span class=\"line\"><span class=\"bullet\">- </span>老平台支出预算模块优化</span><br></pre></td></tr></table></figure>\n<h4 id=\"功能更加细化\"><a href=\"#功能更加细化\" class=\"headerlink\" title=\"功能更加细化\"></a>功能更加细化</h4><p>2019年的工作，主要做了支出预算管理优化、个人额度、万村批量付款、经营指标管理ce&amp;noi济南试点。从不懂为什么要做这样的需求，到逐渐理解。印象最深刻的就是【户口簿】【老平台支出预算模块优化】【单店分析模型】。</p>\n<p>资产户口簿列表多，编辑逻辑复杂，因为是在新平台上开发，有严格的eslint规范，所以需要做到细分功能模块，做组件拆分和复用。详情涉及到36个Number类型字段，且都可以修改。不仅区分出手填和一般编辑，还细分出调值和调账功能。对用户角色做了可操作权限的严格区分。详情页的拆成一个table，只负责做展示功能，可编辑功能拆分表格，渲染不同的弹窗模式。</p>\n<p>先判断当前用户权限，再去调用操作逻辑代码。</p>\n<h4 id=\"组件还有优化空间\"><a href=\"#组件还有优化空间\" class=\"headerlink\" title=\"组件还有优化空间\"></a>组件还有优化空间</h4><p>老平台支出预算模块优化。今年一年总是在【修修补补】这部分模块的功能。一点点的删除和替换旧语法和逻辑代码，换成es6的简介写法。尝试把多处重复使用的css文件改为less写法并压缩。把ajax请求改成手动异步模式。</p>\n<p>但是目前为止还是下手紧张，进度缓慢。代码文件还是过大，部分js文件超过了100kb。</p>\n<p>单店分析模型 也遇到了和户口簿一样的问题，表单多，需要拆分多个。比较特殊的是没有办法做到代码复用，每一个表单都是独一无二的。样式特殊，需要手动绘制页面，还涉及到饼图和柱状图。</p>\n<p>最大的问题就是地图样式问题，因为时间紧迫使用了v-chart，缺少官方文档。没有研究出来如何自定义样式地图，是坤哥帮忙查看源码解决了这个问题，感谢坤哥。</p>\n<h4 id=\"2020年自己的能力提升计划\"><a href=\"#2020年自己的能力提升计划\" class=\"headerlink\" title=\"2020年自己的能力提升计划\"></a>2020年自己的能力提升计划</h4><p>需要从用户的角度思考功能点交互细节</p>\n<p>持续思考提升工程质量的方式，如 TypeScript、Code Review 和自动化测试等</p>\n<p>继续研究自动化测试相关。</p>\n<h4 id=\"对门店线一组对期望和想法。\"><a href=\"#对门店线一组对期望和想法。\" class=\"headerlink\" title=\"对门店线一组对期望和想法。\"></a>对门店线一组对期望和想法。</h4><p>迭代时间最长不要超过三周。</p>\n<p>更加严谨的执行测试用例。</p>\n","tags":["生活"]},{"title":"Promise控制请求并发次数","url":"/2023/03/01/Promise%E6%8E%A7%E5%88%B6%E8%AF%B7%E6%B1%82%E5%B9%B6%E5%8F%91%E6%AC%A1%E6%95%B0/","content":"<h4 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h4><p>接手了一个老项目，启动后首页打开请求三十几个接口，人都崩溃。只能想办法写promise优化下，现在基本上前端项目都是通过axios来实现异步请求的封装，异步编程。</p>\n<h4 id=\"明确概念\"><a href=\"#明确概念\" class=\"headerlink\" title=\"明确概念\"></a>明确概念</h4><p>这里有几个概念需要明确一下</p>\n<ul>\n<li>并发：并发是多个任务同时交替的执行（因为cpu执行指令的速度非常之快，它可以不必按顺序一段代码一段代码的执行，这样效率反而更加低下），这样看起来就是一起执行的，所以叫并发。</li>\n<li>并行：可以理解为多个物理cpu或者有分布式系统，是真正的’同时’执行</li>\n<li>并发控制：意思是多个并发的任务，一旦有任务完成，就立刻开启下一个任务</li>\n<li>切片控制：将并发任务切片的分配出来，比如10个任务，切成2个片，每片有5个任务，当前一片的任务执行完毕，再开始下一个片的任务，这样明显效率没并发控制那么高了</li>\n</ul>\n<h4 id=\"思路\"><a href=\"#思路\" class=\"headerlink\" title=\"思路\"></a>思路</h4><p>首先执行能执行的并发任务，根据并发的概念，每个任务执行完毕后，捞起下一个要执行的任务。</p>\n<p>将关键步骤拆分出合适的函数来组织代码</p>\n<ol>\n<li>循环去启动能执行的任务</li>\n<li>取出任务并且推到执行器执行</li>\n<li>执行器内更新当前的并发数，并且触发捞起任务</li>\n<li>捞起任务里面可以触发最终的回调函数和调起执行器继续执行任务</li>\n</ol>\n<figure class=\"highlight typescript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 设计一个函数，可以限制请求的并发，同时请求结束之后，调用callback函数</span></span><br><span class=\"line\"><span class=\"comment\">// sendRequest(requestList:,limits,callback):void</span></span><br><span class=\"line\">sendRequest(</span><br><span class=\"line\"></span><br><span class=\"line\">    [<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> request(<span class=\"string\">'1'</span>),</span><br><span class=\"line\"></span><br><span class=\"line\">    () =&gt; request(<span class=\"string\">'2'</span>),</span><br><span class=\"line\"></span><br><span class=\"line\">    () =&gt; request(<span class=\"string\">'3'</span>),</span><br><span class=\"line\"></span><br><span class=\"line\">    () =&gt; request(<span class=\"string\">'4'</span>)],</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"number\">3</span>, <span class=\"comment\">//并发数</span></span><br><span class=\"line\"></span><br><span class=\"line\">    (res) =&gt; &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(res)</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 其中request 可以是： </span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">request</span>(<span class=\"params\">url, time = 1</span>) </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">'请求结束：'</span> + url);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"built_in\">Math</span>.random() &gt; <span class=\"number\">0.5</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">                resolve(<span class=\"string\">'成功'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">                reject(<span class=\"string\">'错误;'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;, time * <span class=\"number\">1e3</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sendRequest</span>(<span class=\"params\">requestList,limits,callback</span>)</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 维护一个promise队列</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> promises = []</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 当前的并发池,用Set结构方便删除</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> pool = <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>() <span class=\"comment\">// set也是Iterable&lt;any&gt;[]类型，因此可以放入到race里</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 开始并发执行所有的任务</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> request <span class=\"keyword\">of</span> requestList)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 开始执行前，先await 判断 当前的并发任务是否超过限制</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(pool.size &gt;= limits)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 这里因为没有try catch ，所以要捕获一下错误，不然影响下面微任务的执行</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">await</span> <span class=\"built_in\">Promise</span>.race(pool)</span><br><span class=\"line\"></span><br><span class=\"line\">            .catch(<span class=\"function\"><span class=\"params\">err</span>=&gt;</span>err)</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">const</span> promise = request()<span class=\"comment\">// 拿到promise</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 删除请求结束后，从pool里面移除</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">const</span> cb = <span class=\"function\"><span class=\"params\">()</span>=&gt;</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            pool.delete(promise)</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 注册下then的任务</span></span><br><span class=\"line\"></span><br><span class=\"line\">        promise.then(cb,cb)</span><br><span class=\"line\"></span><br><span class=\"line\">        pool.add(promise)</span><br><span class=\"line\"></span><br><span class=\"line\">        promises.push(promise)</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 等最后一个for await 结束，这里是属于最后一个 await 后面的 微任务</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 注意这里其实是在微任务当中了，当前的promises里面是能确保所有的promise都在其中(前提是await那里命中了if)</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"built_in\">Promise</span>.allSettled(promises).then(callback,callback)</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","tags":["工作笔记"]},{"title":"Vue中样式覆盖-style的scoped属性","url":"/2017/07/06/Vue%E4%B8%AD%E6%A0%B7%E5%BC%8F%E8%A6%86%E7%9B%96-style%E7%9A%84scoped%E5%B1%9E%E6%80%A7/","content":"<h5 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h5><p>  &emsp;项目使用Vue和ElementUi，想要覆盖ElementUi默认的输入框样式，新增自定义CSS样式，根据el-input编译后生成的class修改，但是样式并不生效。<br> 后来发现修改<br><figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text/css\"</span> <span class=\"attr\">scoped</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure></p>\n<p>标签里的<font color=\"#4bcc8e\">scoped</font>删除就生效了。  </p>\n<h5 id=\"原因\"><a href=\"#原因\" class=\"headerlink\" title=\"原因\"></a>原因</h5><p>  &emsp;<font color=\"#4bcc8e\">scope</font>可以做到样式私有化，及当前样式只作用于当前模块，不会影响全局。</p>\n<p> &emsp;通过查看DOM结构发现：vue通过在DOM结构以及css样式上加唯一不重复的标记，以保证唯一，达到样式私有化模块化的目的。具体的渲染结果是怎样的，通过一个例子来说明。</p>\n<h5 id=\"举个栗子\"><a href=\"#举个栗子\" class=\"headerlink\" title=\"举个栗子\"></a>举个栗子</h5><p> &emsp;一个公共组件button，为了样式模块化，给其加上<font color=\"#4bcc8e\">scoped</font>属性</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\">//button.vue</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"button-warp\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">\"button\"</span>&gt;</span>text<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">scoped</span>&gt;</span></span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-class\">.button-warp</span>&#123;</span></span><br><span class=\"line\"><span class=\"css\">        <span class=\"selector-tag\">display</span><span class=\"selector-pseudo\">:inline-block</span>;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-class\">.button</span>&#123;</span></span><br><span class=\"line\">        padding: 5px 10px;</span><br><span class=\"line\">        font-size: 12px;</span><br><span class=\"line\">        border-radus: 2px;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>&emsp;浏览器渲染的button组件，其html和css结构如下：</p>\n<figure class=\"highlight applescript\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;<span class=\"keyword\">div</span> data-v<span class=\"number\">-2311</span>c06a <span class=\"built_in\">class</span>=<span class=\"string\">\"button-warp\"</span>&gt;</span><br><span class=\"line\">    &lt;button data-v<span class=\"number\">-2311</span>c06a <span class=\"built_in\">class</span>=<span class=\"string\">\"button\"</span>&gt;<span class=\"built_in\">text</span>&lt;/button&gt;</span><br><span class=\"line\">&lt;/<span class=\"keyword\">div</span>&gt;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.button-warp</span><span class=\"selector-attr\">[data-v-2311c06a]</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>:inline-block;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.button</span><span class=\"selector-attr\">[data-v-2311c06a]</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">5px</span> <span class=\"number\">10px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">12px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border-radus</span>: <span class=\"number\">2px</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>&emsp;从上面的案例可以看出，添加了<font color=\"#4bcc8e\">scoped</font>属性的组件，为了达到组件样式模块化，做了两个处理：</p>\n<ul>\n<li>给 <code>HTML</code>的 <code>DOM</code>节点加一个不重复data属性(形如：data-v-2311c06a)来表示他的唯一性</li>\n<li>在每句 <code>css</code>选择器的末尾（编译后的生成的css语句）加一个当前组件的data属性选择器（如[data-v-2311c06a]）来私有化样式</li>\n</ul>\n<p>&emsp;但这势必影响到css的优先级，<font color=\"#4bcc8e\">scoped</font>虽然达到了组件样式模块化，但是会导致每个样式的<code>权重加重</code>。理论上我们要修改这个样式的话，需要更高的权重去修改，增加了复杂度。</p>\n<h5 id=\"外部引用\"><a href=\"#外部引用\" class=\"headerlink\" title=\"外部引用\"></a>外部引用</h5><p>&emsp;栗子说明了单个组件渲染，当遇到组件相互调用，如果组件内部包含有其他组件，只会给其他组件的最外层标签加上当前组件的data属性。</p>\n<h5 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h5><p>&emsp;vue-loader的深度作用选择器。  </p>\n<p>&emsp;在vue.js中，<code>&lt;style scoped&gt;</code>的作用域在本<code>html</code>页面，<code>&lt;style&gt;</code>样式的作用域则是全局（即所有html页面），由于我把其中一个html页面的<code>&lt;style scoped&gt;</code><font color=\"#4bcc8e\">scoped</font>去掉，这个页面的样式就变成了全局样式，当其它页面和这些全局样式重<code>class</code>名时，样式会被覆盖（vue默认全局样式覆盖局部样式），这样就导致当前页面定义样式影响到全局样式。</p>\n<p>&emsp;如何在<code>&lt;style scoped&gt;</code>局部样式中覆盖全局样式：父组件cssName+ /deep/+第三方库需要更改的cssName</p>\n<figure class=\"highlight coffeescript\"><table><tr><td class=\"code\"><pre><span class=\"line\">比如修改<span class=\"class\"><span class=\"keyword\">class</span>为<span class=\"title\">el</span>-<span class=\"title\">input__inner</span>的元素，</span></span><br><span class=\"line\">它的父<span class=\"class\"><span class=\"keyword\">class</span>为<span class=\"title\">input_percent</span>，</span></span><br><span class=\"line\">则在style中写入input_percent <span class=\"regexp\">/deep/</span> .el-input__inner &#123;&#125;即可</span><br></pre></td></tr></table></figure>\n","tags":["Vue"]},{"title":"H5开发配置","url":"/2020/03/11/H5%E5%BC%80%E5%8F%91%E9%85%8D%E7%BD%AE/","content":"<h3 id=\"whistle\"><a href=\"#whistle\" class=\"headerlink\" title=\"whistle\"></a>whistle</h3><p>全局安装 whistle , <a href=\"https://git.inboyu.com/platform/partner-ui\" target=\"_blank\" rel=\"noopener\">文档地址</a></p>\n<p>使用时用 git 命令行 <code>w2 start</code>，关闭使用<code>w2 stop</code></p>\n<p>rules 目录配置</p>\n<p>ip 地址为项目运行后<code>npm run dev</code>后的 ip 结果</p>\n<p><img src=\"http://vky-test-oss.inboyu.com/upload/39fe4b99-6eff-d03b-4976-14643d81bde1.png\" alt=\"image\"></p>\n<h3 id=\"value-目录下配置\"><a href=\"#value-目录下配置\" class=\"headerlink\" title=\"value 目录下配置\"></a>value 目录下配置</h3><figure class=\"highlight routeros\"><table><tr><td class=\"code\"><pre><span class=\"line\">vsconsole</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script <span class=\"attribute\">src</span>=<span class=\"string\">\"https://cdn.bootcdn.net/ajax/libs/vConsole/3.3.4/vconsole.min.js\"</span>&gt;&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"builtin-name\">run</span> vsconsole</span><br><span class=\"line\"></span><br><span class=\"line\">var vConsole = new VConsole();</span><br></pre></td></tr></table></figure>\n<p><img src=\"http://vky-test-oss.inboyu.com/upload/39fe4b9b-086a-e41b-199f-4bebcfac8304.png\" alt=\"image\"></p>\n<h4 id=\"配置证书\"><a href=\"#配置证书\" class=\"headerlink\" title=\"配置证书\"></a>配置证书</h4><p><img src=\"http://vky-test-oss.inboyu.com/upload/39fe4b9b-a80d-2183-fef6-f6d72268e8dd.png\" alt=\"image\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">注意：证书必须安装在企业信任的目录下，不然配置不会成功</span><br></pre></td></tr></table></figure>\n<h5 id=\"whistle-script\"><a href=\"#whistle-script\" class=\"headerlink\" title=\"whistle script\"></a>whistle script</h5><p>安装 script 插件，<a href=\"https://github.com/whistle-plugins/whistle.script\" target=\"_blank\" rel=\"noopener\">下载地址</a></p>\n<figure class=\"highlight cmake\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm <span class=\"keyword\">install</span> -g whistle</span><br><span class=\"line\">npm <span class=\"keyword\">install</span> -g whistle.script</span><br></pre></td></tr></table></figure>\n<p><img src=\"http://vky-test-oss.inboyu.com/upload/39fe4b9c-6094-d8d8-7127-9fdb6fe0b820.png\" alt=\"image\"></p>\n<h4 id=\"Proxy-SwitchyOmega\"><a href=\"#Proxy-SwitchyOmega\" class=\"headerlink\" title=\"Proxy SwitchyOmega\"></a>Proxy SwitchyOmega</h4><p>谷歌浏览器安装插件，使用的时候选择【proxy】情景模式</p>\n<p><img src=\"http://vky-test-oss.inboyu.com/upload/39fe4b9c-da72-cc89-1135-70cdbe954378.png\" alt=\"image\"></p>\n<p><a href=\"chrome-extension://padekgcemlokbadohgkifijomclgjgif/options.html#!/profile/proxy\" target=\"_blank\" rel=\"noopener\">服务器配置</a></p>\n","tags":["移动开发"]},{"title":"Taro使用笔记","url":"/2021/05/09/Taro%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/","content":"<p>最近小程序做的实在是踩坑辛酸泪，做个笔记记录下吧</p>\n<p><a href=\"https://taro-docs.jd.com/taro/docs/\" target=\"_blank\" rel=\"noopener\">官方使用文档</a>对脚手架的下载和项目创建和运行项目，仔细看完快速上手很详细，就是很多运行起来意料之外的bug</p>\n<h5 id=\"路由配置\"><a href=\"#路由配置\" class=\"headerlink\" title=\"路由配置\"></a>路由配置</h5><p>配置路由中我们要注意，创建的页面不会像uniapp那样自动给配置进全局配置里，需要手动对app.jsx进行配置。这里的报错就是没找到这个module，配置了还不行，改变了app.js必须重新运行，才会生效。</p>\n<figure class=\"highlight flix\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// src/app.jsx</span></span><br><span class=\"line\">pages: [ <span class=\"comment\">// 路由</span></span><br><span class=\"line\">  'pages/home/<span class=\"keyword\">index</span>',</span><br><span class=\"line\">  'pages/kind/<span class=\"keyword\">index</span>',</span><br><span class=\"line\">  'pages/cart/<span class=\"keyword\">index</span>',</span><br><span class=\"line\">  'pages/user/<span class=\"keyword\">index</span>',</span><br><span class=\"line\">  'pages/<span class=\"keyword\">index</span>/<span class=\"keyword\">index</span>'</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<h5 id=\"页面配置\"><a href=\"#页面配置\" class=\"headerlink\" title=\"页面配置\"></a>页面配置</h5><p>在Taro中的页面配置并没有分一个单独的写，而是直接在组件中写</p>\n<p>当然你想要下拉刷新的时候必须在这里面进行配置，否则就算在下拉刷新的周期里写了也不会有任何反应</p>\n<figure class=\"highlight scala\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Home</span> <span class=\"keyword\">extends</span> <span class=\"title\">Component</span></span>&#123;</span><br><span class=\"line\">  config = &#123;</span><br><span class=\"line\">      navigationBarBackgroundColor: '#ffffff',</span><br><span class=\"line\">      navigationBarTextStyle: <span class=\"symbol\">'blac</span>k',</span><br><span class=\"line\">      navigationBarTitleText: '测试',</span><br><span class=\"line\">      backgroundColor: '#eeeeee',</span><br><span class=\"line\">      backgroundTextStyle: <span class=\"symbol\">'ligh</span>t',</span><br><span class=\"line\">      enablePullDownRefresh:<span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> ｝</span><br></pre></td></tr></table></figure>\n<h5 id=\"公共请求封装\"><a href=\"#公共请求封装\" class=\"headerlink\" title=\"公共请求封装\"></a>公共请求封装</h5><p>在请求数据的时候，单独写的一个js让全部请求都能够使用，你这时候就不能光看一个请求区适配，有些有数据传，有些没数据传。有些get有些post这是后你就需要给其设定默认值，需要考虑好封装的请求大兼容性</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> Taro <span class=\"keyword\">from</span> <span class=\"string\">'@tarojs/taro'</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> baseUrl=<span class=\"string\">\"http://xxxx\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">request</span>(<span class=\"params\">options</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> &#123;url,method,data&#125;=options</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class=\"line\">    Taro.request(&#123;</span><br><span class=\"line\">      url:baseUrl+url,</span><br><span class=\"line\">      method:method||<span class=\"string\">'GET'</span>,</span><br><span class=\"line\">      data:data||&#123;&#125;,</span><br><span class=\"line\">      success:<span class=\"function\"><span class=\"params\">res</span>=&gt;</span>&#123;</span><br><span class=\"line\">        resolve(res)</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      fail:<span class=\"function\"><span class=\"params\">res</span>=&gt;</span>&#123;</span><br><span class=\"line\">        reject(res)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"计算页面高度\"><a href=\"#计算页面高度\" class=\"headerlink\" title=\"计算页面高度\"></a>计算页面高度</h5><p>页面滚动到某个元素的时候，固定导航栏，小程序需要获取某个元素的高度。这个元素在子组件中。</p>\n<p>也就是如何获取自定义组件中某个元素的信息。微信官方是使用this.createSelectorQuery。但是在taro小程序中，子组件使用this.createSelectorQuery会报错，直接抛出 this.createSelectorQuery is not a function。大部分百度信息是加延时。但是加了延时也不作用～</p>\n<p>taro中正确用法：使用in(this.$scope)</p>\n<figure class=\"highlight less\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">wx</span><span class=\"selector-class\">.createSelectorQuery</span>()<span class=\"selector-class\">.in</span>(this.$scope)<span class=\"selector-class\">.select</span>(<span class=\"string\">'.replay-content'</span>)<span class=\"selector-class\">.boundingClientRect</span>(function (<span class=\"attribute\">rect</span>: any) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"comment\">// to do</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;)<span class=\"selector-class\">.exec</span>()</span><br></pre></td></tr></table></figure>\n<h5 id=\"defaultProps\"><a href=\"#defaultProps\" class=\"headerlink\" title=\"defaultProps\"></a>defaultProps</h5><p>子组件中接收的props需要定义defaultProps。否则小程序端报错</p>\n<p>期间还踩了大坑，在 Taro 中，JS 代码里必须书写单引号，特别是 JSX 中，如果出现双引号，可能会导致编译错误</p>\n<p>小程序受限于wxml语法，也不支持扩展运算符</p>\n<h5 id=\"jsx\"><a href=\"#jsx\" class=\"headerlink\" title=\"jsx\"></a>jsx</h5><p>小程序端不支持在render()之外定义jsx。比如在外面renderForm()</p>\n<p>最后一项就是我自己的问题了，在关于计算属性时，由于之前是使用vue，而我经常使用computed来计算值直接渲染视图，我在使用Taro的时候就一直在寻找有没有对应的函数能够给我使用，最后看过案例后，才想起数据渲染视图这句话，我并不需要对应的方法使用同样可以得到我想要的结果，我在componentDidShow(){}函数中用进入时请求的值先行计算赋给state然后在计算的值改变的操作中再次调用此函数，最后能够在数据改变的时候让计算的值得到更新。</p>\n","tags":["前端","学习","微信小程序"]},{"title":"markdown语法","url":"/2017/03/09/markdown%E8%AF%AD%E6%B3%95/","content":"<ul>\n<li><a href=\"#1\">强调</a></li>\n<li><a href=\"#2\">分割线</a></li>\n<li><a href=\"#3\">引用</a></li>\n<li><a href=\"#4\">嵌套列表</a></li>\n<li><a href=\"#5\">段落缩进（空格）</a></li>\n<li><a href=\"#6\">字体、字号、颜色</a></li>\n<li><a href=\"#7\">标签</a></li>\n<li><a href=\"#8\">换行</a></li>\n<li><a href=\"#9\">首行缩进</a></li>\n<li><a href=\"#10\">流程图（mermaid语法）</a></li>\n</ul>\n<ul>\n<li>当前目录使用的索引超链的方式</li>\n</ul>\n<p><span id=\"1\"></span></p>\n<h4 id=\"强调\"><a href=\"#强调\" class=\"headerlink\" title=\"强调\"></a>强调</h4><figure class=\"highlight maxima\"><table><tr><td class=\"code\"><pre><span class=\"line\">**强调文字**</span><br><span class=\"line\"><span class=\"symbol\">__</span>强调文字<span class=\"symbol\">__</span></span><br><span class=\"line\"></span><br><span class=\"line\">*强调文字</span><br><span class=\"line\">强调文字*</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">_</span>强调文字<span class=\"symbol\">_</span></span><br></pre></td></tr></table></figure>\n<p><strong>强调文字</strong><br><strong>强调文字</strong></p>\n<p><em>强调文字<br>强调文字</em></p>\n<p><em>强调文字</em></p>\n<p><span id=\"2\"></span></p>\n<h4 id=\"分割线\"><a href=\"#分割线\" class=\"headerlink\" title=\"分割线\"></a>分割线</h4><figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<hr>\n<p><span id=\"3\"></span></p>\n<h4 id=\"引用\"><a href=\"#引用\" class=\"headerlink\" title=\"引用\"></a>引用</h4><figure class=\"highlight shell\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;</span><span class=\"bash\">引用</span></span><br><span class=\"line\"><span class=\"meta\"> &gt;</span><span class=\"bash\">&gt;引用中的引用</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>引用</p>\n<blockquote>\n<p>引用中的引用<br><span id=\"4\"></span></p>\n</blockquote>\n</blockquote>\n<h4 id=\"嵌套列表\"><a href=\"#嵌套列表\" class=\"headerlink\" title=\"嵌套列表\"></a>嵌套列表</h4><figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">- </span>嵌套列表1</span><br><span class=\"line\"><span class=\"bullet\"> + </span>嵌套列表2</span><br><span class=\"line\"><span class=\"bullet\"> + </span>嵌套列表3</span><br><span class=\"line\"><span class=\"bullet\">  - </span>嵌套列表4</span><br><span class=\"line\"><span class=\"bullet\">   * </span>嵌套列表5</span><br><span class=\"line\"><span class=\"bullet\">- </span>嵌套列表6</span><br></pre></td></tr></table></figure>\n<ul>\n<li>嵌套列表1<ul>\n<li>嵌套列表2</li>\n<li>嵌套列表3</li>\n</ul>\n<ul>\n<li>嵌套列表4<ul>\n<li>嵌套列表5</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>嵌套列表6</li>\n</ul>\n<p><span id=\"5\"></span></p>\n<h4 id=\"段落缩进\"><a href=\"#段落缩进\" class=\"headerlink\" title=\"段落缩进\"></a>段落缩进</h4><figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\">半方大的空白<span class=\"symbol\">&amp;ensp;</span>或<span class=\"symbol\">&amp;#8194;</span>看，飞碟</span><br><span class=\"line\">全方大的空白<span class=\"symbol\">&amp;emsp;</span>或<span class=\"symbol\">&amp;#8195;</span>看，飞碟</span><br><span class=\"line\">不断行的空白格<span class=\"symbol\">&amp;nbsp;</span>或<span class=\"symbol\">&amp;#160;</span>看，飞碟</span><br><span class=\"line\"><span class=\"symbol\">&amp;emsp;</span><span class=\"symbol\">&amp;emsp;</span>段落从此开始。</span><br></pre></td></tr></table></figure>\n<p>半方大的空白&ensp;或&#8194;看，飞碟</p>\n<p>全方大的空白&emsp;或&#8195;看，飞碟</p>\n<p>不断行的空白格&nbsp;或&#160;看，飞碟</p>\n<p>&emsp;&emsp;段落从此开始。</p>\n<p><span id=\"6\"></span></p>\n<h4 id=\"字体、字号、颜色\"><a href=\"#字体、字号、颜色\" class=\"headerlink\" title=\"字体、字号、颜色\"></a>字体、字号、颜色</h4><figure class=\"highlight routeros\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;font <span class=\"attribute\">face</span>=<span class=\"string\">\"黑体\"</span>&gt;我是黑体字&lt;/font&gt;</span><br><span class=\"line\">&lt;font <span class=\"attribute\">face</span>=<span class=\"string\">\"微软雅黑\"</span>&gt;我是微软雅黑&lt;/font&gt;</span><br><span class=\"line\">&lt;font <span class=\"attribute\">face</span>=<span class=\"string\">\"STCAIYUN\"</span>&gt;我是华文彩云&lt;/font&gt;</span><br><span class=\"line\">&lt;font <span class=\"attribute\">color</span>=#0099ff <span class=\"attribute\">size</span>=12 <span class=\"attribute\">face</span>=<span class=\"string\">\"黑体\"</span>&gt;黑体&lt;/font&gt;</span><br><span class=\"line\">&lt;font <span class=\"attribute\">color</span>=#00ffff <span class=\"attribute\">size</span>=3&gt;null&lt;/font&gt;</span><br><span class=\"line\">&lt;font <span class=\"attribute\">color</span>=gray <span class=\"attribute\">size</span>=5&gt;gray&lt;/font&gt;</span><br></pre></td></tr></table></figure>\n<font face=\"黑体\">我是黑体字</font>\n\n<font face=\"微软雅黑\">我是微软雅黑</font>\n\n<font face=\"STCAIYUN\">我是华文彩云</font>\n\n<font color=\"#4bcc8e\" size=\"6\" face=\"黑体\">黑体</font>\n\n<font color=\"#4bcc8e\" size=\"3\">null</font>\n\n<font color=\"gray\" size=\"5\">gray</font>\n\n<p><span id=\"7\"></span></p>\n<h4 id=\"标签\"><a href=\"#标签\" class=\"headerlink\" title=\"标签\"></a>标签</h4><figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">行内标签`</span><br></pre></td></tr></table></figure>\n<p>这是一个有颜色的<code>标签</code></p>\n<p><span id=\"8\"></span></p>\n<h4 id=\"换行\"><a href=\"#换行\" class=\"headerlink\" title=\"换行\"></a>换行</h4><ul>\n<li><p>使用br标签</p>\n</li>\n<li><p>在末尾敲击两个以上空白，然后回车</p>\n</li>\n</ul>\n<p><span id=\"9\"></span></p>\n<h4 id=\"首行缩进\"><a href=\"#首行缩进\" class=\"headerlink\" title=\"首行缩进\"></a>首行缩进</h4><p>使用特殊占位符<br>不同占位符所占空白是不一样大的。</p>\n<figure class=\"highlight dts\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">&amp;ensp</span>;或&amp;<span class=\"meta\">#8194; <span class=\"comment\">//半角</span></span></span><br><span class=\"line\"><span class=\"variable\">&amp;emsp</span>;或&amp;<span class=\"meta\">#8195; <span class=\"comment\">//全角</span></span></span><br><span class=\"line\"><span class=\"variable\">&amp;nbsp</span>;或&amp;<span class=\"meta\">#160;</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"全角输入情况下双击两次空格\"><a href=\"#全角输入情况下双击两次空格\" class=\"headerlink\" title=\"全角输入情况下双击两次空格\"></a>全角输入情况下双击两次空格</h5><p>这个方法我遇到一个问题：首段不能缩进</p>\n<p><span id=\"10\"></span></p>\n<h4 id=\"流程图（mermaid语法）\"><a href=\"#流程图（mermaid语法）\" class=\"headerlink\" title=\"流程图（mermaid语法）\"></a>流程图（mermaid语法）</h4><p>书写graph XX，用以确定将要绘制的流程图及其类型（XX表示流程图类型）。<br>流程图分为竖向和横向两大类，竖向包括自上而下和自下而上两种顺序，横向包括从右到左和从左到右两种顺序。<br><code>其对应语法分别为：graph TB/graph BT/graph RL/graph LR。</code></p>\n<p>TB - top bottom（自上而下）<br>BT - bottom top（自下而上）<br>RL - right left（从右到左）<br>LR - left right（从左到右）<br>TD: 默认方向，从上到下</p>\n<h5 id=\"连接线与箭头\"><a href=\"#连接线与箭头\" class=\"headerlink\" title=\"连接线与箭头\"></a>连接线与箭头</h5><p>一个箭头 -&gt; 只能表示一条线<br>要表示箭头，需要两个箭头 -&gt;&gt;<br>虚线用两个虚线表示 –&gt;&gt;</p>\n<figure class=\"highlight coq\"><table><tr><td class=\"code\"><pre><span class=\"line\">graph TD</span><br><span class=\"line\">A[模块A] --&gt;|<span class=\"type\">A1</span>| <span class=\"type\">B</span>(模块B)</span><br><span class=\"line\">B --&gt; C&#123;判断条件C&#125;</span><br><span class=\"line\">C --&gt;|<span class=\"type\">条件C1</span>| <span class=\"type\">D</span>&gt;模块D]</span><br><span class=\"line\">C --&gt;|<span class=\"type\">条件C2</span>| <span class=\"type\">E</span>((模块E))</span><br><span class=\"line\">C --&gt;|<span class=\"type\">条件C3</span>| <span class=\"type\">F</span>[<span class=\"string\">\"模块F(引号可转义特殊字符)\"</span>]</span><br></pre></td></tr></table></figure>\n<p>例子：</p>\n<figure class=\"highlight applescript\"><table><tr><td class=\"code\"><pre><span class=\"line\">- <span class=\"built_in\">id</span> 为汽车主键<span class=\"built_in\">id</span></span><br><span class=\"line\">- scar-<span class=\"built_in\">id</span> 为汽车车系<span class=\"built_in\">id</span></span><br><span class=\"line\">- 主要车的系列判断<span class=\"built_in\">id</span>为车辆系列ids</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight awk\"><table><tr><td class=\"code\"><pre><span class=\"line\">sequenceDiagram</span><br><span class=\"line\">carmodel-&gt;&gt;carinfo: http:<span class=\"regexp\">//</span>XX<span class=\"regexp\">/index.php/</span>src<span class=\"regexp\">/index/</span>carmodel<span class=\"regexp\">/id/</span><span class=\"number\">1</span></span><br><span class=\"line\">carinfo-&gt;&gt;carmodel: http:<span class=\"regexp\">//</span>XX<span class=\"regexp\">/index.php/</span>Src<span class=\"regexp\">/index/</span>carinfo?car_id=<span class=\"number\">13</span>&amp;scar_id=<span class=\"number\">19</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight awk\"><table><tr><td class=\"code\"><pre><span class=\"line\">sequenceDiagram</span><br><span class=\"line\">enginesize-&gt;&gt;caryear: http:<span class=\"regexp\">//</span>XX<span class=\"regexp\">/index.php/</span>Src<span class=\"regexp\">/index/</span>enginesize?car_id=<span class=\"number\">13</span>&amp;scar_id=<span class=\"number\">19</span></span><br><span class=\"line\">caryear-&gt;&gt;enginesize: http:<span class=\"regexp\">//</span>XX<span class=\"regexp\">/index.php/</span>Src<span class=\"regexp\">/index/</span>cartype?car_id=<span class=\"number\">13</span>&amp;scar_id=<span class=\"number\">19</span>&amp;dis_id=<span class=\"number\">1</span>&amp;year_id=<span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n","tags":["学习"]},{"title":"uni+微信小程序 js对象序列化字符串传参","url":"/2022/05/21/uni+%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%20js%E5%AF%B9%E8%B1%A1%E5%BA%8F%E5%88%97%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%BC%A0%E5%8F%82/","content":"<h5 id=\"需求\"><a href=\"#需求\" class=\"headerlink\" title=\"需求\"></a>需求</h5><p>url里需要传多个参数进行数据传递</p>\n<h5 id=\"传参：\"><a href=\"#传参：\" class=\"headerlink\" title=\"传参：\"></a>传参：</h5><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> item = <span class=\"built_in\">encodeURIComponent</span>(<span class=\"built_in\">JSON</span>.stringify(val))</span><br><span class=\"line\">uni.navigateTo(&#123;</span><br><span class=\"line\">\turl: <span class=\"string\">'/pages/item-detils'</span> + <span class=\"string\">'?data='</span> + item</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h5 id=\"解析：\"><a href=\"#解析：\" class=\"headerlink\" title=\"解析：\"></a>解析：</h5><figure class=\"highlight kotlin\"><table><tr><td class=\"code\"><pre><span class=\"line\">onLoad(e) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.<span class=\"keyword\">data</span> = JSON.parse(decodeURIComponent(e.<span class=\"keyword\">data</span>));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","tags":["微信小程序","uniapp","移动端"]},{"title":"setTimeout定时器 延迟bug","url":"/2022/12/09/setTimeout%E5%AE%9A%E6%97%B6%E5%99%A8%20%E5%BB%B6%E8%BF%9F/","content":"<h4 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h4><p>线上遇到bug，写了定时器，展示打卡时间读秒，结果定时器越跑延迟越大，用setTimeout fix了。记录下</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//timeRange为定时器时间间隔</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> startTime = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>().getTime();</span><br><span class=\"line\"><span class=\"keyword\">var</span> count = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">handle</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">     count++;</span><br><span class=\"line\">     <span class=\"keyword\">var</span> offset = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>().getTime() - (startTime + count * timeRange);</span><br><span class=\"line\">     <span class=\"keyword\">var</span> nextTime = timeRange - offset;</span><br><span class=\"line\">     <span class=\"keyword\">if</span> (nextTime &lt; <span class=\"number\">0</span>) nextTime = <span class=\"number\">0</span>;</span><br><span class=\"line\">     timer = setTimeout(handle, nextTime);</span><br><span class=\"line\">     totalDiatane += distanceBlock</span><br><span class=\"line\">     <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'distance'</span>).innerText = totalDiatane.toFixed(<span class=\"number\">2</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">timer = setTimeout(handle, timeRange);</span><br></pre></td></tr></table></figure>","tags":["微信小程序","uniapp","移动端"]},{"title":"uni+微信小程序 安卓图片空白bug","url":"/2022/12/19/uni-%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F-%E5%AE%89%E5%8D%93%E5%9B%BE%E7%89%87%E7%A9%BA%E7%99%BDbug/","content":"<p>一个超级无语的bug，<code>&lt;image&gt;</code>标签渲染图片，后端给的文件url，是不带诸如.png、.jpg等附件名称后缀的地址，直接返回了<code>https://xx.filename</code>的文件路径，在iOS和模拟器上能正常读取照片，在安卓上就会展示空白</p>\n<p>起初以为是没有把图片的https加入小程序配置的合法域名，<br>最后的解决方案，是把后端给的url图转换<code>base64</code>才行</p>\n<p>哎这个坑痛心疾首，记录下</p>\n<h4 id=\"实现效果\"><a href=\"#实现效果\" class=\"headerlink\" title=\"实现效果\"></a>实现效果</h4><p><img src=\"https://im3.ezgif.com/tmp/ezgif-3-78bfb1afb0.gif\" alt=\"示例图\"></p>\n<h4 id=\"图片上传公共方法\"><a href=\"#图片上传公共方法\" class=\"headerlink\" title=\"图片上传公共方法\"></a>图片上传公共方法</h4><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 本地选择的图片 - 转化为base64</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;*&#125;</span> </span>file uni.choseImage后拿到的path数组的第一个</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@returns</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">setBase64</span>(<span class=\"params\">file</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    uni.getFileSystemManager().readFile(&#123;</span><br><span class=\"line\">      filePath: file,</span><br><span class=\"line\">      encoding: <span class=\"string\">'base64'</span>,</span><br><span class=\"line\">      success: <span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        resolve(res);</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      fail: <span class=\"function\">(<span class=\"params\">e</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        reject(e.msg);</span><br><span class=\"line\">        uni.$u.toast(<span class=\"string\">'图片转换失败'</span>);</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"安卓专用图片转换方法\"><a href=\"#安卓专用图片转换方法\" class=\"headerlink\" title=\"安卓专用图片转换方法\"></a>安卓专用图片转换方法</h4><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 网络图 转换为base64格式</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;*&#125;</span> <span class=\"variable\">url</span></span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@returns </span>base64 file</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fileStreamturn</span>(<span class=\"params\">url</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    uni.request(&#123;</span><br><span class=\"line\">      url: url,</span><br><span class=\"line\">      method: <span class=\"string\">'GET'</span>,</span><br><span class=\"line\">      responseType: <span class=\"string\">'arraybuffer'</span>,</span><br><span class=\"line\">      header: &#123;</span><br><span class=\"line\">        Authorization: uni.getStorageSync(<span class=\"string\">'token'</span>),</span><br><span class=\"line\">        <span class=\"comment\">// Authorization: token</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      success: <span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> datas = res.data;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> fileName = url.slice(url.indexOf(<span class=\"string\">'.'</span>) + <span class=\"number\">1</span>);</span><br><span class=\"line\">        resolve(</span><br><span class=\"line\">          <span class=\"string\">`data:image/<span class=\"subst\">$&#123;fileName&#125;</span>;base64,`</span> + uni.arrayBufferToBase64(datas),</span><br><span class=\"line\">        );</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"例子\"><a href=\"#例子\" class=\"headerlink\" title=\"例子\"></a>例子</h4><p>因为会出现多个<code>&lt;image&gt;</code>标签，同时转化<code>base64</code>有较长的等待时，所以做了当前设备判断，如果是安卓才会调用转换方法</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr = [</span><br><span class=\"line\"> <span class=\"string\">'https://xxx.filename1'</span>,</span><br><span class=\"line\"> <span class=\"string\">'https://xxx.filename2'</span>,</span><br><span class=\"line\"> <span class=\"string\">'https://xxx.filename3'</span>,</span><br><span class=\"line\"> ...</span><br><span class=\"line\">]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//安卓设备 - 处理图片数组</span></span><br><span class=\"line\">    handleImage(arr) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> result = [];</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (arr &amp;&amp; arr.length) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (uni.getSystemInfoSync().platform == <span class=\"string\">\"android\"</span>) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">let</span> base64 = [];</span><br><span class=\"line\">          arr.forEach(<span class=\"function\">(<span class=\"params\">item</span>) =&gt;</span> &#123;</span><br><span class=\"line\">            fileStreamturn(item).then(<span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\">              base64.push(res);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">          result = base64;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          result = arr;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> result</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"uni+微信小程序 上传多张图片","url":"/2022/05/17/uni-%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F-%E4%B8%8A%E4%BC%A0%E5%A4%9A%E5%BC%A0%E5%9B%BE%E7%89%87/","content":"<h5 id=\"upload-vue\"><a href=\"#upload-vue\" class=\"headerlink\" title=\"upload.vue\"></a>upload.vue</h5><figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">u-upload</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">accept</span>=<span class=\"string\">\"image\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">capture</span>=<span class=\"string\">\"['album', 'camera']\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">:previewImage</span>=<span class=\"string\">\"true\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">width</span>=<span class=\"string\">\"200\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">height</span>=<span class=\"string\">\"200\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">:fileList</span>=<span class=\"string\">\"fileList\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t@<span class=\"attr\">afterRead</span>=<span class=\"string\">\"afterRead\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t@<span class=\"attr\">delete</span>=<span class=\"string\">\"deletePic\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">name</span>=<span class=\"string\">\"uploader-componet\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">multiple</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">:maxCount</span>=<span class=\"string\">\"9\"</span></span></span><br><span class=\"line\"><span class=\"tag\">&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-color: #f4f5f7;width:200rpx;height:200rpx;display: flex;align-items: center;justify-content: center;border-radius: 4rpx;box-sizing: border-box;\"</span>&gt;</span></span><br><span class=\"line\">\t\t<span class=\"tag\">&lt;<span class=\"name\">u-icon</span> <span class=\"attr\">name</span>=<span class=\"string\">\"camera-fill\"</span> <span class=\"attr\">color</span>=<span class=\"string\">\"#D3D4D6\"</span> <span class=\"attr\">size</span>=<span class=\"string\">\"50\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">u-icon</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">u-upload</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">u-button</span> <span class=\"attr\">type</span>=<span class=\"string\">\"primary\"</span> <span class=\"attr\">:plain</span>=<span class=\"string\">\"true\"</span> <span class=\"attr\">text</span>=<span class=\"string\">\"提交申请\"</span></span></span><br><span class=\"line\"><span class=\"tag\">\t@<span class=\"attr\">click</span>=<span class=\"string\">\"submitRefundApplyHandle()\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">u-button</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"script-js\"><a href=\"#script-js\" class=\"headerlink\" title=\"script.js\"></a>script.js</h5><figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\">\t<span class=\"keyword\">import</span> refundApi <span class=\"keyword\">from</span> <span class=\"string\">'@/api/refund.js'</span></span></span><br><span class=\"line\"><span class=\"javascript\">\t<span class=\"keyword\">export</span> <span class=\"keyword\">default</span>&#123;</span></span><br><span class=\"line\">\t\tdata()&#123;</span><br><span class=\"line\"><span class=\"actionscript\">\t\t\t<span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\">\t\t\t\tfileList:[],</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">submitRefundApplyHandle()&#123;</span><br><span class=\"line\">\t<span class=\"comment\">// this.$refs.refRefundApplyForm.validate().then(res =&gt; &#123;</span></span><br><span class=\"line\">\t<span class=\"comment\">// \tuni.$u.toast('校验通过')</span></span><br><span class=\"line\">\t<span class=\"comment\">// &#125;).catch(errors =&gt; &#123;</span></span><br><span class=\"line\">\t<span class=\"comment\">// \tuni.$u.toast('校验失败')</span></span><br><span class=\"line\">\t<span class=\"comment\">// &#125;)</span></span><br><span class=\"line\">\t<span class=\"keyword\">let</span> formObj = deepCopy(<span class=\"keyword\">this</span>.refundApplyForm)</span><br><span class=\"line\">\tformObj.reasonType = <span class=\"keyword\">this</span>.transf_reasonType[formObj.reasonType]</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.applyRefundHandle(formObj)</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">applyRefundHandle(formObj)&#123;</span><br><span class=\"line\">\t<span class=\"built_in\">console</span>.log(<span class=\"string\">'提交的表单：'</span>, formObj,<span class=\"keyword\">this</span>.fileList)</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> arr_temp = []</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.fileList.forEach(<span class=\"function\">(<span class=\"params\">item,index</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\tarr_temp.push(&#123;<span class=\"attr\">name</span>:<span class=\"string\">'image'</span>+index,<span class=\"attr\">uri</span>: item.url&#125;)</span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">\t<span class=\"comment\">// formObj.annexFiles = this.fileList</span></span><br><span class=\"line\">\t<span class=\"keyword\">let</span> requestLength = <span class=\"number\">0</span></span><br><span class=\"line\">\t<span class=\"keyword\">const</span> annexFileIds = []</span><br><span class=\"line\">\tarr_temp.forEach(<span class=\"function\">(<span class=\"params\">ele,index</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\trefundApi.uploadRefundAnnexFile(arr_temp[index], <span class=\"string\">'file'</span>).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">const</span> response = <span class=\"built_in\">JSON</span>.parse(res)</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">'上传照片结果:'</span>,response)</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (response.code === <span class=\"number\">200</span>) &#123;</span><br><span class=\"line\">\t\t\t\t++requestLength</span><br><span class=\"line\">\t\t\t\tannexFileIds.push(response.data)</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(requestLength===arr_temp.length)&#123;</span><br><span class=\"line\">\t\t\t\t\tformObj.annexFileIds = annexFileIds.join()</span><br><span class=\"line\">\t\t\t\t\trefundApi.createRefundApply(formObj).then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">'提交申请结果:'</span>,res)</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"keyword\">if</span> (res.code === <span class=\"number\">200</span>) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"comment\">// 跳转到结果页</span></span><br><span class=\"line\">\t\t\t\t\t\t\tuni.reLaunch(&#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t\turl: <span class=\"string\">'/pages/my/refundApply/refundResult?pageMsg=申请成功，请等待人员审核'</span></span><br><span class=\"line\">\t\t\t\t\t\t\t&#125;);</span><br><span class=\"line\">\t\t\t\t\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\tuni.showToast(&#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t\ttitle: res.msg,</span><br><span class=\"line\">\t\t\t\t\t\t\t\ticon: <span class=\"string\">'none'</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t\tduration: <span class=\"number\">5000</span>,</span><br><span class=\"line\">\t\t\t\t\t\t\t&#125;)</span><br><span class=\"line\">\t\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t&#125;)</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 删除图片</span></span><br><span class=\"line\">deletePic(event) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">this</span>.fileList.splice(event.index, <span class=\"number\">1</span>)</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">afterRead(event) &#123;</span><br><span class=\"line\">\t<span class=\"built_in\">console</span>.log(<span class=\"string\">'照片地址:'</span>, event)</span><br><span class=\"line\">\t<span class=\"comment\">// 当设置 mutiple 为 true 时, file 为数组格式，否则为对象格式</span></span><br><span class=\"line\">\t<span class=\"keyword\">let</span> lists = [].concat(event.file)</span><br><span class=\"line\">\t<span class=\"keyword\">let</span> fileListLen = <span class=\"keyword\">this</span>.fileList.length</span><br><span class=\"line\">\tlists.map(<span class=\"function\">(<span class=\"params\">item</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">this</span>.fileList.push(&#123;</span><br><span class=\"line\">\t\t\t...item,</span><br><span class=\"line\">\t\t\tstatus: <span class=\"string\">'uploading'</span>,</span><br><span class=\"line\">\t\t\tmessage: <span class=\"string\">'上传中'</span></span><br><span class=\"line\">\t\t&#125;)</span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; lists.length; i++) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">const</span> url = lists[i].url</span><br><span class=\"line\">\t\t<span class=\"keyword\">let</span> item = <span class=\"keyword\">this</span>.fileList[fileListLen]</span><br><span class=\"line\">\t\t<span class=\"keyword\">this</span>.fileList.splice(fileListLen, <span class=\"number\">1</span>, <span class=\"built_in\">Object</span>.assign(item, &#123;</span><br><span class=\"line\">\t\t\tstatus: <span class=\"string\">'success'</span>,</span><br><span class=\"line\">\t\t\tmessage: <span class=\"string\">''</span>,</span><br><span class=\"line\">\t\t\turl: url</span><br><span class=\"line\">\t\t&#125;))</span><br><span class=\"line\">\t\tfileListLen++</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<h5 id=\"config-request-js\"><a href=\"#config-request-js\" class=\"headerlink\" title=\"config/request.js\"></a>config/request.js</h5><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">uploadFile_common</span> (<span class=\"params\">url, file, name, callback = <span class=\"string\">''</span></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> token = uni.getStorageSync(<span class=\"string\">'user_token'</span>)</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">'拿到的参数：'</span>, url, file, name)</span><br><span class=\"line\">        uni.uploadFile(&#123;</span><br><span class=\"line\">\t\t\turl: baseUrl + url,</span><br><span class=\"line\">            header: &#123; <span class=\"string\">'Authorization'</span>: <span class=\"string\">'Bearer '</span> + token, <span class=\"string\">'Content-Type'</span>: <span class=\"string\">'multipart/form-data'</span> &#125;,</span><br><span class=\"line\">\t\t\tfileType:<span class=\"string\">'image'</span>,</span><br><span class=\"line\">            filePath: file.uri,</span><br><span class=\"line\">            name: name,</span><br><span class=\"line\">            success: <span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            fail: <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">                reject(err)</span><br><span class=\"line\">                <span class=\"built_in\">console</span>.log(<span class=\"string\">'[上传接口错误:uploadFile_common:'</span>,err)</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            complete: <span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (callback)&#123;</span><br><span class=\"line\">                \t<span class=\"keyword\">return</span> callback(res.data)</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (res.data.code === <span class=\"number\">401</span>) &#123;</span><br><span class=\"line\">                    <span class=\"built_in\">console</span>.log(<span class=\"string\">'上传接口401:uploadFile_common'</span>)</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">\t\t\t\t\t\tuni.removeStorageSync(<span class=\"string\">'user_token'</span>)</span><br><span class=\"line\">\t\t\t\t\t&#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">'user_token移除失败(uploadFile_common)'</span>)</span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"comment\">// 将需要重新执行的接口缓存到一个队列中</span></span><br><span class=\"line\">\t\t\t\t\taddSubscriber(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t\t\tuploadFile_common(url, file, name, formData, resolve)</span><br><span class=\"line\">\t\t\t\t\t&#125;)</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">if</span> (isRefreshing) &#123;</span><br><span class=\"line\">\t\t\t\t\t\tgetNewToken().then(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"comment\">// 依次去执行缓存的接口</span></span><br><span class=\"line\">\t\t\t\t\t\t\tonAccessTokenFetched();</span><br><span class=\"line\">\t\t\t\t\t\t\tisRefreshing = <span class=\"literal\">true</span>;</span><br><span class=\"line\">\t\t\t\t\t\t&#125;).catch(<span class=\"function\"><span class=\"params\">e</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t<span class=\"built_in\">console</span>.log(<span class=\"string\">'getNewToken错误(uploadFile_common):'</span>, e)</span><br><span class=\"line\">\t\t\t\t\t\t&#125;)</span><br><span class=\"line\">                   &#125;</span><br><span class=\"line\">                   isRefreshing = <span class=\"literal\">false</span>;</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    resolve(res.data)</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> &#123; uploadFile_common &#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"refund-js\"><a href=\"#refund-js\" class=\"headerlink\" title=\"refund.js\"></a>refund.js</h5><figure class=\"highlight gradle\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;uploadFile_common&#125; <span class=\"keyword\">from</span> <span class=\"string\">'@/config/request.js'</span></span><br><span class=\"line\">export <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">// 上传申请照片</span></span><br><span class=\"line\">\tuploadRefundAnnexFile(<span class=\"keyword\">file</span>, name) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> uploadFile_common(<span class=\"string\">'/wechat/selfPrint/refundApply/uploadRefundApplyAnnexFile'</span>, <span class=\"keyword\">file</span>, name)</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"refundResult-vue-上传成功后展示\"><a href=\"#refundResult-vue-上传成功后展示\" class=\"headerlink\" title=\"refundResult.vue 上传成功后展示\"></a>refundResult.vue 上传成功后展示</h5><figure class=\"highlight django\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t<span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">\"content\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t<span class=\"tag\">&lt;<span class=\"name\">view</span> &gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">u--image</span> <span class=\"attr\">:showLoading</span>=<span class=\"string\">\"true\"</span> <span class=\"attr\">:src</span>=<span class=\"string\">\"require('static/img/my/submit.png')\"</span> <span class=\"attr\">width</span>=<span class=\"string\">\"500rpx\"</span> <span class=\"attr\">height</span>=<span class=\"string\">\"500rpx\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">u--image</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">\"text-style\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123;message&#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t<span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">\"mg30\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t\t<span class=\"tag\">&lt;<span class=\"name\">u-button</span> <span class=\"attr\">type</span>=<span class=\"string\">\"primary\"</span> <span class=\"attr\">:plain</span>=<span class=\"string\">\"true\"</span> <span class=\"attr\">text</span>=<span class=\"string\">\"返回首页\"</span></span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t\t\t@click=\"backHome()\"&gt;</span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">u-button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t\t<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\texport default&#123;</span></span><br><span class=\"line\"><span class=\"xml\">\t\tdata()&#123;</span></span><br><span class=\"line\"><span class=\"xml\">\t\t\treturn&#123;</span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t\tmessage:''</span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t&#125;</span></span><br><span class=\"line\"><span class=\"xml\">\t\t&#125;,</span></span><br><span class=\"line\"><span class=\"xml\">\t\tonLoad:function(option)&#123;</span></span><br><span class=\"line\"><span class=\"xml\">\t\t\tthis.message = option.pageMsg</span></span><br><span class=\"line\"><span class=\"xml\">\t\t&#125;,</span></span><br><span class=\"line\"><span class=\"xml\">\t\tmethods:&#123;</span></span><br><span class=\"line\"><span class=\"xml\">\t\t\tbackHome()&#123;</span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t\tuni.switchTab(&#123;</span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t\t\turl: '/pages/home/index'</span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t\t&#125;)</span></span><br><span class=\"line\"><span class=\"xml\">\t\t\t&#125;,</span></span><br><span class=\"line\"><span class=\"xml\">\t\t&#125;</span></span><br><span class=\"line\"><span class=\"xml\">\t&#125;</span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"scss\"</span> <span class=\"attr\">scoped</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">\t.content&#123;</span></span><br><span class=\"line\"><span class=\"xml\">\t\tmargin-top: 100rpx;</span></span><br><span class=\"line\"><span class=\"xml\">\t\tpadding: 30rpx;</span></span><br><span class=\"line\"><span class=\"xml\">\t\tdisplay: flex;</span></span><br><span class=\"line\"><span class=\"xml\">\t\tjustify-content: center;;</span></span><br><span class=\"line\"><span class=\"xml\">\t&#125;</span></span><br><span class=\"line\"><span class=\"xml\">\t.text-style&#123;</span></span><br><span class=\"line\"><span class=\"xml\">\t\tcolor: #aaa;</span></span><br><span class=\"line\"><span class=\"xml\">\t\ttext-align: center;</span></span><br><span class=\"line\"><span class=\"xml\">\t&#125;</span></span><br><span class=\"line\"><span class=\"xml\">\t.mg30&#123;</span></span><br><span class=\"line\"><span class=\"xml\">\t\tmargin-top: 30rpx;</span></span><br><span class=\"line\"><span class=\"xml\">\t&#125;</span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n","tags":["微信小程序","uniapp","移动端"]},{"title":"uni-微信小程序 分包","url":"/2022/12/09/uni-%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F-%E5%88%86%E5%8C%85/","content":"<p>提前拆分模块任务，把主包压缩小点，UI设计给了太多本地资源静态图，所以需要连图也一起分包，记录下</p>\n<p>· 整个小程序所有分包大小不超过 20M<br>· 单个分包/主包大小不能超过 2M</p>\n<h4 id=\"结果\"><a href=\"#结果\" class=\"headerlink\" title=\"结果\"></a>结果</h4><p>静态资源生成路径</p>\n<figure class=\"highlight dts\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta-keyword\">/mp-weixin/</span>pages_tools/pages <span class=\"comment\">// 分包代码</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta-keyword\">/mp-weixin/</span>pages_tools/static <span class=\"comment\">// 分包静态资源</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"vue-config-js\"><a href=\"#vue-config-js\" class=\"headerlink\" title=\"vue.config.js\"></a>vue.config.js</h4><figure class=\"highlight typescript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">'path'</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> CopyWebpackPlugin = <span class=\"built_in\">require</span>(<span class=\"string\">'copy-webpack-plugin'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  configureWebpack: &#123;</span><br><span class=\"line\">    plugins: [</span><br><span class=\"line\">       <span class=\"keyword\">new</span> webpack.ContextReplacementPlugin(</span><br><span class=\"line\">        /zh-cn/,</span><br><span class=\"line\">      ),</span><br><span class=\"line\">      <span class=\"keyword\">new</span> CopyWebpackPlugin([</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          <span class=\"keyword\">from</span>: path.join(__dirname, <span class=\"string\">'/static'</span>),</span><br><span class=\"line\">          to: path.join(__dirname+<span class=\"string\">'/unpackage/'</span>, <span class=\"string\">'dist'</span>, process.env.NODE_ENV === <span class=\"string\">'production'</span> ? <span class=\"string\">'build'</span> : <span class=\"string\">'dev'</span>, process.env.UNI_PLATFORM, <span class=\"string\">'/'</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      ])</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"根目录执行命令\"><a href=\"#根目录执行命令\" class=\"headerlink\" title=\"根目录执行命令\"></a>根目录执行命令</h4><figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm <span class=\"keyword\">install</span> copy-webpack-<span class=\"keyword\">plugin</span> <span class=\"comment\">--save-dev</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"manifest-json\"><a href=\"#manifest-json\" class=\"headerlink\" title=\"manifest.json\"></a>manifest.json</h4><figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">\"mp-weixin\":</span> <span class=\"string\">&#123;</span>    </span><br><span class=\"line\">      <span class=\"attr\">\"usingComponents\":</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"string\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"pages-json\"><a href=\"#pages-json\" class=\"headerlink\" title=\"pages.json\"></a>pages.json</h4><figure class=\"highlight 1c\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"subPackages\"</span>: [</span><br><span class=\"line\">   &#123;</span><br><span class=\"line\">     <span class=\"string\">\"root\"</span>: <span class=\"string\">\"pages_index\"</span>, <span class=\"comment\">// 首页</span></span><br><span class=\"line\">     <span class=\"string\">\"pages\"</span>: [</span><br><span class=\"line\">       &#123;</span><br><span class=\"line\">         <span class=\"string\">\"path\"</span>: <span class=\"string\">\"index\"</span>,</span><br><span class=\"line\">         <span class=\"string\">\"style\"</span>: &#123;</span><br><span class=\"line\">           <span class=\"string\">\"navigationStyle\"</span>: <span class=\"string\">\"custom\"</span></span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">     ]</span><br><span class=\"line\">   &#125;,</span><br><span class=\"line\">   &#123;</span><br><span class=\"line\">     <span class=\"string\">\"root\"</span>: <span class=\"string\">\"pages_tools\"</span>, <span class=\"comment\">// 工具</span></span><br><span class=\"line\">     <span class=\"string\">\"pages\"</span>: [</span><br><span class=\"line\">       &#123;</span><br><span class=\"line\">         <span class=\"string\">\"path\"</span>: <span class=\"string\">\"test/index\"</span>,</span><br><span class=\"line\">         <span class=\"string\">\"style\"</span>: &#123;</span><br><span class=\"line\">           <span class=\"string\">\"navigationBarTitleText\"</span>: <span class=\"string\">\"uni-app\"</span></span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">    &#125;，</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">     <span class=\"string\">\"root\"</span>: <span class=\"string\">\"pages_salary\"</span>, <span class=\"comment\">// 工资</span></span><br><span class=\"line\">     <span class=\"string\">\"pages\"</span>: [</span><br><span class=\"line\">       &#123;</span><br><span class=\"line\">         <span class=\"string\">\"path\"</span>: <span class=\"string\">\"test/index\"</span>,</span><br><span class=\"line\">         <span class=\"string\">\"style\"</span>: &#123;</span><br><span class=\"line\">           <span class=\"string\">\"navigationBarTitleText\"</span>: <span class=\"string\">\"uni-app\"</span></span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"static\"><a href=\"#static\" class=\"headerlink\" title=\"static\"></a>static</h4><p>图片资源分包，文件夹取名也需要对应<code>pages.json</code>下的文件夹命名</p>\n<figure class=\"highlight groovy\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"regexp\">/pages_tools/</span><span class=\"keyword\">static</span>/images</span><br><span class=\"line\"><span class=\"comment\">// 放图片的文件夹，用于放分包图片资源，需要和分包名称对应</span></span><br></pre></td></tr></table></figure>\n<p>在index.vue内引入图片路径：</p>\n<figure class=\"highlight arduino\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;<span class=\"built_in\">image</span> src=<span class=\"string\">\"/pages_tools/static/images/test.svg\"</span> /&gt;</span><br></pre></td></tr></table></figure>\n","tags":["微信小程序","uniapp","移动端"]},{"title":"webview更新地址没有发起请求","url":"/2018/08/14/webview%E6%9B%B4%E6%96%B0%E5%9C%B0%E5%9D%80%E6%B2%A1%E6%9C%89%E5%8F%91%E8%B5%B7%E8%AF%B7%E6%B1%82/","content":"<h4 id=\"场景\"><a href=\"#场景\" class=\"headerlink\" title=\"场景\"></a>场景</h4><p>app启动的时候会预加载web页面，web页面依赖app的相关权限数据（例如aoo定位坐标）</p>\n<ol>\n<li>首次进入app，用户据胡娥授权定位或者手机定位未开启，这时候web页面已经预加载。(以hash路由为例)</li>\n</ol>\n<figure class=\"highlight vim\"><table><tr><td class=\"code\"><pre><span class=\"line\">http<span class=\"variable\">s:</span>//www.baidu.<span class=\"keyword\">com</span>/<span class=\"built_in\">index</span>.html#/</span><br></pre></td></tr></table></figure>\n<p>获取不到定位，页面先加载北京的数据。</p>\n<ol start=\"2\">\n<li>用户开启手机定位，app获取到经纬度，重新请求一次接口，url地址为</li>\n</ol>\n<figure class=\"highlight vim\"><table><tr><td class=\"code\"><pre><span class=\"line\">http<span class=\"variable\">s:</span>//www.baidu.<span class=\"keyword\">com</span>/<span class=\"built_in\">index</span>.html#/?<span class=\"keyword\">lat</span>=<span class=\"number\">143.232232</span>&amp;lon=<span class=\"number\">32.234432</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h4><p>url更新并没有请求接口更新数据</p>\n<h4 id=\"解决问题\"><a href=\"#解决问题\" class=\"headerlink\" title=\"解决问题\"></a>解决问题</h4><p>利用watch监听router中query的变化</p>\n<figure class=\"highlight sqf\"><table><tr><td class=\"code\"><pre><span class=\"line\">watch: &#123;</span><br><span class=\"line\">      <span class=\"string\">'$route'</span> (<span class=\"keyword\">to</span>, <span class=\"keyword\">from</span>) &#123; <span class=\"comment\">//监听路由是否变化</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span>(<span class=\"keyword\">to</span>.query.lat != <span class=\"keyword\">from</span>.query.lat)&#123;</span><br><span class=\"line\">              this.loadData();<span class=\"comment\">//重新加载数据</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>APP加载的一直是<code>https://www.baidu.com/index.html#/</code>这个地址，只是后边追加的参数不同，再回想下vue单页面路由的原理，只有访问到对应的路由才会触发对应的页面加载（当前路由和要跳转的路由对应同一个组件时，组件不会被更新，生命周期不会被执行），才会触发页面中的vue的生命周期，所以，可以利用watch来监听路由参数的变化。</p>\n<h4 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h4><ul>\n<li><a href=\"https://router.vuejs.org/zh/guide/essentials/dynamic-matching.html#%E5%93%8D%E5%BA%94%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0%E7%9A%84%E5%8F%98%E5%8C%96\" target=\"_blank\" rel=\"noopener\">官方说明</a></li>\n</ul>\n","tags":["前端","移动端","vue"]},{"title":"元素水平垂直居中","url":"/2017/07/09/%E5%85%83%E7%B4%A0%E6%B0%B4%E5%B9%B3%E5%9E%82%E7%9B%B4%E5%B1%85%E4%B8%AD/","content":"<ul>\n<li><a href=\"#1\">方法一：position加margin</a></li>\n<li><a href=\"#2\">方法二： diaplay:table-cell</a></li>\n<li><a href=\"#3\">方法三：position加 transform</a></li>\n<li><a href=\"#4\">方法四：flex;align-items: center;justify-content: center</a></li>\n<li><a href=\"#5\">方法五：display:flex;margin:auto</a></li>\n<li><a href=\"#6\">方法六：transfer -50%</a></li>\n<li><a href=\"#7\">方法七：兼容低版本浏览器，不固定宽高</a></li>\n</ul>\n<h4 id=\"示例图\"><a href=\"#示例图\" class=\"headerlink\" title=\"示例图\"></a>示例图</h4><p><img src=\"http://vky-test-oss.inboyu.com/upload/39e79077-c1de-6d5b-a697-c17158ad3ada.png\" alt=\"示例图\"></p>\n<p><span id=\"1\"></span></p>\n<h4 id=\"1-position加margin\"><a href=\"#1-position加margin\" class=\"headerlink\" title=\"1.position加margin\"></a>1.position加margin</h4><p>父元素和子元素高宽都固定，使用绝对定位的方法居中<br><figure class=\"highlight dts\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**html**/</span></span><br><span class=\"line\"><span class=\"params\">&lt;div class=\"parent\"&gt;</span></span><br><span class=\"line\">    <span class=\"params\">&lt;div class=\"child\"&gt;</span><span class=\"params\">&lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"params\">&lt;/div&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**css**/</span></span><br><span class=\"line\">.<span class=\"class\">parent </span>&#123;</span><br><span class=\"line\"><span class=\"symbol\">    width:</span> <span class=\"number\">200</span>px;</span><br><span class=\"line\"><span class=\"symbol\">    height:</span> <span class=\"number\">200</span>px;</span><br><span class=\"line\"><span class=\"symbol\">    background:</span> yellow;</span><br><span class=\"line\"><span class=\"symbol\">    position:</span> relative;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.<span class=\"class\">child </span>&#123;</span><br><span class=\"line\"><span class=\"symbol\">    width:</span> <span class=\"number\">100</span>px;</span><br><span class=\"line\"><span class=\"symbol\">    height:</span> <span class=\"number\">100</span>px;</span><br><span class=\"line\"><span class=\"symbol\">    background:</span> green;</span><br><span class=\"line\"><span class=\"symbol\">    margin:</span> auto;</span><br><span class=\"line\"><span class=\"symbol\">    position:</span> absolute;</span><br><span class=\"line\"><span class=\"symbol\">    left:</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"symbol\">    right:</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"symbol\">    top:</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"symbol\">    bottom:</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p><span id=\"2\"></span></p>\n<h4 id=\"2-display-tabel-cell\"><a href=\"#2-display-tabel-cell\" class=\"headerlink\" title=\"2.display:tabel-cell\"></a>2.display:tabel-cell</h4><p>父元素必须为tabel-cell，子元素必须为display：inline-block</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;!-- <span class=\"selector-tag\">html</span> --&gt;</span><br><span class=\"line\">&lt;<span class=\"selector-tag\">div</span> class=<span class=\"string\">\"parent\"</span>&gt;</span><br><span class=\"line\">     &lt;<span class=\"selector-tag\">div</span> class=<span class=\"string\">\"child\"</span>&gt;&lt;/div&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*css*/</span></span><br><span class=\"line\"><span class=\"selector-class\">.parent</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">200px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">200px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: yellow;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: table-cell;</span><br><span class=\"line\">    <span class=\"attribute\">vertical-align</span>: middle;</span><br><span class=\"line\">    <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.child&#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: inline-block;</span><br><span class=\"line\">    <span class=\"attribute\">vertical-align</span>: middle;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: green;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><span id=\"3\"></span></p>\n<h4 id=\"3-position加-transform\"><a href=\"#3-position加-transform\" class=\"headerlink\" title=\"3.position加 transform\"></a>3.position加 transform</h4><p>不需要考虑父元素的高宽，可以做自适应，但是子元素的高宽必须限定</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;!-- <span class=\"selector-tag\">html</span> --&gt;</span><br><span class=\"line\">&lt;<span class=\"selector-tag\">div</span> class=<span class=\"string\">\"parent\"</span>&gt;</span><br><span class=\"line\">    &lt;<span class=\"selector-tag\">div</span> class=<span class=\"string\">\"child\"</span>&gt;&lt;/div&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">/* css */</span></span><br><span class=\"line\"><span class=\"selector-class\">.parentss</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: yellow;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">200px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">200px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.child</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: green;</span><br><span class=\"line\">    <span class=\"attribute\">top</span>:<span class=\"number\">50%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>:<span class=\"number\">50%</span>;</span><br><span class=\"line\">    -webkit-<span class=\"attribute\">transform</span>:translate(-<span class=\"number\">50%</span>,-<span class=\"number\">50%</span>);</span><br><span class=\"line\">    <span class=\"attribute\">transform</span>:translate(-<span class=\"number\">50%</span>,-<span class=\"number\">50%</span>);</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><span id=\"4\"></span></p>\n<h4 id=\"4-flex-alige-item-center-justify-content-center\"><a href=\"#4-flex-alige-item-center-justify-content-center\" class=\"headerlink\" title=\"4.flex;alige-item:center;justify-content: center\"></a>4.flex;alige-item:center;justify-content: center</h4><p>子元素和父元素都无需限定高宽，移动端兼容性良好</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;!-- <span class=\"selector-tag\">html</span> --&gt;</span><br><span class=\"line\">&lt;<span class=\"selector-tag\">div</span> class=<span class=\"string\">\"parent\"</span>&gt;</span><br><span class=\"line\">    &lt;<span class=\"selector-tag\">div</span> class=<span class=\"string\">\"child\"</span>&gt;&lt;/div&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* css */</span></span><br><span class=\"line\"><span class=\"selector-class\">.parent</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: yellow;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">200px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">200px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex; </span><br><span class=\"line\">    <span class=\"attribute\">align-items</span>: center; </span><br><span class=\"line\">    <span class=\"attribute\">justify-content</span>: center;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.child</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: green;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><span id=\"5\"></span></p>\n<h4 id=\"5-display-flex-margin-auto\"><a href=\"#5-display-flex-margin-auto\" class=\"headerlink\" title=\"5.display:flex;margin:auto\"></a>5.display:flex;margin:auto</h4><p>兼容性没测试过，移动端适用</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- html --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"parent\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"child\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">/* css */</span><br><span class=\"line\">.parent &#123;</span><br><span class=\"line\">    background: yellow;</span><br><span class=\"line\">    width: 200px;</span><br><span class=\"line\">    height: 200px;</span><br><span class=\"line\">    display: flex; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.child &#123;</span><br><span class=\"line\">    background: green;</span><br><span class=\"line\">    width: 100px;</span><br><span class=\"line\">    height: 100px;</span><br><span class=\"line\">    margin: auto;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><span id=\"6\"></span></p>\n<h4 id=\"6-tranfer-50\"><a href=\"#6-tranfer-50\" class=\"headerlink\" title=\"6.tranfer -50%\"></a>6.tranfer -50%</h4><p>百分比来设置宽高</p>\n<figure class=\"highlight scss\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//vertical center</span></span><br><span class=\"line\"><span class=\"selector-class\">.vertical-center</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span> absolute</span><br><span class=\"line\">  <span class=\"attribute\">top</span> 50%</span><br><span class=\"line\">  <span class=\"attribute\">transform</span> translate(0,-50%)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.vertical-horizontal</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span> absolute</span><br><span class=\"line\">  <span class=\"attribute\">left</span> 50%</span><br><span class=\"line\">  <span class=\"attribute\">top</span> 50%</span><br><span class=\"line\">  <span class=\"attribute\">transform</span> translate(-50%,-50%)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;!-- <span class=\"selector-tag\">html</span> --&gt;</span><br><span class=\"line\">&lt;<span class=\"selector-tag\">div</span> class=<span class=\"string\">\"parent\"</span>&gt;</span><br><span class=\"line\">    &lt;<span class=\"selector-tag\">div</span> class=<span class=\"string\">\"child\"</span>&gt;&lt;/div&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* css */</span></span><br><span class=\"line\"><span class=\"selector-class\">.parent</span> &#123;</span><br><span class=\"line\"> </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.child</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">    <span class=\"attribute\">top</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>:<span class=\"number\">50%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>:<span class=\"number\">30%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>:<span class=\"number\">20px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">text-align</span>:center;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>:<span class=\"number\">#393</span>;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>:<span class=\"number\">#fff</span>;</span><br><span class=\"line\">    <span class=\"attribute\">transform</span>: translate(-<span class=\"number\">50%</span>, -<span class=\"number\">50%</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><span id=\"7\"><span></span></span></p>\n<h4 id=\"7-高宽不定\"><a href=\"#7-高宽不定\" class=\"headerlink\" title=\"7.高宽不定\"></a>7.高宽不定</h4><figure class=\"highlight stylus\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;!-- <span class=\"selector-tag\">html</span> --&gt;</span><br><span class=\"line\">&lt;<span class=\"selector-tag\">div</span> class=<span class=\"string\">\"table\"</span>&gt;</span><br><span class=\"line\">    &lt;<span class=\"selector-tag\">div</span> class=<span class=\"string\">\"tableCell\"</span>&gt;</span><br><span class=\"line\">        &lt;<span class=\"selector-tag\">div</span> class=<span class=\"string\">\"content\"</span>&gt;不固定宽高，自适应&lt;/div&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">/*css*/</span></span><br><span class=\"line\"><span class=\"selector-class\">.table</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">200px</span>;<span class=\"comment\">/*高度值不能少*/</span></span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">200px</span>;<span class=\"comment\">/*宽度值不能少*/</span></span><br><span class=\"line\">    <span class=\"attribute\">display</span>: table;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">    <span class=\"attribute\">float</span>:left;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: yellow;</span><br><span class=\"line\">&#125;      </span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"selector-class\">.tableCell</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: table-cell;</span><br><span class=\"line\">    <span class=\"attribute\">vertical-align</span>: middle;</span><br><span class=\"line\">    <span class=\"attribute\">text-align</span>: center;        </span><br><span class=\"line\">    *<span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">10px</span>;</span><br><span class=\"line\">    *<span class=\"attribute\">top</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">    *<span class=\"attribute\">left</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.content</span> &#123;</span><br><span class=\"line\">    *<span class=\"attribute\">position</span>:relative;</span><br><span class=\"line\">    *<span class=\"attribute\">top</span>: -<span class=\"number\">50%</span>;</span><br><span class=\"line\">    *<span class=\"attribute\">left</span>: -<span class=\"number\">50%</span>;</span><br><span class=\"line\">     <span class=\"attribute\">background</span>: green;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","tags":["移动开发"]},{"title":"人脸识别门禁功能","url":"/2019/07/18/%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB%E9%97%A8%E7%A6%81%E5%8A%9F%E8%83%BD/","content":"<p>需求比较急，就用了微信的<code>weui</code></p>\n<figure class=\"highlight capnproto\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> weui <span class=\"keyword\">from</span> <span class=\"string\">\"weui.js/dist/weui.min\"</span>;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//拉起微信的图片上传服务</span></span><br><span class=\"line\">upload() &#123;</span><br><span class=\"line\">  $.utils.uploadImage(<span class=\"keyword\">data</span> =&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.signedUrl = <span class=\"keyword\">data</span>.signedUrl;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.sendData.originUrl = <span class=\"keyword\">data</span>.originUrl;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.submit(<span class=\"keyword\">data</span>.originUrl);</span><br><span class=\"line\">  &#125;, <span class=\"literal\">true</span>);</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//预览图片</span></span><br><span class=\"line\">preview(url) &#123;</span><br><span class=\"line\">  let urls = [];</span><br><span class=\"line\">  urls[<span class=\"number\">0</span>] = url;</span><br><span class=\"line\">  window.wx.previewImage(&#123;</span><br><span class=\"line\">    current: url, <span class=\"comment\">// 当前显示图片的http链接</span></span><br><span class=\"line\">    urls: urls <span class=\"comment\">// 需要预览的图片http链接列表</span></span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<p>图片上传微信 API <code>wx.chooseImage</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">InitJsSdk: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (_wxInited) &#123;</span><br><span class=\"line\">        callback &amp;&amp; callback();</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> url = <span class=\"string\">\"/weixin/jssdksign\"</span>;</span><br><span class=\"line\">    $.ajax( url , &#123;</span><br><span class=\"line\">        data: &#123;</span><br><span class=\"line\">            <span class=\"string\">\"url\"</span>:  <span class=\"built_in\">window</span>.location.href.split(<span class=\"string\">'#'</span>)[<span class=\"number\">0</span>]</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        type: <span class=\"string\">\"GET\"</span>,</span><br><span class=\"line\">        success: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">data</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (data) &#123;</span><br><span class=\"line\">                data.jsApiList = [</span><br><span class=\"line\">                    <span class=\"string\">\"previewImage\"</span>,</span><br><span class=\"line\">                    <span class=\"string\">\"getLocation\"</span>,</span><br><span class=\"line\">                    <span class=\"string\">\"openLocation\"</span>,</span><br><span class=\"line\">                    <span class=\"string\">\"chooseImage\"</span>,</span><br><span class=\"line\">                    <span class=\"string\">\"uploadImage\"</span>,</span><br><span class=\"line\">                    <span class=\"string\">\"onMenuShareTimeline\"</span>,  <span class=\"comment\">//分享到朋友圈</span></span><br><span class=\"line\">                    <span class=\"string\">\"onMenuShareAppMessage\"</span>,  <span class=\"comment\">//发送给朋友</span></span><br><span class=\"line\">                    <span class=\"string\">\"hideMenuItems\"</span>,  <span class=\"comment\">//批量隐藏功能按钮</span></span><br><span class=\"line\">                    <span class=\"string\">\"showMenuItems\"</span>   <span class=\"comment\">//批量显示功能按钮</span></span><br><span class=\"line\">                ];</span><br><span class=\"line\">                wx.config(data);</span><br><span class=\"line\"></span><br><span class=\"line\">                wx.ready(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">                    wx.hideMenuItems(&#123;</span><br><span class=\"line\">                        menuList: [<span class=\"string\">'menuItem:share:appMessage'</span>,<span class=\"string\">'menuItem:share:timeline'</span>,<span class=\"string\">\"menuItem:share:qq\"</span>,<span class=\"string\">\"menuItem:share:QZone\"</span>,<span class=\"string\">\"menuItem:copyUrl\"</span>]</span><br><span class=\"line\">                    &#125;);</span><br><span class=\"line\">                    _wxInited = <span class=\"literal\">true</span>;</span><br><span class=\"line\">                    callback &amp;&amp; callback();</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        error:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//微信上传图片</span></span><br><span class=\"line\">uploadImage: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">callback,safe,count</span>) </span>&#123;</span><br><span class=\"line\">    _utils.InitJsSdk(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        wx.chooseImage(&#123;</span><br><span class=\"line\">            count: count || <span class=\"number\">1</span>, <span class=\"comment\">// 默认9</span></span><br><span class=\"line\">            <span class=\"comment\">// sizeType: ['original','compressed'], // 可以指定是原图还是压缩图，默认二者都有</span></span><br><span class=\"line\">            <span class=\"comment\">// sourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有</span></span><br><span class=\"line\">            success: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">res</span>) </span>&#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> localIds = res.localIds;</span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                    _utils.pushAllImg(localIds, safe, callback)</span><br><span class=\"line\">                &#125; <span class=\"keyword\">catch</span> (error) &#123;</span><br><span class=\"line\">                    <span class=\"built_in\">console</span>.log(<span class=\"built_in\">JSON</span>.stringify(error))</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            error:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">error</span>)</span>&#123;</span><br><span class=\"line\">                $.message.show(<span class=\"string\">'图片选取失败!'</span>)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<p>查看预览,返回的<code>wx.preview</code></p>\n<p>遇到了微信公众号开发者工具，调用这两个方法都是报错的问题。发布测试后就发现 ok 了，原来工具不支持这个方法，还是得真机调试。</p>\n<p>封装好的请求和方法一定要调试好了之后再调试，不然不停发布测试实在是耽误时间和精力。</p>\n<p>提前测试好文件上传，替换好。抓包测试。</p>\n<figure class=\"highlight scheme\"><table><tr><td class=\"code\"><pre><span class=\"line\">[&#123;</span><br><span class=\"line\">id: '',</span><br><span class=\"line\">    number: '',</span><br><span class=\"line\">bank_num:''</span><br><span class=\"line\">&#125;,&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    id: '',</span><br><span class=\"line\">    number: '',</span><br><span class=\"line\">bank_num:''</span><br><span class=\"line\">&#125;]</span><br></pre></td></tr></table></figure>\n<p>提交报错后， 提交中 loading 态没有取消,需要处理 catch error</p>\n","tags":["工作笔记"]},{"title":"vue3.0+ts+原生高德地图","url":"/2022/11/09/vue3-0-ts-%E5%8E%9F%E7%94%9F%E9%AB%98%E5%BE%B7%E5%9C%B0%E5%9B%BE/","content":"<h4 id=\"index-vue\"><a href=\"#index-vue\" class=\"headerlink\" title=\"index.vue\"></a>index.vue</h4><figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">style</span>=<span class=\"string\">\"width:100%;height:400px;\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">id</span>=<span class=\"string\">\"container\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  &gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"ts\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">import</span> &#123; defineComponent, onMounted &#125; <span class=\"keyword\">from</span> <span class=\"string\">\"vue\"</span>;</span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> defineComponent(&#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">  name: <span class=\"string\">\"Home\"</span>,</span></span><br><span class=\"line\">  setup() &#123;</span><br><span class=\"line\"><span class=\"javascript\">    onMounted(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span></span><br><span class=\"line\">      mapInit();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">const</span> mapInit = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"keyword\">let</span> marker,</span></span><br><span class=\"line\"><span class=\"actionscript\">        map = <span class=\"keyword\">new</span> AMap.Map(<span class=\"string\">\"container\"</span>, &#123;</span></span><br><span class=\"line\"><span class=\"actionscript\">          resizeEnable: <span class=\"literal\">true</span>,</span></span><br><span class=\"line\">          center: [120.439915, 36.160679],</span><br><span class=\"line\">          zoom: 18</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"><span class=\"actionscript\">      marker = <span class=\"keyword\">new</span> AMap.Marker(&#123;</span></span><br><span class=\"line\">        icon:</span><br><span class=\"line\"><span class=\"actionscript\">          <span class=\"string\">\"http://a.amap.com/jsapi_demos/static/demo-center/icons/poi-marker-default.png\"</span>,</span></span><br><span class=\"line\">        position: [120.439915, 36.160679],</span><br><span class=\"line\"><span class=\"actionscript\">        <span class=\"comment\">// offset: new AMap.Pixel(-13, -30)</span></span></span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">      marker.setMap(map);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"引入高德SDK\"><a href=\"#引入高德SDK\" class=\"headerlink\" title=\"引入高德SDK\"></a>引入高德SDK</h4><figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"utf-8\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"X-UA-Compatible\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"IE=edge\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width,initial-scale=1.0\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"icon\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"&lt;%= BASE_URL %&gt;favicon.ico\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">%=</span> <span class=\"attr\">htmlWebpackPlugin.options.title</span> %&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text/javascript\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">src</span>=<span class=\"string\">\"https://webapi.amap.com/maps?v=1.4.15&amp;key=你的key&amp;plugin=AMap.ToolBar\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"webpack配置\"><a href=\"#webpack配置\" class=\"headerlink\" title=\"webpack配置\"></a>webpack配置</h4><p>为了防止打包时把高德纳入，我们需要在webpack中配置，这里以vue.config.js为例</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">configureWebpack: <span class=\"function\"><span class=\"params\">config</span> =&gt;</span> &#123;</span><br><span class=\"line\">        config[<span class=\"string\">\"externals\"</span>] = &#123;</span><br><span class=\"line\">            <span class=\"string\">'AMap'</span>: <span class=\"string\">\"AMap\"</span> <span class=\"comment\">// 高德地图配置</span></span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<h4 id=\"声明文件\"><a href=\"#声明文件\" class=\"headerlink\" title=\"声明文件\"></a>声明文件</h4><p>用了typescript，那么就是想运用到它的类型提醒功能，那么必不可少地需要引入高德地图的声明文件，由于官方也没有给出，我们只能根据api文档来自己书写自己需要用到的函数声明，下面是我们项目中大部分会用到的声明，可以在src目录下新建一个types文件夹专门用于存放声明文件：<code>src/types/Amap.d.ts</code><br><figure class=\"highlight typescript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">declare</span> <span class=\"keyword\">namespace</span> AMap &#123;</span><br><span class=\"line\">    <span class=\"comment\">/**此对象用于表示地图、覆盖物、叠加层上的各种鼠标事件返回，包含以下字段：</span></span><br><span class=\"line\"><span class=\"comment\">    高德的事件说明文档有问题； 不是 LngLat 类，而是一个普通对象;</span></span><br><span class=\"line\"><span class=\"comment\">    **/</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">class</span> MapsEvent &#123;</span><br><span class=\"line\">        <span class=\"comment\">/** 发生事件时光标所在处的经纬度坐标 **/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> lnglat: &#123; lng: <span class=\"built_in\">number</span>, lat: <span class=\"built_in\">number</span> &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 发生事件时光标所在处的像素坐标 **/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> pixel: &#123; x: <span class=\"built_in\">number</span>, y: <span class=\"built_in\">number</span> &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 事件类型。 **/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">type</span>: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 发生事件的目标对象。 **/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> target: <span class=\"built_in\">any</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/** 像素坐标, 确定地图上的一个像素点。 **/</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">class</span> Pixel &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**构造一个像素坐标对象。**/</span></span><br><span class=\"line\">        <span class=\"keyword\">constructor</span>(<span class=\"params\">x: <span class=\"built_in\">number</span>, y: <span class=\"built_in\">number</span></span>);</span><br><span class=\"line\">        <span class=\"comment\">/**获得X方向像素坐标**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getX(): <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获得Y方向像素坐标**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getY(): <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**当前像素坐标与传入像素坐标是否相等**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> equals(point: Pixel): <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**以字符串形式返回像素坐标对象**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> toString(): <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/** 地物对象的像素尺寸 **/</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">class</span> Size &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**构造尺寸对象。参数width: 宽度, height: 长度, 单位: 像素；**/</span></span><br><span class=\"line\">        <span class=\"keyword\">constructor</span>(<span class=\"params\">width: <span class=\"built_in\">number</span>, height: <span class=\"built_in\">number</span></span>);</span><br><span class=\"line\">        <span class=\"comment\">/**获得宽度。**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getWidth(): <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获得高度。**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getHeight(): <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**以字符串形式返回尺寸大小对象(自v1.2 新增)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> toString(): <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/** 经纬度坐标, 确定地图上的一个点。 **/</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">class</span> LngLat &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**构造一个地理坐标对象, lng、lat分别代表经度、纬度值**/</span></span><br><span class=\"line\">        <span class=\"keyword\">constructor</span>(<span class=\"params\">lng: <span class=\"built_in\">number</span>, lat: <span class=\"built_in\">number</span></span>);</span><br><span class=\"line\">        <span class=\"comment\">/**当前经纬度坐标值经度移动w, 纬度移动s, 得到新的坐标。经度向右移为正值, 纬度向上移为正值, 单位为米。(自v1.2 新增)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> offset(w: <span class=\"built_in\">number</span>, s: <span class=\"built_in\">number</span>): LngLat;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**当前经纬度和传入经纬度或者经纬度数组连线之间的地面距离, 单位为米 相关示例**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> distance(lnglat: LngLat | <span class=\"built_in\">Array</span>&lt;LngLat&gt;): <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取经度值。(自v1.2 新增)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getLng(): <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取纬度值。(自v1.2 新增)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getLat(): <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**判断当前坐标对象与传入坐标对象是否相等**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> equals(lnglat: LngLat): <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**LngLat对象以字符串的形式返回。**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> toString(): <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/** 地物对象的经纬度矩形范围。 **/</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">class</span> Bounds &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**矩形范围的构造函数.参数southWest、northEast分别代表地物对象西南角经纬度和东北角经纬度值。**/</span></span><br><span class=\"line\">        <span class=\"keyword\">constructor</span>(<span class=\"params\">southWest: LngLat, northEast: LngLat</span>);</span><br><span class=\"line\">        <span class=\"comment\">/**指定点坐标是否在矩形范围内 相关示例**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> contains(point: LngLat): <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取当前Bounds的中心点经纬度坐标。**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getCenter(): LngLat;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取西南角坐标。**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getSouthWest(): LngLat;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取东北角坐标**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getNorthEast(): LngLat;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**以字符串形式返回地物对象的矩形范围**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> toString(): <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/** MapOptions **/</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">interface</span> MapOptions &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**地图视口, 用于控制影响地图静态显示的属性, 如: 地图中心点“center”推荐直接使用zoom、center属性为地图指定级别和中心点(自v1.3 新增)**/</span></span><br><span class=\"line\">        view?: View2D;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图图层数组, 数组可以是图层 中的一个或多个, 默认为普通二维地图。当叠加多个图层时, 普通二维地图需通过实例化一个TileLayer类实现(自v1.3 新增)**/</span></span><br><span class=\"line\">        layers?: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">any</span>&gt;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图显示的缩放级别, 若center与level未赋值, 地图初始化默认显示用户所在城市范围 3D地图下, zoom值, 可以设置为浮点数。(在V1.3.0版本level参数调整为zoom, 3D地图修改自V1.4.0开始生效)**/</span></span><br><span class=\"line\">        zoom?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图中心点坐标值**/</span></span><br><span class=\"line\">        center?: LngLat | <span class=\"built_in\">number</span>[];</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**3D模式下的地图旋转角度 */</span></span><br><span class=\"line\">        rotation?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图标注显示顺序, 大于110即可将底图上的默认标注显示在覆盖物(圆、折线、面)之上。**/</span></span><br><span class=\"line\">        labelzIndex?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图显示的缩放级别范围在PC上, 默认为[3, 18], 取值范围[3-18]；在移动设备上, 默认为[3, 19], 取值范围[3-19]**/</span></span><br><span class=\"line\">        zooms?: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">any</span>&gt;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图语言类型可选值: zh_cn: 中文简体, en: 英文, zh_en: 中英文对照默认为: zh_cn: 中文简体注: 由于图面内容限制, 中文、英文 、中英文地图POI可能存在不一致的情况(自v1.3 新增)**/</span></span><br><span class=\"line\">        lang?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图默认鼠标样式。参数defaultCursor应符合CSS的cursor属性规范**/</span></span><br><span class=\"line\">        defaultCursor?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图显示的参考坐标系, 取值: 'EPSG3857''EPSG3395''EPSG4326'自V1.3.0移入view对象中**/</span></span><br><span class=\"line\">        crs?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图平移过程中是否使用动画(如调用panBy、panTo、setCenter、setZoomAndCenter等函数, 将对地图产生平移操作, 是否使用动画平移的效果), 默认为true, 即使用动画**/</span></span><br><span class=\"line\">        animateEnable?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**是否开启地图热点, 默认false 不打开(自v1.3 新增)**/</span></span><br><span class=\"line\">        isHotspot?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**当前地图中默认显示的图层。默认图层可以是TileLayer.Satellite等切片地图, 也可以是通过TileLayer自定义的切片图层(自v1.3 废弃)**/</span></span><br><span class=\"line\">        <span class=\"comment\">// defaultLayer?: TileLayer;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图是否可旋转, 默认false。3D视图默认为true, 2D视图默认false。(V1.3版本新增, 3D视图自V1.4.0开始支持)**/</span></span><br><span class=\"line\">        rotateEnable?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**是否监控地图容器尺寸变化, 默认值为false**/</span></span><br><span class=\"line\">        resizeEnable?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**是否在有矢量底图的时候自动展示室内地图, PC端默认是true, 移动端默认是false**/</span></span><br><span class=\"line\">        showIndoorMap?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**在展示矢量图的时候自动展示室内地图图层, 当地图complete之后可以获取到该对象**/</span></span><br><span class=\"line\">        <span class=\"comment\">// indoorMap?: IndoorMap;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**是否支持可以扩展最大缩放级别, 和zooms属性配合使用设置为true的时候, zooms的最大级别在PC上可以扩大到20级, 移动端还是高清19/非高清20**/</span></span><br><span class=\"line\">        expandZoomRange?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图是否可通过鼠标拖拽平移, 默认为true。此属性可被setStatus/getStatus 方法控制**/</span></span><br><span class=\"line\">        dragEnable?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图是否可缩放, 默认值为true。此属性可被setStatus/getStatus 方法控制**/</span></span><br><span class=\"line\">        zoomEnable?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图是否可通过双击鼠标放大地图, 默认为true。此属性可被setStatus/getStatus 方法控制**/</span></span><br><span class=\"line\">        doubleClickZoom?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图是否可通过键盘控制, 默认为true方向键控制地图平移, \"+\"和\"-\"可以控制地图的缩放, Ctrl+“→”顺时针旋转, Ctrl+“←”逆时针旋转。此属性可被setStatus/getStatus 方法控制**/</span></span><br><span class=\"line\">        keyboardEnable?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图是否使用缓动效果, 默认值为true。此属性可被setStatus/getStatus 方法控制**/</span></span><br><span class=\"line\">        jogEnable?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图是否可通过鼠标滚轮缩放浏览, 默认为true。此属性可被setStatus/getStatus 方法控制**/</span></span><br><span class=\"line\">        scrollWheel?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图在移动终端上是否可通过多点触控缩放浏览地图, 默认为true。关闭手势缩放地图, 请设置为false。**/</span></span><br><span class=\"line\">        touchZoom?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**可缺省, 当touchZoomCenter=1的时候, 手机端双指缩放的以地图中心为中心, 否则默认以双指中间点为中心**/</span></span><br><span class=\"line\">        touchZoomCenter?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置地图的显示样式, 目前支持两种地图样式: 第一种: 自定义地图样式, 如\"amap: //styles/d6bf8c1d69cea9f5c696185ad4ac4c86\"可前往地图自定义平台定制自己的个性地图样式；第二种: 官方样式模版, 如\"amap: //styles/grey\"。其他模版样式及自定义地图的使用说明见开发指南**/</span></span><br><span class=\"line\">        mapStyle?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置地图上显示的元素种类支持'bg'(地图背景)、'point'(POI点)、'road'(道路)、'building'(建筑物)**/</span></span><br><span class=\"line\">        features?: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">any</span>&gt;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置地图显示3D楼块效果, 移动端也可使用。推荐使用。**/</span></span><br><span class=\"line\">        showBuildingBlock?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**默认为‘2D’, 可选’3D’, 选择‘3D’会显示 3D 地图效果。(自V1.4.0开始支持)**/</span></span><br><span class=\"line\">        viewMode?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**俯仰角度, 默认0, [0, 83], 2D地图下无效 。(自V1.4.0开始支持)**/</span></span><br><span class=\"line\">        pitch?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**是否允许设置俯仰角度, 3D视图下为true, 2D视图下无效。(自V1.4.0开始支持)**/</span></span><br><span class=\"line\">        pitchEnable?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**楼块出现和消失的时候是否显示动画过程, 3D视图有效, PC端默认true, 手机端默认false。(自V1.4.0开始支持)**/</span></span><br><span class=\"line\">        buildingAnimation?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**调整天空颜色, 配合自定义地图, 3D视图有效, 如‘#ff0000’。(自V1.4.0开始支持)**/</span></span><br><span class=\"line\">        skyColor?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置地图的预加载模式, 开启预加载的地图会在适当时刻提前加载周边和上一级的地图数据, 优化使用体验。该参数默认值true。 (自v1.4.4开始支持)**/</span></span><br><span class=\"line\">        preloadMode?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/** 地图对象类, 封装了地图的属性设置、图层变更、事件交互等接口的类。相关示例 **/</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">class</span> Map &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**构造一个地图对象, 参数container中传入地图容器DIV的ID值或者DIV对象, opts地图初始化参数对象, 参数详情参看MapOptions列表。**/</span></span><br><span class=\"line\">        <span class=\"keyword\">constructor</span>(<span class=\"params\">container: <span class=\"built_in\">string</span> | HTMLDivElement, opts: MapOptions</span>);</span><br><span class=\"line\">        <span class=\"comment\">/**唤起高德地图客户端marker页其中Object里面包含有&#123; id: \"B000A7BD6C\", POIIDname: String, 必要参数location: LngLat|position属性 必须参数&#125;**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> poiOnAMAP(obj: <span class=\"built_in\">any</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**唤起高德地图客户端marker详情页其中Object里面包含有&#123; id: \"B000A7BD6C\", POIIDname: String, 必要参数location: LngLat|position属性 必须参数&#125;**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> detailOnAMAP(obj: <span class=\"built_in\">any</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取当前地图缩放级别, 在PC上, 默认取值范围为[3, 18]；在移动设备上, 默认取值范围为[3-19]3D地图会返回浮点数, 2D视图为整数。(3D地图自V1.4.0开始支持)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getZoom(): <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取地图图层数组, 数组为一个或多个图层(自v1.3 新增)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getLayers(): <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">any</span>&gt;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取地图中心点经纬度坐标值。**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getCenter(): LngLat;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**返回地图对象的容器**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getContainer(): HTMLDivElement;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取地图中心点所在区域, 回调函数返回对象属性分别对应为&#123;省, 市, 区/县&#125;**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getCity(callback: <span class=\"function\">(<span class=\"params\">province: <span class=\"built_in\">string</span>, city: <span class=\"built_in\">string</span>, citycode: <span class=\"built_in\">string</span>, district: <span class=\"built_in\">string</span></span>) =&gt;</span> <span class=\"built_in\">void</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取当前地图视图范围, 获取当前可视区域。3D地图下返回类型为ArrayBounds, 2D地图下仍返回Bounds 。(3D自V1.4.0开始支持)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getBounds(): Bounds;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取当前地图标注的显示顺序**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getLabelzIndex(): <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取Map的限制区域**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getLimitBounds(): Bounds;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取底图语言类型(自v1.3 新增)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getLang(): <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取地图容器像素大小**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getSize(): Size;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取地图顺时针旋转角度(自v1.3 新增)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getRotation(): <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取当前地图状态信息, 包括是否可鼠标拖拽移动地图、地图是否可缩放、地图是否可旋转(rotateEnable)、是否可双击放大地图、是否可以通过键盘控制地图旋转(keyboardEnable)等**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getStatus(): <span class=\"built_in\">any</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取地图默认鼠标指针样式**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getDefaultCursor(): <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取指定位置的地图分辨率, 单位: 米/像素。 参数point有指定值时, 返回指定点地图分辨率, point缺省时, 默认返回当前地图中心点位置的分辨率**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getResolution(point: LngLat): <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取当前地图比例尺。其值为当前地图中心点处比例尺值的倒数**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getScale(dpi: <span class=\"built_in\">number</span>): <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置地图显示的缩放级别, 在PC上, 参数zoom可设范围: [3, 18]；在移动端: 参数zoom可设范围: [3, 19]3D地图下, 可将zoom设置为浮点数。(3D自V1.4.0开始支持)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setZoom(level: <span class=\"built_in\">number</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置地图标注显示的顺序**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setlabelzIndex(index: <span class=\"built_in\">number</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置地图图层数组, 数组为一个或多个图层。当叠加多个图层时, 普通二维地图需通过实例化一个TileLayer类实现(自v1.3 新增)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setLayers(layers: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">any</span>&gt;): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**添加地图覆盖物数组, 数组为一个或多个覆盖物。**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> add(overlayers: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">any</span>&gt;): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**删除地图覆盖物数组, 数组为一个或多个覆盖物。**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> remove(overlayers: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">any</span>&gt;): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**返回添加的覆盖物对象, 可选类型包括marker、circle、polyline、polygon； Type可缺省, 缺省时返回所有覆盖物(marker、circle、polyline、polygon)。 返回结果不包含官方覆盖物等, 比如定位marker, 周边搜索圆等**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getAllOverlays(<span class=\"keyword\">type</span>: <span class=\"built_in\">any</span>): <span class=\"built_in\">any</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置地图显示的中心点**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setCenter(position: LngLat | <span class=\"built_in\">number</span>[]): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图缩放至指定级别并以指定点为地图显示中心点**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setZoomAndCenter(zoomLevel: <span class=\"built_in\">number</span>, center: LngLat | <span class=\"built_in\">number</span>[]): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**按照行政区名称或adcode来设置地图显示的中心点。行政区名称支持中国、省、市、区/县名称, 如遇重名的情况, 会按城市编码表顺序返回第一个。adcode请在城市编码表中查询。建议不要同时使用center/setCenter()和setCity(), 如一起使用程序将以setCity()作为最后结果。 相关示例**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setCity(city: <span class=\"built_in\">string</span>, callback: <span class=\"built_in\">Function</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**指定当前地图显示范围, 参数bounds为指定的范围**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setBounds(bound: Bounds): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置Map的限制区域, 设定区域限制后, 传入参数为限制的Bounds。地图仅在区域内可拖拽 相关示例**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setLimitBounds(bound: Bounds): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**清除限制区域**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> clearLimitBounds(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置地图语言类型, 设置后底图重新加载(自v1.3 新增)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setLang(lang: <span class=\"built_in\">string</span>): <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置地图顺时针旋转角度, 旋转原点为地图容器中心点, 取值范围 [0-360](自v1.3 新增)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setRotation(rotation: <span class=\"built_in\">number</span>): <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置当前地图显示状态, 包括是否可鼠标拖拽移动地图、地图是否可缩放、地图是否可旋转(rotateEnable)、是否可双击放大地图、是否可以通过键盘控制地图旋转(keyboardEnable)等 相关示例**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setStatus(status: <span class=\"built_in\">any</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置鼠标指针默认样式, 参数cursor应符合CSS的cursor属性规范。可为CSS标注中的光标样式, 如: setCursor(“pointer”)等；或者自定义的光标样式, 如: setCursor(\"url('http: //http://lbs.amap.com/webapi/static/Images//0.png'), pointer\")**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setDefaultCursor(cursor: <span class=\"built_in\">string</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图放大一级显示**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> zoomIn(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图缩小一级显示**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> zoomOut(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图中心点平移至指定点位置**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> panTo(positon: LngLat): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**以像素为单位, 沿x方向和y方向移动地图, x向右为正, y向下为正**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> panBy(x: <span class=\"built_in\">number</span>, y: <span class=\"built_in\">number</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**根据地图上添加的覆盖物分布情况, 自动缩放地图到合适的视野级别, 参数overlayList默认为当前地图上添加的所有覆盖物图层**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setFitView(overlayList: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">any</span>&gt;): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**删除地图上所有的覆盖物**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> clearMap(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**注销地图对象, 并清空地图容器**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> destroy(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**插件加载方法。参数name中指定需要加载的插件类型, 同时加载多个插件时, 以字符串数组的形式添加。在Callback回调函数中进行地图插件的创建、插件事件的绑定等操作；插件为地图功能的扩展, 按需加载；插件写作方法, 请参考相关示例。**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> plugin(name: <span class=\"built_in\">string</span> | <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">any</span>&gt;, callback: <span class=\"built_in\">Function</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**添加控件。参数可以是插件列表中的任何插件对象, 如: ToolBar、OverView、Scale等**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> addControl(obj: <span class=\"built_in\">any</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**移除地图上的指定控件**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> removeControl(obj: <span class=\"built_in\">any</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**清除地图上的信息窗体。**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> clearInfoWindow(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**平面地图像素坐标转换为地图经纬度坐标 相关示例**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> pixelToLngLat(pixel: Pixel, level: <span class=\"built_in\">number</span>): LngLat;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图经纬度坐标转换为平面地图像素坐标**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> lnglatToPixel(lngLat: LngLat, level: <span class=\"built_in\">number</span>): Pixel;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图容器像素坐标转为地图经纬度坐标 相关示例**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> containerToLngLat(pixel: Pixel): LngLat;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图经纬度坐标转为地图容器像素坐标**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> lngLatToContainer(lnglat: LngLat): Pixel;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置地图的显示样式, 目前支持两种地图样式: 第一种: 自定义地图样式, 如\"amap: //styles/d6bf8c1d69cea9f5c696185ad4ac4c86\"可前往地图自定义平台定制自己的个性地图样式；第二种: 官方样式模版, 如\"amap: //styles/grey\"。其他模版样式及自定义地图的使用说明见开发指南**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setMapStyle(style: <span class=\"built_in\">string</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取地图显示样式**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getMapStyle(): <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置地图上显示的元素种类, 支持bg(地图背景)、point(兴趣点)、road(道路)、building(建筑物)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setFeatures(feature: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">any</span>&gt;): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取地图显示元素种类**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getFeatures(): <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">any</span>&gt;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**修改底图图层(自v1.3 废弃)**/</span></span><br><span class=\"line\">        <span class=\"comment\">// setDefaultLayer (layer: TileLayer): void;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置俯仰角, 3D视图有效(自V1.4.0开始支持)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setPitch(<span class=\"built_in\">Number</span>: <span class=\"built_in\">any</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取俯仰角(自V1.4.0开始支持)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getPitch(): <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * 绑定事件声明</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> on(event: <span class=\"built_in\">string</span>, callback: <span class=\"built_in\">Function</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/** View2DOptions **/</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">interface</span> View2DOptions &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**地图中心点坐标值**/</span></span><br><span class=\"line\">        center?: LngLat;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图顺时针旋转角度, 取值范围 [0-360], 默认值: 0**/</span></span><br><span class=\"line\">        rotation?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图显示的缩放级别。若center与zoom未赋值, 地图初始化默认显示用户所在城市范围**/</span></span><br><span class=\"line\">        zoom?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图显示的参考坐标系, 取值: 'EPSG3857''EPSG3395''EPSG4326'默认值: 'EPSG3857'**/</span></span><br><span class=\"line\">        crs?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/** 二维地图显示视口, 用于定义二维地图静态显示属性, 如地图缩放级别“zoom”、地图中心点“center”等。 **/</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">class</span> View2D &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**构造一个二维地图显示视口对象, opts二维地图视口对象初始化属性, 详见View2Doptions**/</span></span><br><span class=\"line\">        <span class=\"keyword\">constructor</span>(<span class=\"params\">opt: View2DOptions</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/** MarkerOptions **/</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">interface</span> MarkerOptions &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**要显示该marker的地图对象**/</span></span><br><span class=\"line\">        map?: Map;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记在地图上显示的位置, 默认为地图中心点**/</span></span><br><span class=\"line\">        position?: LngLat | <span class=\"built_in\">number</span>[];</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记显示位置偏移量, 默认值为Pixel(-10, -34)。Marker指定position后, 默认以marker左上角位置为基准点, 对准所给定的position位置, 若需使marker指定位置对准在position处, 需根据marker的尺寸设置一定的偏移量。**/</span></span><br><span class=\"line\">        offset?: Pixel;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**需在点标记中显示的图标。可以是一个本地图标地址, 或者Icon对象。有合法的content内容时, 此属性无效**/</span></span><br><span class=\"line\">        icon?: <span class=\"built_in\">string</span> | Icon;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记显示内容, 可以是HTML要素字符串或者HTML DOM对象。content有效时, icon属性将被覆盖**/</span></span><br><span class=\"line\">        content?: <span class=\"built_in\">string</span> | <span class=\"built_in\">any</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**鼠标点击时marker是否置顶, 默认false , 不置顶</span></span><br><span class=\"line\"><span class=\"comment\">        * (自v1.3 新增)**/</span></span><br><span class=\"line\">        topWhenClick?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**是否将覆盖物的鼠标或touch等事件冒泡到地图上</span></span><br><span class=\"line\"><span class=\"comment\">        * (自v1.3 新增) 默认值: false**/</span></span><br><span class=\"line\">        bubble?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记是否可拖拽移动, 默认为false**/</span></span><br><span class=\"line\">        draggable?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置拖拽点标记时是否开启点标记离开地图的效果**/</span></span><br><span class=\"line\">        raiseOnDrag?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**指定鼠标悬停时的鼠标样式, 自定义cursor, IE仅支持cur/ani/ico格式, Opera不支持自定义cursor**/</span></span><br><span class=\"line\">        cursor?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记是否可见, 默认为true**/</span></span><br><span class=\"line\">        visible?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记的叠加顺序。地图上存在多个点标记叠加时, 通过该属性使级别较高的点标记在上层显示 默认zIndex: 100**/</span></span><br><span class=\"line\">        zIndex?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记的旋转角度, 广泛用于改变车辆行驶方向 注: angle属性是使用CSS3来实现的, 支持IE9及以上版本**/</span></span><br><span class=\"line\">        angle?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**是否自动旋转。点标记在使用moveAlong动画时, 路径方向若有变化, 点标记是否自动调整角度, 默认为false。广泛用于自动调节车辆行驶方向。 IE8以下不支持旋转, autoRotation属性无效**/</span></span><br><span class=\"line\">        autoRotation?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记的动画效果, 默认值: “AMAP_ANIMATION_NONE”</span></span><br><span class=\"line\"><span class=\"comment\">        * 可选值:</span></span><br><span class=\"line\"><span class=\"comment\">        * “AMAP_ANIMATION_NONE”, 无动画效果</span></span><br><span class=\"line\"><span class=\"comment\">        * “AMAP_ANIMATION_DROP”, 点标掉落效果</span></span><br><span class=\"line\"><span class=\"comment\">        * “AMAP_ANIMATION_BOUNCE”, 点标弹跳效果**/</span></span><br><span class=\"line\">        animation?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记阴影, 不设置该属性则点标记无阴影**/</span></span><br><span class=\"line\">        shadow?: Icon;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**鼠标滑过点标记时的文字提示, 不设置则鼠标滑过点标无文字提示**/</span></span><br><span class=\"line\">        title?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记是否可点击**/</span></span><br><span class=\"line\">        clickable?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置Marker的可点击区域, 在定义的区域内可触发Marker的鼠标点击事件**/</span></span><br><span class=\"line\">        shape?: MarkerShape;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**用户自定义属性, 支持JavaScript API任意数据类型, 如Marker的id等**/</span></span><br><span class=\"line\">        extData?: <span class=\"built_in\">any</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**添加文本标注, content为文本标注的内容, offset为偏移量, 左上角为偏移量为(0, 0)**/</span></span><br><span class=\"line\">        label?: &#123; content: <span class=\"built_in\">string</span>, offset: LngLat &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/** Marker类 **/</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">class</span> Marker &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**构造一个点标记对象, 通过MarkerOptions设置点标记对象的属性**/</span></span><br><span class=\"line\">        <span class=\"keyword\">constructor</span>(<span class=\"params\">opt: MarkerOptions</span>);</span><br><span class=\"line\">        <span class=\"comment\">/**唤起高德地图客户端标注页其中Object里面包含有&#123; name: String, name属性 必要参数 position:</span></span><br><span class=\"line\"><span class=\"comment\">        * LngLat 坐标点 &#125;**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> markOnAMAP(obj: <span class=\"built_in\">any</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取Marker偏移量</span></span><br><span class=\"line\"><span class=\"comment\">        * (自v1.3 新增)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getOffset(): Pixel;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置Marker偏移量</span></span><br><span class=\"line\"><span class=\"comment\">        * (自v1.3 新增)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setOffset(offset: Pixel): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记的动画效果, 默认值: “AMAP_ANIMATION_NONE”</span></span><br><span class=\"line\"><span class=\"comment\">        * 可选值:</span></span><br><span class=\"line\"><span class=\"comment\">        * “AMAP_ANIMATION_NONE”, 无动画效果</span></span><br><span class=\"line\"><span class=\"comment\">        * “AMAP_ANIMATION_DROP”, 点标掉落效果</span></span><br><span class=\"line\"><span class=\"comment\">        * “AMAP_ANIMATION_BOUNCE”, 点标弹跳效果**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setAnimation(animate: <span class=\"built_in\">string</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取点标记的动画效果类型**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getAnimation(): <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记是支持鼠标单击事件**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setClickable(clickable: <span class=\"built_in\">boolean</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取点标记是否支持鼠标单击事件**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getClickable(): <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取点标记的位置**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getPosition(): LngLat;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记位置**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setPosition(lnglat: LngLat): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记的旋转角度**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setAngle(angle: <span class=\"built_in\">number</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记文本标签内容相关示例**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setLabel(label: <span class=\"built_in\">any</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取点标记文本标签内容**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getLabel(): <span class=\"built_in\">any</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取点标记的旋转角度**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getAngle(): <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记的叠加顺序, 默认最先添加的点标记在最底层**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setzIndex(index: <span class=\"built_in\">number</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取点标记的叠加顺序**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getzIndex(): <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记的显示图标。 参数image可传入String、Icon两种类型的值。</span></span><br><span class=\"line\"><span class=\"comment\">        * 若为String(图片url), 表示点标记以指定图片形式显示；若为Icon, 表示点标记以Icon对象形式显示**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setIcon(content: <span class=\"built_in\">string</span> | Icon): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**当点标记未自定义图标时, 获取Icon内容**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getIcon(): <span class=\"built_in\">string</span></span><br><span class=\"line\">            | Icon;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记对象是否可拖拽移动**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setDraggable(draggable: <span class=\"built_in\">boolean</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取点标记对象是否可拖拽移动**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getDraggable(): <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记隐藏**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> hide(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记显示**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> show(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置鼠标悬停时的光标。 参数cur可为CSS标注中的光标样式, 如:</span></span><br><span class=\"line\"><span class=\"comment\">        * setCursor(“pointer”)等；或者自定义的光标样式, 如:</span></span><br><span class=\"line\"><span class=\"comment\">        * setCursor(\"url('http: //http://webapi.amap.com/images/0.png') , pointer\")</span></span><br><span class=\"line\"><span class=\"comment\">        * 注: 当浏览器不支持css2, url值不起作用, 鼠标样式就按pointer来设置**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setCursor(Cursor: <span class=\"built_in\">any</span>): <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记显示内容, 可以是HTML要素字符串或者HTML DOM对象**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setContent(html: <span class=\"built_in\">string</span> | HTMLDivElement): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取点标记内容**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getContent(): <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**以指定的速度, 点标记沿指定的路径移动。参数path为路径坐标串；speed为指定速度, 单位: 千米/小时； 回调函数f为变化曲线函数, 缺省为function(k)&#123;return k&#125;；参数circlable表明是否循环执行动画, 默认为false**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> moveAlong(path: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">any</span>&gt;, speed: <span class=\"built_in\">number</span>,</span><br><span class=\"line\">            f: <span class=\"built_in\">Function</span>, circlable: <span class=\"built_in\">boolean</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**以给定速度移动点标记到指定位置。参数lnglat为指定位置, 必设；speed为指定速度, 单位: 千米/小时；回调函数f为变化曲线函数, 缺省为function(k)&#123;return k&#125;。**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> moveTo(lnglat: LngLat, speed: <span class=\"built_in\">number</span>,</span><br><span class=\"line\">            f: <span class=\"built_in\">Function</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记停止动画**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> stopMove(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**暂定点标记的动画效果**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> pauseMove(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**重新开始点标记的动画效果**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> resumeMove(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**为Marker指定目标显示地图。当参数值取null时, 地图上移除当前Marker: setMap(null)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setMap(map?: Map | <span class=\"literal\">null</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取Marker所在地图对象**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getMap(): Map;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**鼠标滑过点标时的文字提示**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setTitle(title: <span class=\"built_in\">string</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取点标记的文字提示**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getTitle(): <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图上有多个marker时, 当isTop为true时, marker将显示在最前面；当为false时, marker取消置顶**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setTop(isTop: <span class=\"built_in\">boolean</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/****/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getTop(): <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**为marker设置阴影效果**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setShadow(icon: Icon): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取marker的阴影图标**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getShadow(): Icon;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置marker的可点击区域**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setShape(shape: MarkerShape): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取marker的可点击区域**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getShape(): MarkerShape;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置用户自定义属性, 支持JavaScript API任意数据类型, 如Marker的id等**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setExtData(ext: <span class=\"built_in\">any</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取用户自定义属性**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getExtData(): <span class=\"built_in\">any</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/** MarkerShapeOptions **/</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">interface</span> MarkerShapeOptions &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**可点击区域组成元素数组, 存放图形的像素坐标等信息, 该数组元素由type决定: - circle: coords格式为 [x1, y1, r], x1, y1为圆心像素坐标, r为圆半径 - poly: coords格式为 [x1, y1, x2, y2 … xn, yn], 各x, y表示多边形边界像素坐标 - rect: coords格式为 [x1, y1, x2, y2], x1, y1为矩形左上角像素坐标, x2, y2为矩形右下角像素坐标 Markshape的像素坐标是指相对于marker的左上角的像素坐标偏移量**/</span></span><br><span class=\"line\">        coords?: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">number</span>&gt;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**可点击区域类型, 可选值: - circle: 圆形 - poly: 多边形 - rect: 矩形**/</span></span><br><span class=\"line\">        <span class=\"keyword\">type</span>?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/** MarkerShape **/</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">class</span> MarkerShape &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**构造一个Marker可点击区域对象, 通过MarkerShapeOptions设置可点击区域属性**/</span></span><br><span class=\"line\">        <span class=\"keyword\">constructor</span>(<span class=\"params\">opt: MarkerShapeOptions</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/** IconOptions **/</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">interface</span> IconOptions &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**图标尺寸, 默认值(36, 36)**/</span></span><br><span class=\"line\">        size?: Size;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**图标取图偏移量。当image中指定了一个大图时, 可通过size和imageOffset配合, 显示图标的指定范围**/</span></span><br><span class=\"line\">        imageOffset?: Pixel;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**图标的取图地址。默认为蓝色图钉图片**/</span></span><br><span class=\"line\">        image?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**图标所用图片大小, 根据所设置的大小拉伸或压缩图片, 等同于CSS中的background-size属性。可用于实现高清屏的高清效果**/</span></span><br><span class=\"line\">        imageSize?: Size;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/** MarkerShape **/</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">class</span> Icon &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**构造点覆盖物图标, 通过IconOptions设置图标属性**/</span></span><br><span class=\"line\">        <span class=\"keyword\">constructor</span>(<span class=\"params\">opt: IconOptions</span>);</span><br><span class=\"line\">        <span class=\"comment\">/**获取图标图片大小**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getImageSize(): Size;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置图标图片大小**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setImageSize(size: Size): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/** ElasticMarkerOptions **/</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">interface</span> ElasticMarkerOptions &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**多个不同样式的数组, 每个样式形如:</span></span><br><span class=\"line\"><span class=\"comment\">        *&#123;</span></span><br><span class=\"line\"><span class=\"comment\">        * icon: &#123;</span></span><br><span class=\"line\"><span class=\"comment\">        * img: './a, png',</span></span><br><span class=\"line\"><span class=\"comment\">        * size: [16, 16], //图标的原始大小</span></span><br><span class=\"line\"><span class=\"comment\">        * ancher: [8, 16], //锚点, 图标原始大小下锚点所处的位置, 相对左上角</span></span><br><span class=\"line\"><span class=\"comment\">        * imageOffset: [360, 340],</span></span><br><span class=\"line\"><span class=\"comment\">        * //可缺省, 当使用精灵图时可用, 标示图标在整个图片中左上角的位置</span></span><br><span class=\"line\"><span class=\"comment\">        * imageSize: [512, 512],</span></span><br><span class=\"line\"><span class=\"comment\">        * //可缺省, 当使用精灵图时可用, 整张图片的大小</span></span><br><span class=\"line\"><span class=\"comment\">        * fitZoom: 14, //最合适的级别, 在此级别下显示为原始大小</span></span><br><span class=\"line\"><span class=\"comment\">        * scaleFactor: 2, //地图放大一级的缩放比例系数</span></span><br><span class=\"line\"><span class=\"comment\">        * maxScale: 2, //最大放大比例</span></span><br><span class=\"line\"><span class=\"comment\">        * minScale: 1//最小放大比例</span></span><br><span class=\"line\"><span class=\"comment\">        * &#125;,</span></span><br><span class=\"line\"><span class=\"comment\">        * label: &#123;</span></span><br><span class=\"line\"><span class=\"comment\">        * content: '标记1', //文本内容</span></span><br><span class=\"line\"><span class=\"comment\">        * position: 'BM', //文本位置相对于图标的基准点,</span></span><br><span class=\"line\"><span class=\"comment\">        * //BL、BM、BR、ML、MR、TL、TM、TR分别代表左下角、底部中央、右下角、</span></span><br><span class=\"line\"><span class=\"comment\">        * //左侧中央、右侧中央、左上角、顶部中央、右上角。</span></span><br><span class=\"line\"><span class=\"comment\">        * //缺省时代表相对图标的锚点位置</span></span><br><span class=\"line\"><span class=\"comment\">        * offset: [-35, 0], //相对position的偏移量</span></span><br><span class=\"line\"><span class=\"comment\">        * minZoom: 15//label的最小显示级别</span></span><br><span class=\"line\"><span class=\"comment\">        * &#125;</span></span><br><span class=\"line\"><span class=\"comment\">        *&#125;**/</span></span><br><span class=\"line\">        styles?: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">any</span>&gt;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**表示地图级别与styles中样式对应关系的映射, 如: &#123;</span></span><br><span class=\"line\"><span class=\"comment\">        * 14: 0,</span></span><br><span class=\"line\"><span class=\"comment\">        * 15: 0,</span></span><br><span class=\"line\"><span class=\"comment\">        * 16: 1,</span></span><br><span class=\"line\"><span class=\"comment\">        * 17: 1,</span></span><br><span class=\"line\"><span class=\"comment\">        * 18: 1,</span></span><br><span class=\"line\"><span class=\"comment\">        * 19: 1,</span></span><br><span class=\"line\"><span class=\"comment\">        * 20: 1</span></span><br><span class=\"line\"><span class=\"comment\">        * &#125; 表示14到15级使用styles中的第0个样式, 16-20级使用第二个样式**/</span></span><br><span class=\"line\">        zoomStyleMapping?: <span class=\"built_in\">any</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**要显示该标记的地图对象**/</span></span><br><span class=\"line\">        map?: Map;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记在地图上显示的位置, 默认为地图中心点**/</span></span><br><span class=\"line\">        position?: LngLat;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**鼠标点击时marker是否置顶, 默认false , 不置顶</span></span><br><span class=\"line\"><span class=\"comment\">        * (自v1.3 新增)**/</span></span><br><span class=\"line\">        topWhenClick?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**是否将覆盖物的鼠标或touch等事件冒泡到地图上</span></span><br><span class=\"line\"><span class=\"comment\">        * (自v1.3 新增) 默认值: false**/</span></span><br><span class=\"line\">        bubble?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记是否可拖拽移动, 默认为false**/</span></span><br><span class=\"line\">        draggable?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**指定鼠标悬停时的鼠标样式, 自定义cursor, IE仅支持cur/ani/ico格式, Opera不支持自定义cursor**/</span></span><br><span class=\"line\">        cursor?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记是否可见, 默认为true**/</span></span><br><span class=\"line\">        visible?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记的叠加顺序。地图上存在多个点标记叠加时, 通过该属性使级别较高的点标记在上层显示 默认zIndex: 100**/</span></span><br><span class=\"line\">        zIndex?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记是否可点击**/</span></span><br><span class=\"line\">        clickable?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**用户自定义属性, 支持JavaScript API任意数据类型, 如Marker的id等**/</span></span><br><span class=\"line\">        extData?: <span class=\"built_in\">any</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/** 灵活点标记, 一种可以随着地图级别变化而改变图标和大小的点标记, 插件类。查看示例 **/</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">class</span> ElasticMarker &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**构造一个灵活点标记对象, 通过ElasticMarkerOptions设置点标记对象的属性**/</span></span><br><span class=\"line\">        <span class=\"keyword\">constructor</span>(<span class=\"params\">opt: ElasticMarkerOptions</span>);</span><br><span class=\"line\">        <span class=\"comment\">/**唤起高德地图客户端标注页其中Object里面包含有&#123; name: String, name属性 必要参数 position:</span></span><br><span class=\"line\"><span class=\"comment\">        * LngLat 坐标点 &#125;**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> markOnAMAP(obj: <span class=\"built_in\">any</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记是支持鼠标单击事件**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setClickable(clickable: <span class=\"built_in\">boolean</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取点标记是否支持鼠标单击事件**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getClickable(): <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取点标记的位置**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getPosition(): LngLat;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记位置**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setPosition(lnglat: LngLat): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记的叠加顺序, 默认最先添加的点标记在最底层**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setzIndex(index: <span class=\"built_in\">number</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取点标记的叠加顺序**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getzIndex(): <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记对象是否可拖拽移动**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setDraggable(draggable: <span class=\"built_in\">boolean</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取点标记对象是否可拖拽移动**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getDraggable(): <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记隐藏**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> hide(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记显示**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> show(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置鼠标悬停时的光标。 参数cur可为CSS标注中的光标样式, 如:</span></span><br><span class=\"line\"><span class=\"comment\">        * setCursor(“pointer”)等；或者自定义的光标样式, 如:</span></span><br><span class=\"line\"><span class=\"comment\">        * setCursor(\"url('http: //http://webapi.amap.com/images/0.png') , pointer\")</span></span><br><span class=\"line\"><span class=\"comment\">        * 注: 当浏览器不支持css2, url值不起作用, 鼠标样式就按pointer来设置**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setCursor(Cursor: <span class=\"built_in\">any</span>): <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**为Marker指定目标显示地图。当参数值取null时, 地图上移除当前Marker: setMap(null)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setMap(map: Map): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取Marker所在地图对象**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getMap(): Map;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**鼠标滑过点标时的文字提示**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setTitle(title: <span class=\"built_in\">string</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取点标记的文字提示**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getTitle(): <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图上有多个marker时, 当isTop为true时, marker将显示在最前面；当为false时, marker取消置顶**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setTop(isTop: <span class=\"built_in\">boolean</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/****/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getTop(): <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置用户自定义属性, 支持JavaScript API任意数据类型, 如Marker的id等**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setExtData(ext: <span class=\"built_in\">any</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取用户自定义属性**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getExtData(): <span class=\"built_in\">any</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/** TextOptions **/</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">interface</span> TextOptions &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**标记显示的文本内容**/</span></span><br><span class=\"line\">        text?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**横向位置, 'left' 'right', 'center'可选**/</span></span><br><span class=\"line\">        textAlign?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**纵向位置, 'top' 'middle', 'bottom'可选**/</span></span><br><span class=\"line\">        verticalAlign?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**要显示该标记的地图对象**/</span></span><br><span class=\"line\">        map?: Map;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记在地图上显示的位置, 默认为地图中心点**/</span></span><br><span class=\"line\">        position?: LngLat;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记显示位置偏移量, 默认值为Pixel(-10, -34)。Marker指定position后, 默认以marker左上角位置为基准点, 对准所给定的position位置, 若需使marker指定位置对准在position处, 需根据marker的尺寸设置一定的偏移量。**/</span></span><br><span class=\"line\">        offset?: Pixel;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**鼠标点击时是否置顶, 默认false , 不置顶**/</span></span><br><span class=\"line\">        topWhenClick?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**是否将覆盖物的鼠标或touch等事件冒泡到地图上</span></span><br><span class=\"line\"><span class=\"comment\">        * 默认值: false**/</span></span><br><span class=\"line\">        bubble?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记是否可拖拽移动, 默认为false**/</span></span><br><span class=\"line\">        draggable?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置拖拽点标记时是否开启点标记离开地图的效果**/</span></span><br><span class=\"line\">        raiseOnDrag?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**指定鼠标悬停时的鼠标样式, 自定义cursor, IE仅支持cur/ani/ico格式, Opera不支持自定义cursor**/</span></span><br><span class=\"line\">        cursor?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记是否可见, 默认为true**/</span></span><br><span class=\"line\">        visible?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记的叠加顺序。地图上存在多个点标记叠加时, 通过该属性使级别较高的点标记在上层显示 默认zIndex: 100**/</span></span><br><span class=\"line\">        zIndex?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记的旋转角度, 广泛用于改变车辆行驶方向 注: angle属性是使用CSS3来实现的, 支持IE9及以上版本**/</span></span><br><span class=\"line\">        angle?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**是否自动旋转。点标记在使用moveAlong动画时, 路径方向若有变化, 点标记是否自动调整角度, 默认为false。广泛用于自动调节车辆行驶方向。 IE8以下不支持旋转, autoRotation属性无效**/</span></span><br><span class=\"line\">        autoRotation?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记的动画效果, 默认值: “AMAP_ANIMATION_NONE”</span></span><br><span class=\"line\"><span class=\"comment\">        * 可选值:</span></span><br><span class=\"line\"><span class=\"comment\">        * “AMAP_ANIMATION_NONE”, 无动画效果</span></span><br><span class=\"line\"><span class=\"comment\">        * “AMAP_ANIMATION_DROP”, 点标掉落效果</span></span><br><span class=\"line\"><span class=\"comment\">        * “AMAP_ANIMATION_BOUNCE”, 点标弹跳效果**/</span></span><br><span class=\"line\">        animation?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记阴影, 不设置该属性则点标记无阴影**/</span></span><br><span class=\"line\">        shadow?: Icon;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**鼠标滑过点标记时的文字提示, 不设置则鼠标滑过点标无文字提示**/</span></span><br><span class=\"line\">        title?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记是否可点击**/</span></span><br><span class=\"line\">        clickable?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**用户自定义属性, 支持JavaScript API任意数据类型, 如Marker的id等**/</span></span><br><span class=\"line\">        extData?: <span class=\"built_in\">any</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/** 纯文本标记, 继承自Marker, 具有Marker的大部分属性、方法和事件(v1.4.2新增) **/</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">class</span> Text &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**构造一个点标记对象, 通过TextOptions设置点标记对象的属性**/</span></span><br><span class=\"line\">        <span class=\"keyword\">constructor</span>(<span class=\"params\">opt: TextOptions</span>);</span><br><span class=\"line\">        <span class=\"comment\">/**获取文本内容**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getText(): <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**修改文本内容**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setText(<span class=\"built_in\">String</span>: <span class=\"built_in\">any</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置文本样式, Object同css样式表, 如: &#123;'background-color': 'red'&#125;**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setStyle(<span class=\"built_in\">Object</span>: <span class=\"built_in\">any</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**唤起高德地图客户端标注页其中Object里面包含有&#123; name: String, name属性 必要参数 position:</span></span><br><span class=\"line\"><span class=\"comment\">        * LngLat 坐标点 &#125;**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> markOnAMAP(obj: <span class=\"built_in\">any</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取偏移量**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getOffset(): Pixel;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置偏移量**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setOffset(offset: Pixel): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记的动画效果, 默认值: “AMAP_ANIMATION_NONE”</span></span><br><span class=\"line\"><span class=\"comment\">        * 可选值:</span></span><br><span class=\"line\"><span class=\"comment\">        * “AMAP_ANIMATION_NONE”, 无动画效果</span></span><br><span class=\"line\"><span class=\"comment\">        * “AMAP_ANIMATION_DROP”, 点标掉落效果</span></span><br><span class=\"line\"><span class=\"comment\">        * “AMAP_ANIMATION_BOUNCE”, 点标弹跳效果**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setAnimation(animate: <span class=\"built_in\">string</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取点标记的动画效果类型**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getAnimation(): <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记是支持鼠标单击事件**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setClickable(clickable: <span class=\"built_in\">boolean</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取点标记是否支持鼠标单击事件**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getClickable(): <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取点标记的位置**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getPosition(): LngLat;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记位置**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setPosition(lnglat: LngLat): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记的旋转角度**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setAngle(angle: <span class=\"built_in\">number</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取点标记的旋转角度**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getAngle(): <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记的叠加顺序, 默认最先添加的点标记在最底层**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setzIndex(index: <span class=\"built_in\">number</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取点标记的叠加顺序**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getzIndex(): <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置点标记对象是否可拖拽移动**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setDraggable(draggable: <span class=\"built_in\">boolean</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取点标记对象是否可拖拽移动**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getDraggable(): <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记隐藏**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> hide(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记显示**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> show(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置鼠标悬停时的光标。 参数cur可为CSS标注中的光标样式, 如:</span></span><br><span class=\"line\"><span class=\"comment\">        * setCursor(“pointer”)等；或者自定义的光标样式, 如:</span></span><br><span class=\"line\"><span class=\"comment\">        * setCursor(\"url('http: //http://webapi.amap.com/images/0.png') , pointer\")</span></span><br><span class=\"line\"><span class=\"comment\">        * 注: 当浏览器不支持css2, url值不起作用, 鼠标样式就按pointer来设置**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setCursor(Cursor: <span class=\"built_in\">any</span>): <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**以指定的速度, 点标记沿指定的路径移动。参数path为路径坐标串；speed为指定速度, 单位: 千米/小时； 回调函数f为变化曲线函数, 缺省为function(k)&#123;return k&#125;；参数circlable表明是否循环执行动画, 默认为false**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> moveAlong(path: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">any</span>&gt;, speed: <span class=\"built_in\">number</span>,</span><br><span class=\"line\">            f: <span class=\"built_in\">Function</span>, circlable: <span class=\"built_in\">boolean</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**以给定速度移动点标记到指定位置。参数lnglat为指定位置, 必设；speed为指定速度, 单位: 千米/小时；回调函数f为变化曲线函数, 缺省为function(k)&#123;return k&#125;。**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> moveTo(lnglat: LngLat, speed: <span class=\"built_in\">number</span>,</span><br><span class=\"line\">            f: <span class=\"built_in\">Function</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**点标记停止动画**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> stopMove(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**暂定点标记的动画效果**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> pauseMove(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**重新开始点标记的动画效果**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> resumeMove(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**为Marker指定目标显示地图。当参数值取null时, 地图上移除当前Marker: setMap(null)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setMap(map: Map): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取Marker所在地图对象**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getMap(): Map;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**鼠标滑过点标时的文字提示**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setTitle(title: <span class=\"built_in\">string</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取点标记的文字提示**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getTitle(): <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图上有多个marker时, 当isTop为true时, marker将显示在最前面；当为false时, marker取消置顶**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setTop(isTop: <span class=\"built_in\">boolean</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/****/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getTop(): <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置阴影效果**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setShadow(icon: Icon): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取阴影图标**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getShadow(): Icon;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置用户自定义属性, 支持JavaScript API任意数据类型, 如Marker的id等**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setExtData(ext: <span class=\"built_in\">any</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取用户自定义属性**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getExtData(): <span class=\"built_in\">any</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">/** PolylineOptions **/</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">interface</span> PolylineOptions &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**要显示该polyline的地图对象**/</span></span><br><span class=\"line\">        map?: Map;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**折线覆盖物的叠加顺序。默认叠加顺序, 先添加的线在底层, 后添加的线在上层。通过该属性可调整叠加顺序, 使级别较高的折线覆盖物在上层显示 默认zIndex: 50**/</span></span><br><span class=\"line\">        zIndex?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**是否将覆盖物的鼠标或touch等事件冒泡到地图上</span></span><br><span class=\"line\"><span class=\"comment\">        * (自v1.3 新增) 默认值: false**/</span></span><br><span class=\"line\">        bubble?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**指定鼠标悬停时的鼠标样式, 自定义cursor, IE仅支持cur/ani/ico格式, Opera不支持自定义cursor**/</span></span><br><span class=\"line\">        cursor?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**是否绘制成大地线, 默认false相关示例**/</span></span><br><span class=\"line\">        geodesic?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**线条是否带描边, 默认false**/</span></span><br><span class=\"line\">        isOutline?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**描边的宽度, 默认为1**/</span></span><br><span class=\"line\">        borderWeight?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**线条描边颜色, 此项仅在isOutline为true时有效, 默认: #000000**/</span></span><br><span class=\"line\">        outlineColor?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**折线的节点坐标数组**/</span></span><br><span class=\"line\">        path?: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">any</span>&gt;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**线条颜色, 使用16进制颜色代码赋值。默认值为#006600**/</span></span><br><span class=\"line\">        strokeColor?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**线条透明度, 取值范围[0, 1], 0表示完全透明, 1表示不透明。默认为0.9**/</span></span><br><span class=\"line\">        strokeOpacity?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**线条宽度, 单位: 像素**/</span></span><br><span class=\"line\">        strokeWeight?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**线样式, 实线: solid, 虚线: dashed**/</span></span><br><span class=\"line\">        strokeStyle?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**勾勒形状轮廓的虚线和间隙的样式, 此属性在strokeStyle 为dashed 时有效, 此属性在ie9+浏览器有效 取值:</span></span><br><span class=\"line\"><span class=\"comment\">        * 实线: [0, 0, 0] 虚线: [10, 10] , [10, 10] 表示10个像素的实线和10个像素的空白(如此反复)组成的虚线 点画线: [10, 2, 10], [10, 2, 10] 表示10个像素的实线和2个像素的空白 + 10个像素的实线和10个像素的空白 (如此反复)组成的虚线**/</span></span><br><span class=\"line\">        strokeDasharray?: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">any</span>&gt;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**折线拐点的绘制样式, 默认值为'miter'尖角, 其他可选值: 'round'圆角、'bevel'斜角**/</span></span><br><span class=\"line\">        lineJoin?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**折线两端线帽的绘制样式, 默认值为'butt'无头, 其他可选值: 'round'圆头、'square'方头**/</span></span><br><span class=\"line\">        lineCap?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置折线是否可拖拽移动, 默认为false**/</span></span><br><span class=\"line\">        draggable?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**用户自定义属性, 支持JavaScript API任意数据类型, 如Polyline的id等**/</span></span><br><span class=\"line\">        extData?: <span class=\"built_in\">any</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**是否延路径显示白色方向箭头, 默认false。Canvas绘制时有效, 建议折线宽度大于6时使用；在3D视图下不支持显示方向箭头(自V1.4.0版本参数效果变更)**/</span></span><br><span class=\"line\">        showDir?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/** Polyline类 **/</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">class</span> Polyline &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**构造折线对象, 通过PolylineOptions指定折线样式**/</span></span><br><span class=\"line\">        <span class=\"keyword\">constructor</span>(<span class=\"params\">opt: PolylineOptions</span>);</span><br><span class=\"line\">        <span class=\"comment\">/**设置组成该折线的节点数组**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setPath(path: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">any</span>&gt;): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取折线路径的节点数组。其中lat和lng是经纬度参数。**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getPath(): <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">any</span>&gt;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**修改折线属性(包括路径的节点、线样式、是否绘制大地线等。属性详情参看PolylineOptions列表)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setOptions(opt: PolylineOptions): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取线的属性**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getOptions(): <span class=\"built_in\">any</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取折线的总长度(单位: 米)**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getLength(): <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取当前折线的矩形范围对象**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getBounds(): Bounds;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图上隐藏指定折线**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> hide(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**地图上显示指定折线**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> show(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置折线所在的地图。参数map即为目标地图, 参数为null时, 在地图上移除当前折线**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setMap(map: Map): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**设置用户自定义属性, 支持JavaScript API任意数据类型, 如Polyline的id等**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setExtData(ext: <span class=\"built_in\">any</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**获取用户自定义属性**/</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getExtData(): <span class=\"built_in\">any</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 多边形绘制的配置项接口</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">interface</span> PolygonOption &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 要显示该polygon的地图对象 */</span></span><br><span class=\"line\">        map?: Map;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 多边形覆盖物的叠加顺序。地图上存在多个多边形覆盖物叠加时，</span></span><br><span class=\"line\"><span class=\"comment\">             通过该属性使级别较高的多边形覆盖物在上层显示。 默认zIndex：10</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        zIndex?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 组成多边形的点集合，格式：[[113.2323,23.2323],[122.33333,44.232323],[...]] */</span></span><br><span class=\"line\">        path: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">number</span>[]&gt;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 是否将覆盖物的鼠标或touch等事件冒泡到地图上, 默认值：false*/</span></span><br><span class=\"line\">        bubble?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 指定鼠标悬停时的鼠标样式，自定义cursor，IE仅支持cur/ani/ico格式，Opera不支持自定义cursor */</span></span><br><span class=\"line\">        cursor?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 线条的绘制颜色 ,如：'#FF33FF'  */</span></span><br><span class=\"line\">        strokeColor?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 线条的绘制宽度， 如：6 */</span></span><br><span class=\"line\">        strokeWeight?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 线条的透明度，区间[0,1],如：0.5 */</span></span><br><span class=\"line\">        strokeOpacity?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 多边形内容的透明度，如：0.7 */</span></span><br><span class=\"line\">        fillOpacity?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 多边形的填充颜色，如:'#1791fc' */</span></span><br><span class=\"line\">        fillColor?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 设置多边形是否可拖拽移动，默认为false */</span></span><br><span class=\"line\">        draggable?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 用户自定义属性，支持JavaScript API任意数据类型，如Polygon的id等 */</span></span><br><span class=\"line\">        extData?: <span class=\"built_in\">any</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 轮廓线样式，实线:solid，虚线:dashed */</span></span><br><span class=\"line\">        strokeStyle?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 勾勒形状轮廓的虚线和间隙的样式，此属性在strokeStyle 为dashed 时有效</span></span><br><span class=\"line\"><span class=\"comment\">         * 实线：[0,0,0]</span></span><br><span class=\"line\"><span class=\"comment\">         * 虚线：[10,10] ，[10,10] 表示10个像素的实线和10个像素的空白（如此反复）组成的虚线</span></span><br><span class=\"line\"><span class=\"comment\">         * 点画线：[10,2,10]， [10,2,10] 表示10个像素的实线和2个像素的空白 + 10个像素的实线和10个像素的空白 （如此反复）组成的虚线</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        strokeDasharray?: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">number</span>&gt;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 是否绘制完后自动跳转到 */</span></span><br><span class=\"line\">        autoSetView?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * Polygon类</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">class</span> Polygon &#123;</span><br><span class=\"line\">        <span class=\"comment\">/** 以PolygonOption作为构建函数的配置项  */</span></span><br><span class=\"line\">        <span class=\"keyword\">constructor</span>(<span class=\"params\">opt: PolygonOption</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        /** 设置多边形轮廓线节点数组，当为“环”多边形时，path为二维数组，数组元素为多边形轮廓线的节点坐标数组  */</span><br><span class=\"line\">        public setPath(<span class=\"params\">path: <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">number</span>[] | LngLat&gt;</span>): void;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 获取多边形轮廓线节点数组。其中lat和lng是经纬度参数 */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getPath(): <span class=\"built_in\">Array</span>&lt;<span class=\"built_in\">any</span>&gt;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 修改多边形属性（样式风格，包括组成多边形轮廓线的节点、轮廓线样式等。属性详情参看PolygonOptions列表） */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setOptions(opt: PolygonOption): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 获取多边形的属性 */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getOptions(): <span class=\"built_in\">any</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 获取当前多边形的矩形范围对象 */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getBounds(): Bounds;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 获取多边形的面积（单位：平方米） */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getArea(): <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 隐藏多边形 */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> hide(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 显示多边形 */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> show(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 在指定地图上显示当前的多边形。参数取值为null时，在地图上移除当前多边形  */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setMap(map: Map): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 设置用户自定义属性，支持JavaScript API任意数据类型，如Polygon的id等 */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setExtData(ext: <span class=\"built_in\">any</span>): <span class=\"built_in\">any</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 获取用户自定义属性 */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getExtData(): <span class=\"built_in\">any</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 判断指定点坐标是否在多边形范围内 */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> contains(point: LngLat | <span class=\"built_in\">number</span>[]): <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * InfoWindow配置项接口</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">interface</span> InfoWindowOption &#123;</span><br><span class=\"line\">        <span class=\"comment\">/** 是否自定义窗体。设为true时，信息窗体外框及内容完全按照content所设的值添加 */</span></span><br><span class=\"line\">        isCustom?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 是否自动调整窗体到视野内 */</span></span><br><span class=\"line\">        autoMove?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 控制是否在鼠标点击地图后关闭信息窗体，默认false，鼠标点击地图后不关闭信息窗体 */</span></span><br><span class=\"line\">        closeWhenClickMap?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 显示内容，可以是HTML要素字符串或者HTMLElement对象 */</span></span><br><span class=\"line\">        content?: <span class=\"built_in\">string</span> | HTMLElement;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 信息窗体尺寸（isCustom为true时，该属性无效） */</span></span><br><span class=\"line\">        size?: Size;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 信息窗体锚点。默认值：'bottom-center';可选值：'top-left'|'top-center'|'top-right'|'middle-left'|'center'|'middle-right'|'bottom-left'|'bottom-center'|'bottom-right' */</span></span><br><span class=\"line\">        anchor?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 信息窗体显示位置偏移量。默认基准点为信息窗体的底部中心 */</span></span><br><span class=\"line\">        offset?: Pixel;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 信息窗体显示基点位置 */</span></span><br><span class=\"line\">        position?: <span class=\"built_in\">number</span>[];</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** Boolean 控制是否显示信息窗体阴影，取值false时不显示窗体阴影，取值true时显示窗体阴影 */</span></span><br><span class=\"line\">        showShadow?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 信息窗体关闭时，是否将其Dom元素从页面中移除，默认为false */</span></span><br><span class=\"line\">        retainWhenClose?: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * InfoWindow类</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">export</span> <span class=\"keyword\">class</span> InfoWindow &#123;</span><br><span class=\"line\">        <span class=\"comment\">/** 构建信息窗体对象，使用InfoWindowOption的配置项 */</span></span><br><span class=\"line\">        <span class=\"keyword\">constructor</span>(<span class=\"params\">opt: InfoWindowOption</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 在地图的指定位置打开信息窗体  */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> open(map: Map, pos: AMap.LngLat | <span class=\"built_in\">number</span>[]): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 关闭信息窗体 */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> close(): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 获取信息窗体是否打开 */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getIsOpen(): <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 设置信息窗体内容，可通过该函数动态更新信息窗体中的信息 */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setContent(content: <span class=\"built_in\">string</span> | HTMLElement): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 获取信息窗体内容 ，结果以字符串方式返回 */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getContent(): <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 设置信息窗体显示基点位置 */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setPosition(lnglat: LngLat): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 获取信息窗体显示基点位置 */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getPosition(): LngLat | <span class=\"built_in\">number</span>[];</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 获取信息窗体锚点 */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getAnchor(): <span class=\"built_in\">string</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 设置信息窗体锚点</span></span><br><span class=\"line\"><span class=\"comment\">            可选值：'top-left'|'top-center'|'top-right'|'middle-left'|</span></span><br><span class=\"line\"><span class=\"comment\">            'center'|'middle-right'|'bottom-left'|'bottom-center'|'bottom-right'</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setAnchor(anchor: <span class=\"built_in\">string</span>): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 设置信息窗体大小（isCustom为false时有效） */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> setSize(size: Size): <span class=\"built_in\">void</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/** 获取信息窗体大小 */</span></span><br><span class=\"line\">        <span class=\"keyword\">public</span> getSize(): Size;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"tsconfig-json\"><a href=\"#tsconfig-json\" class=\"headerlink\" title=\"tsconfig.json\"></a>tsconfig.json</h4><figure class=\"highlight prolog\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"include\"</span>: [</span><br><span class=\"line\">    <span class=\"string\">\"types\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"src/**/*.ts\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"src/**/*.tsx\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"src/**/*.vue\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"tests/**/*.ts\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"tests/**/*.tsx\"</span></span><br><span class=\"line\"> ],</span><br></pre></td></tr></table></figure>","tags":["前端","学习","vue3","ts"]},{"title":"前端页面内权限控制规范","url":"/2018/03/13/%E5%89%8D%E7%AB%AF%E9%A1%B5%E9%9D%A2%E5%86%85%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6%E8%A7%84%E8%8C%83/","content":"<h4 id=\"201809更新\"><a href=\"#201809更新\" class=\"headerlink\" title=\"201809更新\"></a>201809更新</h4><p><code>v-auth</code>控制弹窗内元素渲染会出现首次渲染成功后，第二次打开弹窗为false的情况，导致权限判断失败，页面样式错位，所以无法在弹窗内使用该方法。</p>\n<p>解决方法：因为只需要页面初次加载时判断用户有无功能权限，通过接口查询一次后赋值给data的xx属性，通过属性的值来判断。</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">async</span> <span class=\"title\">created</span>(<span class=\"params\"></span>)</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// do someting</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 查询有无删除调账记录权限</span></span><br><span class=\"line\">  <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> valid = <span class=\"keyword\">await</span> <span class=\"keyword\">this</span>.fCheckAuth(<span class=\"string\">'household.HOUSEHOLD_DELSUBJECT'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (valid) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.show_del = <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">    console.log(e)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"前端页面内权限控制规范\"><a href=\"#前端页面内权限控制规范\" class=\"headerlink\" title=\"前端页面内权限控制规范\"></a>前端页面内权限控制规范</h1><p>目前的权限系统支持到动作点的细粒度控制，前端支持前置判断权限从而控制节点的展示与隐藏，执行相关逻辑等。前端通过 mixin 混入权限控制模块进行判断和处理。</p>\n<p>自定义组件需要单独<code>import &#39;@/mixin/auth&#39;</code>，如果是已经引入了<code>@/mixin</code>的页面组件则不需要额外引入该模块。</p>\n<p>该模块提供一个自定义指令<code>v-auth</code>和一个公共方法<code>fCheckAuth</code>，前者用来根据权限控制一个节点的展示或隐藏，后者通过该方法查询当前角色是否有某权限。</p>\n<hr>\n<h2 id=\"动作点管理\"><a href=\"#动作点管理\" class=\"headerlink\" title=\"动作点管理\"></a>动作点管理</h2><p>动作点统一添加到<code>@/config/auth</code>。动作点通过模块管理，值为后台刷新的动作点名。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 账单</span></span><br><span class=\"line\">  bill: &#123;</span><br><span class=\"line\">    CONFIRM_OFFLINE_PAYMENT: <span class=\"string\">'accounting_billcenter_confirmofflinepayment'</span> <span class=\"comment\">// 确认财务收款</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"v-auth\"><a href=\"#v-auth\" class=\"headerlink\" title=\"v-auth\"></a>v-auth</h2><p><code>v-auth</code>接收多种格式的参数。</p>\n<hr>\n<h3 id=\"传入字符串\"><a href=\"#传入字符串\" class=\"headerlink\" title=\"传入字符串\"></a>传入字符串</h3><p>可以传入一个形如<code>&#39;bill.CONFIRM_OFFLINE_PAYMENT&#39;</code>的字符串，指令会到配置中寻找对应的路径查询当前动作点是否有权限，如果没有权限，则移除这个 DOM。</p>\n<p>注意：传入的是字符串<code>&#39;bill.CONFIRM_OFFLINE_PAYMENT&#39;</code>，而不是<code>bill.CONFIRM_OFFLINE_PAYMENT</code>，后者会被框架当做组件的<code>data</code>值去获取。</p>\n<hr>\n<h3 id=\"传入对象\"><a href=\"#传入对象\" class=\"headerlink\" title=\"传入对象\"></a>传入对象</h3><p>可以传入的是一个对象：</p>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>类型</th>\n<th>解释</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>auth</td>\n<td>String</td>\n<td>逻辑处理同字符串参数</td>\n</tr>\n<tr>\n<td>hide</td>\n<td>Boolean</td>\n<td>如果为<code>true</code>，则将其<code>display</code>属性置为<code>none</code>（而不是从 dom 中移除这个节点）</td>\n</tr>\n<tr>\n<td>reverse</td>\n<td>Boolean</td>\n<td>如果为<code>true</code>，则展示逻辑与正常相反，即无权限时展示该节点，有权限时移除这个节点</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id=\"传入布尔值\"><a href=\"#传入布尔值\" class=\"headerlink\" title=\"传入布尔值\"></a>传入布尔值</h3><p>如果传入的是一个布尔值且该布尔值为<code>false</code>，则移除这个 DOM。作用同<code>v-if</code>。</p>\n<hr>\n<h2 id=\"fCheckAuth-方法\"><a href=\"#fCheckAuth-方法\" class=\"headerlink\" title=\"fCheckAuth()方法\"></a>fCheckAuth()方法</h2><p>使用<code>this.fCheckAuth(auth)</code>方法判断当前是否有<code>auth</code>权限，<code>auth</code>参数同<code>v-auth</code>自定义指令接收的字符串参数。</p>\n<p>注意，这是一个异步方法。使用</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> valid = <span class=\"keyword\">await</span> <span class=\"keyword\">this</span>.fCheckAuth(<span class=\"string\">'bill.CONFIRM_OFFLINE_PAYMENT'</span>)</span><br><span class=\"line\"><span class=\"keyword\">if</span> (valid) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// do something</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>或者</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.fCheckAuth(<span class=\"string\">'bill.CONFIRM_OFFLINE_PAYMENT'</span>).then(<span class=\"function\"><span class=\"params\">valid</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (valid) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// do something</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>判断是否具有相关权限。</p>\n","tags":["前端","开发文档"]},{"title":"学习单元测试 - Jest","url":"/2018/05/04/%E5%AD%A6%E4%B9%A0%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%20-%20Jest/","content":"<p>现在系统功能趋于稳定，想着接入单元测试使用一下。尝试着为公共组件和公共方法编写覆盖全面的单元测试。</p>\n<h1 id=\"Jest\"><a href=\"#Jest\" class=\"headerlink\" title=\"Jest\"></a>Jest</h1><p>vue-cli 自带Jest,开箱即用。在根目录中创建一个名为 jest.config.js 的配置文件。<a href=\"https://doc.ebichu.cc/jest/docs/zh-Hans/configuration.html\" target=\"_blank\" rel=\"noopener\">配置文档</a></p>\n<figure class=\"highlight java\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">module</span>.<span class=\"keyword\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 文件后缀</span></span><br><span class=\"line\">  moduleFileExtensions: [<span class=\"string\">'js'</span>, <span class=\"string\">'jsx'</span>, <span class=\"string\">'json'</span>, <span class=\"string\">'vue'</span>],</span><br><span class=\"line\">  <span class=\"comment\">// 文件如何转换</span></span><br><span class=\"line\">  transform: &#123;</span><br><span class=\"line\">    <span class=\"string\">'^.+\\\\.vue$'</span>: <span class=\"string\">'vue-jest'</span>,</span><br><span class=\"line\">    <span class=\"string\">'.+\\\\.(css|styl|less|sass|scss|svg|png|jpg|ttf|woff|woff2)$'</span>:</span><br><span class=\"line\">      <span class=\"string\">'jest-transform-stub'</span>,</span><br><span class=\"line\">    <span class=\"string\">'^.+\\\\.jsx?$'</span>: <span class=\"string\">'babel-jest'</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// 忽略的文件</span></span><br><span class=\"line\">  transformIgnorePatterns: [<span class=\"string\">'/node_modules/'</span>],</span><br><span class=\"line\">  <span class=\"comment\">// 生成快照需要的插件</span></span><br><span class=\"line\">  snapshotSerializers: [<span class=\"string\">'jest-serializer-vue'</span>],</span><br><span class=\"line\">  <span class=\"comment\">// 需要执行哪些目录下的测试用例</span></span><br><span class=\"line\">  testMatch: [</span><br><span class=\"line\">    <span class=\"string\">'**/tests/unit/**/*.spec.(js|jsx|ts|tsx)|**/__tests__/*.(js|jsx|ts|tsx)'</span></span><br><span class=\"line\">  ],</span><br><span class=\"line\">  <span class=\"comment\">// 在执行用例前的配置文件</span></span><br><span class=\"line\">  setupFiles: [<span class=\"string\">'./tests/setup.js'</span>],</span><br><span class=\"line\">  <span class=\"comment\">// 测试覆盖率配置</span></span><br><span class=\"line\">  collectCoverage: <span class=\"keyword\">true</span>,</span><br><span class=\"line\">  coverageReporters: [<span class=\"string\">'html'</span>, <span class=\"string\">'lcov'</span>, <span class=\"string\">'text-summary'</span>],</span><br><span class=\"line\">  coverageDirectory: <span class=\"string\">'./test/coverage'</span>,</span><br><span class=\"line\">  collectCoverageFrom: [<span class=\"string\">'components/**/*.vue'</span>]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>安装<br><figure class=\"highlight dockerfile\"><table><tr><td class=\"code\"><pre><span class=\"line\">vue <span class=\"keyword\">add</span><span class=\"bash\"> unit-jest</span></span><br></pre></td></tr></table></figure></p>\n<h1 id=\"语法\"><a href=\"#语法\" class=\"headerlink\" title=\"语法\"></a>语法</h1><p>断言、异步代码测试、Mock 函数、快照<a href=\"https://jestjs.io/docs/zh-Hans/expect\" target=\"_blank\" rel=\"noopener\">参考文档</a></p>\n<p>异步获取数据肯定是一个常见场景了。异步代码通常会有两种写法，分别为：</p>\n<ul>\n<li>回调函数</li>\n<li>函数返回 promise</li>\n</ul>\n<p>在测试异步代码的时候，通常返回的数据是不确定的，因此我们只需要测试异步代码是否正常返回数据即可。</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 回调函数的写法，通过 done 来让测试代码一直等待</span></span><br><span class=\"line\">test(<span class=\"string\">'fetch success'</span>, <span class=\"function\"><span class=\"params\">done</span> =&gt;</span> &#123;</span><br><span class=\"line\">  fetch(<span class=\"function\"><span class=\"params\">data</span> =&gt;</span> &#123;</span><br><span class=\"line\">    expect(data.success).toBe(<span class=\"literal\">true</span>)</span><br><span class=\"line\">    done()</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"comment\">// 函数返回 promise 的写法，注意要加上 return</span></span><br><span class=\"line\"><span class=\"comment\">// 当然对于返回 promise 的函数我们也可以直接使用 await</span></span><br><span class=\"line\">test(<span class=\"string\">'fetch success'</span>, <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> fetch().then(<span class=\"function\"><span class=\"params\">data</span> =&gt;</span> &#123;</span><br><span class=\"line\">    expect(data.success).toBe(<span class=\"literal\">true</span>)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h1 id=\"实践\"><a href=\"#实践\" class=\"headerlink\" title=\"实践\"></a>实践</h1><p>单元测试case部署在<code>tests/unit</code>文件夹中，使用<code>Jest</code>编写。可以测试引入的公共方法，也可以测试一个单文件组件。建议按照代码组织结构来编写对应的单元测试case。</p>\n<p>使用<code>npm run unit</code>来运行单元测试，测试结果会在命令行中显示。在构建<strong>测试环境</strong>的时候会自动运行单元测试，如果单元测试存在未通过的case，则构建会失败并终止。构建beta环境和生产环境暂时不会运行单元测试。</p>\n<p>一个简单的关于为数字加入千位分隔符的方法的单元测试：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">describe(<span class=\"string\">'Utils suits'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  it(<span class=\"string\">'should add commas for numbers'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> fn = Utils.addNumberCommas</span><br><span class=\"line\">    expect(fn(<span class=\"number\">123</span>)).toBe(<span class=\"string\">'123'</span>)</span><br><span class=\"line\">    expect(fn(<span class=\"number\">12345</span>)).toBe(<span class=\"string\">'12,345'</span>)</span><br><span class=\"line\">    expect(fn(<span class=\"number\">1234567.89</span>)).toBe(<span class=\"string\">'1,234,567.89'</span>)</span><br><span class=\"line\">    expect(fn(<span class=\"number\">-1234567.89</span>)).toBe(<span class=\"string\">'-1,234,567.89'</span>)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>输出示例：<br><img src=\"http://xiaobokeji-test.oss-cn-shenzhen.aliyuncs.com/upload/39f20ba0-fd66-fe24-8be1-fd8e5701ca49/npmrununit.png\" alt=\"image\"></p>\n<p>参考链接：</p>\n<ul>\n<li><a href=\"https://jestjs.io/\" target=\"_blank\" rel=\"noopener\">Jest</a></li>\n<li><a href=\"https://cn.vuejs.org/v2/guide/unit-testing.html\" target=\"_blank\" rel=\"noopener\">Vue单元测试</a></li>\n<li><a href=\"https://vue-test-utils.vuejs.org/zh/\" target=\"_blank\" rel=\"noopener\">Vue_Test_Utils</a></li>\n</ul>\n","tags":["前端","学习","单元测试"]},{"title":"判断当前打卡状态","url":"/2022/12/19/%E5%88%A4%E6%96%AD%E5%BD%93%E5%89%8D%E6%89%93%E5%8D%A1%E7%8A%B6%E6%80%81/","content":"<p>做考勤需求，公司下存在多个考勤时间段，需要判断当前打卡是上班、下班、早退或者迟到等状态</p>\n<p>需要注意的点：</p>\n<ol>\n<li>会出现9:00-18：00的考勤时间，也会出现9:00-12:00，13:15 - 18:00 等不定时的多个考勤时间段</li>\n<li>公司可以设置不同星期几，设置不一样的考勤时间规则，比如周一到周四9:00-18：00，周五10:00-20:15，周六日休息没有考勤时间</li>\n<li>周六日没有设置考勤规则，也就是非工作日打卡，当天没有打卡记录，则本次为上班；有打卡记录，则本次为下班</li>\n<li>需要按照接口返回的法定调休或者公共假期，剔除节假日，节假日打卡按3处理</li>\n<li>9点上班，9点整打卡为迟到，8:59打卡为正常上班</li>\n</ol>\n<h4 id=\"考勤判断基本规则\"><a href=\"#考勤判断基本规则\" class=\"headerlink\" title=\"考勤判断基本规则\"></a>考勤判断基本规则</h4><p><img src=\"https://im5.ezgif.com/tmp/ezgif-5-dd1195d2fa.png\" alt=\"image\"></p>\n<h4 id=\"多时段考勤规则梳理\"><a href=\"#多时段考勤规则梳理\" class=\"headerlink\" title=\"多时段考勤规则梳理\"></a>多时段考勤规则梳理</h4><p><img src=\"https://im5.ezgif.com/tmp/ezgif-5-abca540ebf.png\" alt=\"image\"></p>\n<h4 id=\"utils-js\"><a href=\"#utils-js\" class=\"headerlink\" title=\"utils.js\"></a>utils.js</h4><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * js判断当前“时 : 分”是否在一天中某一区间内</span></span><br><span class=\"line\"><span class=\"comment\"> * 比如：15.30 在不在08.30到16.00之间</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;*&#125;</span> <span class=\"variable\">beginTime</span></span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;*&#125;</span> <span class=\"variable\">endTime</span></span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@returns</span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">checkAuditTime</span>(<span class=\"params\">beginTime, endTime</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> nowDate = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>();</span><br><span class=\"line\">  <span class=\"keyword\">var</span> beginDate = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(nowDate);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> endDate = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(nowDate);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> beginIndex = beginTime.lastIndexOf(<span class=\"string\">':'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> beginHour = beginTime.substring(<span class=\"number\">0</span>, beginIndex);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> beginMinue = beginTime.substring(beginIndex + <span class=\"number\">1</span>, beginTime.length);</span><br><span class=\"line\">  beginDate.setHours(beginHour, beginMinue, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> endIndex = endTime.lastIndexOf(<span class=\"string\">':'</span>);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> endHour = endTime.substring(<span class=\"number\">0</span>, endIndex);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> endMinue = endTime.substring(endIndex + <span class=\"number\">1</span>, endTime.length);</span><br><span class=\"line\">  endDate.setHours(endHour, endMinue, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">    nowDate.getTime() - beginDate.getTime() &gt;= <span class=\"number\">0</span> &amp;&amp;</span><br><span class=\"line\">    nowDate.getTime() &lt;= endDate.getTime()</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * [isDuringDate 比较指定时间是否在指定时间段内]</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@author <span class=\"variable\">dongsir</span></span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@DateTime </span>2019-08-21</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@version </span>1.0</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param  </span>date  [beginDateStr] [开始时间]</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param  </span>date  [endDateStr]  [结束时间]</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param  </span>date  [compareDateStr]  [需要比较的时间]</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return  <span class=\"variable\">Boolean</span></span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">isDuringDate</span>(<span class=\"params\">beginDateStr, endDateStr, compareDateStr</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> curDate = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(compareDateStr),</span><br><span class=\"line\">    beginDate = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(beginDateStr),</span><br><span class=\"line\">    endDate = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(endDateStr);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (curDate &gt;= beginDate &amp;&amp; curDate &lt;= endDate) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"index-vue\"><a href=\"#index-vue\" class=\"headerlink\" title=\"index.vue\"></a>index.vue</h4><figure class=\"highlight django\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">v-if</span>=<span class=\"string\">\"innerVisible\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"comment\">&lt;!-- 普通打卡的弹窗 --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">u-popup</span> <span class=\"attr\">:show</span>=<span class=\"string\">\"show\"</span></span></span></span><br><span class=\"line\"><span class=\"xml\">      v-if=\"show\"</span></span><br><span class=\"line\"><span class=\"xml\">      overlay</span></span><br><span class=\"line\"><span class=\"xml\">      round=\"10\"</span></span><br><span class=\"line\"><span class=\"xml\">      closeOnClickOverlay</span></span><br><span class=\"line\"><span class=\"xml\">      :safeAreaInsetBottom=\"false\"</span></span><br><span class=\"line\"><span class=\"xml\">      @close=\"closePopup\"</span></span><br><span class=\"line\"><span class=\"xml\">      mode=\"center\"&gt;</span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">\"check-container\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">\"check-box\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">class</span>=<span class=\"string\">\"icon\"</span></span></span></span><br><span class=\"line\"><span class=\"xml\">            v-if=\"check.show_error\"</span></span><br><span class=\"line\"><span class=\"xml\">            src=\"/static/pages_tools/gps-error.svg\"&gt;</span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;/<span class=\"name\">image</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">class</span>=<span class=\"string\">\"icon\"</span></span></span></span><br><span class=\"line\"><span class=\"xml\">            v-else</span></span><br><span class=\"line\"><span class=\"xml\">            src=\"/static/pages_tools/gps-success.svg\"&gt;</span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;/<span class=\"name\">image</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">\"info\"</span></span></span></span><br><span class=\"line\"><span class=\"xml\">            v-if=\"check.type_name\"</span></span><br><span class=\"line\"><span class=\"xml\">            :class=\"check.show_error ? 'error' : ''\"&gt;</span><span class=\"template-variable\">&#123;&#123; check.type_name &#125;&#125;</span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">\"address\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123; check_placeName &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">\"time\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123; currentTime &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">\"btn submit-btn flex justify-center items-center\"</span></span></span></span><br><span class=\"line\"><span class=\"xml\">          @tap.stop=\"submit\"&gt;</span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123; check.show_error ? '确认' : '' &#125;&#125;</span><span class=\"xml\">打卡<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">\"btn cancel flex justify-center items-center\"</span></span></span></span><br><span class=\"line\"><span class=\"xml\">          @tap.stop=\"cancel\"&gt;<span class=\"tag\">&lt;<span class=\"name\">text</span>&gt;</span>取消<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;/<span class=\"name\">u-popup</span>&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"comment\">&lt;!-- 外勤打卡弹窗 --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">pp-outdoor</span> <span class=\"attr\">v-if</span>=<span class=\"string\">\"showOutdoor\"</span></span></span></span><br><span class=\"line\"><span class=\"xml\">      :latAndLon=\"latAndLon\"</span></span><br><span class=\"line\"><span class=\"xml\">      :visible.sync=\"showOutdoor\"</span></span><br><span class=\"line\"><span class=\"xml\">      @outdoorCheck=\"outdoorCheck\"</span></span><br><span class=\"line\"><span class=\"xml\">      @close=\"closeOutdoor\"&gt;<span class=\"tag\">&lt;/<span class=\"name\">pp-outdoor</span>&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"comment\">&lt;!-- 打卡成功弹窗 --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">pp-success</span> <span class=\"attr\">:visible.sync</span>=<span class=\"string\">\"showSuccess\"</span></span></span></span><br><span class=\"line\"><span class=\"xml\">      :data=\"success\"</span></span><br><span class=\"line\"><span class=\"xml\">      @closeSuccess=\"closeSuccess\" /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"comment\">&lt;!-- 打卡有冲突 --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">conflict</span> <span class=\"attr\">v-if</span>=<span class=\"string\">\"showConflict\"</span></span></span></span><br><span class=\"line\"><span class=\"xml\">      :visible.sync=\"showConflict\"</span></span><br><span class=\"line\"><span class=\"xml\">      :data=\"conflict\"</span></span><br><span class=\"line\"><span class=\"xml\">      from=\"打卡\"</span></span><br><span class=\"line\"><span class=\"xml\">      @cancel=\"closeConflict\"</span></span><br><span class=\"line\"><span class=\"xml\">      @submit=\"cancelSubmit\" /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"comment\">&lt;!-- 弹窗提示新增考勤组 --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">u-modal</span> <span class=\"attr\">:show</span>=<span class=\"string\">\"showManage\"</span></span></span></span><br><span class=\"line\"><span class=\"xml\">      width=\"500rpx\"</span></span><br><span class=\"line\"><span class=\"xml\">      @confirm=\"addGroup('add')\"</span></span><br><span class=\"line\"><span class=\"xml\">      @cancel=\"cancelAddGroup\"</span></span><br><span class=\"line\"><span class=\"xml\">      ref=\"noManageModal\"</span></span><br><span class=\"line\"><span class=\"xml\">      confirmText=\"前往设置\"</span></span><br><span class=\"line\"><span class=\"xml\">      :showCancelButton=\"true\"&gt;</span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">\"slot-content\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">text</span> <span class=\"attr\">class</span>=<span class=\"string\">\"info\"</span>&gt;</span>请先设置考勤规则<span class=\"tag\">&lt;/<span class=\"name\">text</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;/<span class=\"name\">u-modal</span>&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"comment\">&lt;!-- 没有考勤组信息提示弹窗--&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">u-modal</span> <span class=\"attr\">:show.sync</span>=<span class=\"string\">\"showGroup\"</span></span></span></span><br><span class=\"line\"><span class=\"xml\">      width=\"500rpx\"</span></span><br><span class=\"line\"><span class=\"xml\">      @confirm=\"addGroup()\"</span></span><br><span class=\"line\"><span class=\"xml\">      @cancel=\"cancelAddGroup\"</span></span><br><span class=\"line\"><span class=\"xml\">      ref=\"noGroupModal\"</span></span><br><span class=\"line\"><span class=\"xml\">      confirmText=\"确定\"</span></span><br><span class=\"line\"><span class=\"xml\">      cancelText=\"取消\"</span></span><br><span class=\"line\"><span class=\"xml\">      confirmColor=\"#4C8AFC\"</span></span><br><span class=\"line\"><span class=\"xml\">      showCancelButton=\"true\"</span></span><br><span class=\"line\"><span class=\"xml\">      :safeAreaInsetBottom=\"false\"</span></span><br><span class=\"line\"><span class=\"xml\">      :asyncClose=\"true\"&gt;</span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">\"slot-content\"</span>&gt;</span> 是否将自己加入考勤组？ <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;/<span class=\"name\">u-modal</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">import &#123; checkAuditTime, isDuringDate &#125; from '@/utils/index';</span></span><br><span class=\"line\"><span class=\"xml\">import outdoor from './outdoor-popup';</span></span><br><span class=\"line\"><span class=\"xml\">import successPopup from './success-popup';</span></span><br><span class=\"line\"><span class=\"xml\">import conflict from '../approve-conflict-modal';</span></span><br><span class=\"line\"><span class=\"xml\">import Big from 'big.js';</span></span><br><span class=\"line\"><span class=\"xml\">import dayjs from 'dayjs';</span></span><br><span class=\"line\"><span class=\"xml\">import isBetween from 'dayjs/plugin/isBetween';</span></span><br><span class=\"line\"><span class=\"xml\">dayjs.extend(isBetween);</span></span><br><span class=\"line\"><span class=\"xml\">import attendanceApi from '@/api/attendance';</span></span><br><span class=\"line\"><span class=\"xml\">const app = getApp();</span></span><br><span class=\"line\"><span class=\"xml\">export default &#123;</span></span><br><span class=\"line\"><span class=\"xml\">  props: &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    visible: &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      type: Boolean,</span></span><br><span class=\"line\"><span class=\"xml\">      default: false,</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">    latAndLon: &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      type: Object,</span></span><br><span class=\"line\"><span class=\"xml\">      default: () =&gt; (&#123;&#125;),</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">    placeName: &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      type: String,</span></span><br><span class=\"line\"><span class=\"xml\">      default: '',</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">  components: &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    'pp-outdoor': outdoor,</span></span><br><span class=\"line\"><span class=\"xml\">    'pp-success': successPopup,</span></span><br><span class=\"line\"><span class=\"xml\">    conflict,</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">  computed: &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    innerVisible: &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      get() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        return this.visible;</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">      set(v) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        this.$emit('update:visible', v);</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">  data() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    return &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      intervalTimer: null,</span></span><br><span class=\"line\"><span class=\"xml\">      showOutdoor: false,</span></span><br><span class=\"line\"><span class=\"xml\">      attendance: &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        placeList: [], //打卡地址</span></span><br><span class=\"line\"><span class=\"xml\">        timeList: [], //上下班时间</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">      success: &#123;&#125;,</span></span><br><span class=\"line\"><span class=\"xml\">      showSuccess: false,</span></span><br><span class=\"line\"><span class=\"xml\">      showGroup: false, // 考勤组弹窗</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">      show: false, // 打卡弹窗</span></span><br><span class=\"line\"><span class=\"xml\">      check: &#123;&#125;, // 打卡信息</span></span><br><span class=\"line\"><span class=\"xml\">      check_placeName: '', // 打卡地址</span></span><br><span class=\"line\"><span class=\"xml\">      currentTime: dayjs().format('HH:mm:ss'),</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">      history: [], // 当天当前用户的全部考勤记录</span></span><br><span class=\"line\"><span class=\"xml\">      workRules: '', // 当天当前用户的考勤规则</span></span><br><span class=\"line\"><span class=\"xml\">      isAdmin:</span></span><br><span class=\"line\"><span class=\"xml\">        Vue.prototype.$storage</span></span><br><span class=\"line\"><span class=\"xml\">          ._getStorage('userinfo')</span></span><br><span class=\"line\"><span class=\"xml\">          .userAuthorizationList.filter(</span></span><br><span class=\"line\"><span class=\"xml\">            (a) =&gt; a.userAuthority == '100101' || a.userAuthority == '100108',</span></span><br><span class=\"line\"><span class=\"xml\">          ).length &gt; 0, // 管理员权限、考勤权限</span></span><br><span class=\"line\"><span class=\"xml\">      showManage: false, // 没有考勤组</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">      showConflict: false, // 请假有冲突</span></span><br><span class=\"line\"><span class=\"xml\">      conflict: &#123;&#125;, // 冲突信息</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">      inside_arr: [], // 考勤时间内</span></span><br><span class=\"line\"><span class=\"xml\">      during_arr: [], // 休息时间</span></span><br><span class=\"line\"><span class=\"xml\">      outside_work: &#123;&#125;, // 考勤时间外,上班</span></span><br><span class=\"line\"><span class=\"xml\">      outside_off: &#123;&#125;, // 考勤时间外,下班</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;;</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">  mounted() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    let _this = this;</span></span><br><span class=\"line\"><span class=\"xml\">    setInterval(() =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      _this.currentTime = dayjs().format('HH:mm:ss');</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;, 1000);</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">  watch: &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    show(val) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      if (val) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        this.handleCheckType();</span></span><br><span class=\"line\"><span class=\"xml\">        this.intervalTimer = setInterval(this.handleCheckType, 1000);</span></span><br><span class=\"line\"><span class=\"xml\">        app.globalData.scrollLock = true;</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">    showOutdoor(val) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      app.globalData.scrollLock = val;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">    showManage(val) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      app.globalData.scrollLock = val;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">    showGroup(val) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      app.globalData.scrollLock = val;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">    showSuccess(val) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      app.globalData.scrollLock = val;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">  created() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    this.getUserCheckList();</span></span><br><span class=\"line\"><span class=\"xml\">    this.getUserAttendanceGroupDetails();</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">  methods: &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    //查询用户当天的打卡记录</span></span><br><span class=\"line\"><span class=\"xml\">    getUserCheckList() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      let params = &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        userId: app.globalData.userId,</span></span><br><span class=\"line\"><span class=\"xml\">        employeeNo: app.globalData.employeeNo,</span></span><br><span class=\"line\"><span class=\"xml\">        enterpriseId: app.globalData.enterpriseId,</span></span><br><span class=\"line\"><span class=\"xml\">        date: dayjs(new Date()).format('YYYY-MM-DD'), // 今天</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;;</span></span><br><span class=\"line\"><span class=\"xml\">      attendanceApi</span></span><br><span class=\"line\"><span class=\"xml\">        .getOneDayAttendanceByUserId(params)</span></span><br><span class=\"line\"><span class=\"xml\">        .then((res) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          if (res &amp;&amp; res.data &amp;&amp; res.data.clockRecord) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            this.history = res.data.clockRecord; // 当日打卡历史</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;)</span></span><br><span class=\"line\"><span class=\"xml\">        .catch((errors) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          uni.$u.toast(errors.msg || '获取打卡出了问题，请稍后再试');</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;)</span></span><br><span class=\"line\"><span class=\"xml\">        .finally(() =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          uni.hideLoading();</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">    // 获取当前用户考勤组详情</span></span><br><span class=\"line\"><span class=\"xml\">    getUserAttendanceGroupDetails() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      let params = &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        userId: app.globalData.userId,</span></span><br><span class=\"line\"><span class=\"xml\">        employeeNo: app.globalData.employeeNo,</span></span><br><span class=\"line\"><span class=\"xml\">        enterpriseId: app.globalData.enterpriseId,</span></span><br><span class=\"line\"><span class=\"xml\">        hideLoadingTitle: true, // 隐藏请求动画</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;;</span></span><br><span class=\"line\"><span class=\"xml\">      attendanceApi</span></span><br><span class=\"line\"><span class=\"xml\">        .getUserAttendanceGroupDetails(params)</span></span><br><span class=\"line\"><span class=\"xml\">        .then((res) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          if (res.data) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            this.attendance = res.data; // 考勤组信息</span></span><br><span class=\"line\"><span class=\"xml\">            this.workRules = this.handleCheckRules(); // 当天的考勤规则</span></span><br><span class=\"line\"><span class=\"xml\">            // 判断当天是否有考勤规则</span></span><br><span class=\"line\"><span class=\"xml\">            if (this.workRules) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">              this.calType(this.workRules.shift.shiftTimeList);</span></span><br><span class=\"line\"><span class=\"xml\">              this.formatAttance();</span></span><br><span class=\"line\"><span class=\"xml\">            &#125; else &#123;</span></span><br><span class=\"line\"><span class=\"xml\">              // 没有考勤规则，属于非工作日</span></span><br><span class=\"line\"><span class=\"xml\">              // 有打卡记录，属于下班，否则上班</span></span><br><span class=\"line\"><span class=\"xml\">              this.check_placeName = this.placeName;</span></span><br><span class=\"line\"><span class=\"xml\">              this.history.length</span></span><br><span class=\"line\"><span class=\"xml\">                ? this.handleCheckStatus('offduty')</span></span><br><span class=\"line\"><span class=\"xml\">                : this.handleCheckStatus(0);</span></span><br><span class=\"line\"><span class=\"xml\">              this.show = true;</span></span><br><span class=\"line\"><span class=\"xml\">            &#125;</span></span><br><span class=\"line\"><span class=\"xml\">          &#125; else &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            // 是管理员</span></span><br><span class=\"line\"><span class=\"xml\">            if (this.isAdmin) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">              this.getGroupList();</span></span><br><span class=\"line\"><span class=\"xml\">            &#125; else &#123;</span></span><br><span class=\"line\"><span class=\"xml\">              // this.$showToast('您尚未加入考勤组，无需打卡');</span></span><br><span class=\"line\"><span class=\"xml\">              // this.$emit('handleBottomBtnShow'); // 普通员工 - 没有考勤组 - 隐藏底部长按按钮</span></span><br><span class=\"line\"><span class=\"xml\">              uni.showModal(&#123;</span></span><br><span class=\"line\"><span class=\"xml\">                content: '您尚未加入考勤组，无需打卡',</span></span><br><span class=\"line\"><span class=\"xml\">                showCancel: false,</span></span><br><span class=\"line\"><span class=\"xml\">                confirmText: '我知道了',</span></span><br><span class=\"line\"><span class=\"xml\">                success: (res) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                  if (res.confirm) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                    this.innerVisible = false;</span></span><br><span class=\"line\"><span class=\"xml\">                  &#125;</span></span><br><span class=\"line\"><span class=\"xml\">                &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">              &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">            &#125;</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;)</span></span><br><span class=\"line\"><span class=\"xml\">        .catch((errors) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          uni.$u.toast(errors.msg || '获取用户考勤组详情出了问题，请稍后再试');</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;)</span></span><br><span class=\"line\"><span class=\"xml\">        .finally(() =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          uni.hideLoading();</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    // 获取考勤组列表</span></span><br><span class=\"line\"><span class=\"xml\">    getGroupList() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      let params = &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        enterpriseId: app.globalData.enterpriseId,</span></span><br><span class=\"line\"><span class=\"xml\">        hideLoadingTitle: true, // 隐藏请求动画</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;;</span></span><br><span class=\"line\"><span class=\"xml\">      attendanceApi</span></span><br><span class=\"line\"><span class=\"xml\">        .getAttendanceGroup(params)</span></span><br><span class=\"line\"><span class=\"xml\">        .then((res) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          // 展示新增考勤组弹窗</span></span><br><span class=\"line\"><span class=\"xml\">          if (res.data &amp;&amp; res.data.records &amp;&amp; res.data.records.length) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            this.showGroup = true; // 提示加入考勤组</span></span><br><span class=\"line\"><span class=\"xml\">          &#125; else &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            this.showManage = true; // 提示设置考勤规则</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;)</span></span><br><span class=\"line\"><span class=\"xml\">        .catch((err) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          this.$showToast('获取考勤组失败');</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    // 当前星期几，拿到设定的对应打卡规则</span></span><br><span class=\"line\"><span class=\"xml\">    handleCheckRules() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      let res = '';</span></span><br><span class=\"line\"><span class=\"xml\">      let timeArr = this.attendance.timeList;</span></span><br><span class=\"line\"><span class=\"xml\">      let currentWeek = dayjs().day();</span></span><br><span class=\"line\"><span class=\"xml\">      currentWeek == 0 ? (currentWeek = 7) : ''; // 强制转换周日由0变7</span></span><br><span class=\"line\"><span class=\"xml\">      if (timeArr &amp;&amp; timeArr.length) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        timeArr.map((t) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          if (t.clockWeek.includes(currentWeek)) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            res = t; // 当天的考勤规则</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"><span class=\"xml\">      return res;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    // 判断是否在打卡范围内</span></span><br><span class=\"line\"><span class=\"xml\">    formatAttance() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      let placeArr = this.attendance.placeList;</span></span><br><span class=\"line\"><span class=\"xml\">      placeArr.map((p) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        p.latitude = p.dimension;</span></span><br><span class=\"line\"><span class=\"xml\">        // 计算当前位置经纬度  和所在考勤组的地址经纬度 直线距离 <span class=\"tag\">&lt;<span class=\"name\">=设置的距离</span></span></span></span><br><span class=\"line\"><span class=\"xml\">        let num = this.getMapDistance(</span></span><br><span class=\"line\"><span class=\"xml\">          p.latitude,</span></span><br><span class=\"line\"><span class=\"xml\">          p.longitude,</span></span><br><span class=\"line\"><span class=\"xml\">          this.latAndLon.latitude,</span></span><br><span class=\"line\"><span class=\"xml\">          this.latAndLon.longitude,</span></span><br><span class=\"line\"><span class=\"xml\">        );</span></span><br><span class=\"line\"><span class=\"xml\">        p.distance = new Big(num).times(1000).toString(); // 距离，单位米</span></span><br><span class=\"line\"><span class=\"xml\">        p.atPlace = p.distance <span class=\"tag\">&lt;<span class=\"name\">=</span> <span class=\"attr\">p.range</span>; // 是否在打卡范围</span></span></span><br><span class=\"line\"><span class=\"xml\">      &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">      // 取最近的打卡地址</span></span><br><span class=\"line\"><span class=\"xml\">      let data = placeArr.filter((item) =&gt; item.atPlace);</span></span><br><span class=\"line\"><span class=\"xml\">      if (data &amp;&amp; data.length) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        this.check_placeName = data[0].placeName; // 获取打卡地址名</span></span><br><span class=\"line\"><span class=\"xml\">        // 正常打卡，计算上下班</span></span><br><span class=\"line\"><span class=\"xml\">        // todo</span></span><br><span class=\"line\"><span class=\"xml\">        setTimeout(() =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          this.show = true;</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;, 600);</span></span><br><span class=\"line\"><span class=\"xml\">      &#125; else &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        this.showOutdoor = true; // 外勤打卡</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    //拿到打卡时间，判断打卡类型</span></span><br><span class=\"line\"><span class=\"xml\">    // 把一天分为多个打卡时间段</span></span><br><span class=\"line\"><span class=\"xml\">    // 判断是否处在这个时间段里</span></span><br><span class=\"line\"><span class=\"xml\">    handleCheckType() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      if (this.workRules) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        let time = this.workRules.shift.shiftTimeList;</span></span><br><span class=\"line\"><span class=\"xml\">        let arr = [];</span></span><br><span class=\"line\"><span class=\"xml\">        time.map((t) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          arr.push(&#123;</span></span><br><span class=\"line\"><span class=\"xml\">            startTime: t.workTime,</span></span><br><span class=\"line\"><span class=\"xml\">            endtTime: t.knockOffTime,</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">        // 只有一条考勤规则</span></span><br><span class=\"line\"><span class=\"xml\">        if (time.length == 1) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          let unselect = this.unselectTime(arr);</span></span><br><span class=\"line\"><span class=\"xml\">          let before = checkAuditTime(</span></span><br><span class=\"line\"><span class=\"xml\">            unselect[0].startTime,</span></span><br><span class=\"line\"><span class=\"xml\">            unselect[0].endtTime,</span></span><br><span class=\"line\"><span class=\"xml\">          );</span></span><br><span class=\"line\"><span class=\"xml\">          let during = checkAuditTime(arr[0].startTime, arr[0].endtTime);</span></span><br><span class=\"line\"><span class=\"xml\">          let after = checkAuditTime(unselect[1].endtTime, '24:00');</span></span><br><span class=\"line\"><span class=\"xml\">          // 正常上班</span></span><br><span class=\"line\"><span class=\"xml\">          if (before) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            this.handleCheckStatus(0);</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;</span></span><br><span class=\"line\"><span class=\"xml\">          // 正常下班</span></span><br><span class=\"line\"><span class=\"xml\">          if (after) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            this.handleCheckStatus('offduty');</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;</span></span><br><span class=\"line\"><span class=\"xml\">          // 考勤时间内</span></span><br><span class=\"line\"><span class=\"xml\">          if (during) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            // 有打卡记录，属于早退，否则迟到</span></span><br><span class=\"line\"><span class=\"xml\">            if (this.history.length) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">              this.handleCheckStatus(4);</span></span><br><span class=\"line\"><span class=\"xml\">            &#125; else &#123;</span></span><br><span class=\"line\"><span class=\"xml\">              this.handleCheckStatus(1);</span></span><br><span class=\"line\"><span class=\"xml\">            &#125;</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;</span></span><br><span class=\"line\"><span class=\"xml\">        // 多条考勤规则</span></span><br><span class=\"line\"><span class=\"xml\">        if (time.length &gt; 1) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          let inside_arr = this.inside_arr; // 考勤时间内</span></span><br><span class=\"line\"><span class=\"xml\">          let during_arr = this.during_arr; // 休息时间</span></span><br><span class=\"line\"><span class=\"xml\">          let outside_work = this.outside_work; // 考勤时间外,上班</span></span><br><span class=\"line\"><span class=\"xml\">          let outside_off = this.outside_off; // 考勤时间外,下班</span></span><br><span class=\"line\"><span class=\"xml\">          // 开始判断考勤时间段</span></span><br><span class=\"line\"><span class=\"xml\">          if (</span></span><br><span class=\"line\"><span class=\"xml\">            this.checkAuditSeocnd(outside_work.workTime, outside_work.knockOffTime)</span></span><br><span class=\"line\"><span class=\"xml\">          ) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            this.handleCheckStatus(0); // 正常上班</span></span><br><span class=\"line\"><span class=\"xml\">            return;</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;</span></span><br><span class=\"line\"><span class=\"xml\">          if (this.checkAuditSeocnd(outside_off.workTime, outside_off.knockOffTime)) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            this.handleCheckStatus('offduty'); // 正常下班</span></span><br><span class=\"line\"><span class=\"xml\">            return;</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;</span></span><br><span class=\"line\"><span class=\"xml\">          // 在正常的考勤时间段内</span></span><br><span class=\"line\"><span class=\"xml\">          for (var i = 0; i <span class=\"tag\">&lt; <span class=\"attr\">inside_arr.length</span>; <span class=\"attr\">i</span>++) &#123;</span></span></span><br><span class=\"line\"><span class=\"xml\">            let s = inside_arr[i];</span></span><br><span class=\"line\"><span class=\"xml\">            if (this.checkAuditSeocnd(s.workTime, s.knockOffTime)) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">              if (this.history.length) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                this.handleCheckStatus(4); // 早退</span></span><br><span class=\"line\"><span class=\"xml\">              &#125; else &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                this.handleCheckStatus(1); // 迟到</span></span><br><span class=\"line\"><span class=\"xml\">              &#125;</span></span><br><span class=\"line\"><span class=\"xml\">              return;</span></span><br><span class=\"line\"><span class=\"xml\">            &#125;</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;</span></span><br><span class=\"line\"><span class=\"xml\">          // 在午休范围内</span></span><br><span class=\"line\"><span class=\"xml\">          for (var j = 0; j <span class=\"tag\">&lt; <span class=\"attr\">during_arr.length</span>; <span class=\"attr\">j</span>++) &#123;</span></span></span><br><span class=\"line\"><span class=\"xml\">            let d = during_arr[j];</span></span><br><span class=\"line\"><span class=\"xml\">            let lastest = ''; // 最新打卡记录的打卡时间</span></span><br><span class=\"line\"><span class=\"xml\">            let lastest_type = ''; // 最新打卡记录的打卡类型</span></span><br><span class=\"line\"><span class=\"xml\">            if (this.history &amp;&amp; this.history.length) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">              lastest = this.history[this.history.length - 1].createTime;</span></span><br><span class=\"line\"><span class=\"xml\">              lastest_type = this.history[this.history.length - 1].type;</span></span><br><span class=\"line\"><span class=\"xml\">            &#125;</span></span><br><span class=\"line\"><span class=\"xml\">            if (this.checkAuditSeocnd(d.workTime, d.knockOffTime)) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">              let today = dayjs(new Date()).format('YYYY/MM/DD');</span></span><br><span class=\"line\"><span class=\"xml\">              let w = today + ' ' + d.workTime;</span></span><br><span class=\"line\"><span class=\"xml\">              let k = today + ' ' + d.knockOffTime;</span></span><br><span class=\"line\"><span class=\"xml\">              if (lastest) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                // 今天打过卡</span></span><br><span class=\"line\"><span class=\"xml\">                console.log(</span></span><br><span class=\"line\"><span class=\"xml\">                  '在午休范围内,最新打卡记录:' + lastest,</span></span><br><span class=\"line\"><span class=\"xml\">                  '午休时间:' + w + '至' + k,</span></span><br><span class=\"line\"><span class=\"xml\">                );</span></span><br><span class=\"line\"><span class=\"xml\">                let history = dayjs(lastest).format('YYYY/MM/DD HH:mm:ss'); // 最新一条打卡记录</span></span><br><span class=\"line\"><span class=\"xml\">                if (isDuringDate(w, k, history)) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                  // 在午休时间段内，则本次展示上班</span></span><br><span class=\"line\"><span class=\"xml\">                  this.handleCheckStatus(0); // 上班</span></span><br><span class=\"line\"><span class=\"xml\">                &#125; else if (lastest_type == 4) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                  // 不在午休时间段内，最新的打卡记录是早退，则本次展示上班</span></span><br><span class=\"line\"><span class=\"xml\">                  this.handleCheckStatus(0); // 上班</span></span><br><span class=\"line\"><span class=\"xml\">                &#125; else &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                  // 不在午休时间段内，则本次展示下班</span></span><br><span class=\"line\"><span class=\"xml\">                  this.handleCheckStatus('offduty'); // 下班</span></span><br><span class=\"line\"><span class=\"xml\">                &#125;</span></span><br><span class=\"line\"><span class=\"xml\">                return;</span></span><br><span class=\"line\"><span class=\"xml\">              &#125; else &#123;</span></span><br><span class=\"line\"><span class=\"xml\">                // 今天没有打过卡</span></span><br><span class=\"line\"><span class=\"xml\">                this.handleCheckStatus('offduty'); // 下班</span></span><br><span class=\"line\"><span class=\"xml\">                return;</span></span><br><span class=\"line\"><span class=\"xml\">              &#125;</span></span><br><span class=\"line\"><span class=\"xml\">            &#125;</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;</span></span><br><span class=\"line\"><span class=\"xml\">          this.handleCheckStatus('');</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    // 当前时间处于什么打卡类型</span></span><br><span class=\"line\"><span class=\"xml\">    calType(format_time) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      let lastest = ''; // 最新的一条打卡时间</span></span><br><span class=\"line\"><span class=\"xml\">      if (this.history &amp;&amp; this.history.length) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        lastest = this.history[this.history.length - 1].createTime;</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"><span class=\"xml\">      let today = dayjs(new Date()).format('YYYY/MM/DD'); // 当天</span></span><br><span class=\"line\"><span class=\"xml\">      let inside_arr = []; // 考勤时间内</span></span><br><span class=\"line\"><span class=\"xml\">      let during_arr = []; // 休息时间</span></span><br><span class=\"line\"><span class=\"xml\">      let outside_work = &#123;&#125;; // 考勤时间外,上班</span></span><br><span class=\"line\"><span class=\"xml\">      let outside_off = &#123;&#125;; // 考勤时间外,下班</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">      // 考勤时间段数组排序</span></span><br><span class=\"line\"><span class=\"xml\">      format_time.map((d) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        d.sort_workTime = today + ' ' + d.workTime;</span></span><br><span class=\"line\"><span class=\"xml\">        d.sort_knockOffTime = today + ' ' + d.knockOffTime;</span></span><br><span class=\"line\"><span class=\"xml\">        // 解决iOS无法识别 yyyy-mm-dd格式的时间转换为时间戳在苹果手机上为NaN</span></span><br><span class=\"line\"><span class=\"xml\">        d.new_date_workTime = new Date(</span></span><br><span class=\"line\"><span class=\"xml\">          d.sort_workTime.replace(/-/g, '/'),</span></span><br><span class=\"line\"><span class=\"xml\">        ).getTime();</span></span><br><span class=\"line\"><span class=\"xml\">        d.new_date_knockOffTime = new Date(</span></span><br><span class=\"line\"><span class=\"xml\">          d.sort_knockOffTime.replace(/-/g, '/'),</span></span><br><span class=\"line\"><span class=\"xml\">        ).getTime();</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">      format_time.sort((a, b) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        return (</span></span><br><span class=\"line\"><span class=\"xml\">          new Date(a.sort_workTime).getTime() -</span></span><br><span class=\"line\"><span class=\"xml\">          new Date(b.sort_workTime).getTime()</span></span><br><span class=\"line\"><span class=\"xml\">        );</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">      format_time.map((t, index) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        inside_arr.push(&#123;</span></span><br><span class=\"line\"><span class=\"xml\">          workTime: t.workTime + ':01',</span></span><br><span class=\"line\"><span class=\"xml\">          knockOffTime: dayjs(t.new_date_knockOffTime - 60000).format('HH:mm') + ':59', // - 1分钟</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">        if (format_time[index + 1] &amp;&amp; format_time[index + 1].sort_workTime) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          during_arr.push(&#123;</span></span><br><span class=\"line\"><span class=\"xml\">            workTime: t.knockOffTime + ':00',</span></span><br><span class=\"line\"><span class=\"xml\">            knockOffTime: format_time[index + 1].workTime + ':00',</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;</span></span><br><span class=\"line\"><span class=\"xml\">        // 考勤时间前</span></span><br><span class=\"line\"><span class=\"xml\">        if (index == 0) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          outside_work = &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            workTime: '00:00:00',</span></span><br><span class=\"line\"><span class=\"xml\">            knockOffTime: t.workTime + ':00',</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;;</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;</span></span><br><span class=\"line\"><span class=\"xml\">        // 考勤时间后</span></span><br><span class=\"line\"><span class=\"xml\">        if (index == format_time.length - 1) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          outside_off = &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            workTime: t.knockOffTime + ':00',</span></span><br><span class=\"line\"><span class=\"xml\">            knockOffTime: '23:59:59',</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;;</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">      this.inside_arr = inside_arr; // 考勤时间内</span></span><br><span class=\"line\"><span class=\"xml\">      this.during_arr = during_arr; // 休息时间</span></span><br><span class=\"line\"><span class=\"xml\">      this.outside_work = outside_work; // 考勤时间外,上班</span></span><br><span class=\"line\"><span class=\"xml\">      this.outside_off = outside_off; // 考勤时间外,下班</span></span><br><span class=\"line\"><span class=\"xml\">      console.log('考勤时间段数组：', format_time);</span></span><br><span class=\"line\"><span class=\"xml\">      console.log('考勤时间外,上班:', outside_work);</span></span><br><span class=\"line\"><span class=\"xml\">      console.log('考勤时间外,下班:', outside_off);</span></span><br><span class=\"line\"><span class=\"xml\">      console.log('考勤时间内:', inside_arr);</span></span><br><span class=\"line\"><span class=\"xml\">      console.log('休息时间:', during_arr);</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    // 打卡弹窗</span></span><br><span class=\"line\"><span class=\"xml\">    //0 正常打卡 1 迟到打卡 2外勤打卡 3缺卡打卡 4 早退打卡 5没加入打卡 6请假 7 出差 8加班 10 旷工</span></span><br><span class=\"line\"><span class=\"xml\">    // 5表示为加入 比如今天加入如考勤  昨天的记录就是5</span></span><br><span class=\"line\"><span class=\"xml\">    handleCheckStatus(type) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      console.log('打卡类型:', type);</span></span><br><span class=\"line\"><span class=\"xml\">      let type_name = '';</span></span><br><span class=\"line\"><span class=\"xml\">      let show_error = false;</span></span><br><span class=\"line\"><span class=\"xml\">      switch (type) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        case 0:</span></span><br><span class=\"line\"><span class=\"xml\">          type_name = '上班·打卡正常';</span></span><br><span class=\"line\"><span class=\"xml\">          break;</span></span><br><span class=\"line\"><span class=\"xml\">        case 'offduty':</span></span><br><span class=\"line\"><span class=\"xml\">          type_name = '下班·打卡正常';</span></span><br><span class=\"line\"><span class=\"xml\">          break;</span></span><br><span class=\"line\"><span class=\"xml\">        case 1:</span></span><br><span class=\"line\"><span class=\"xml\">          type_name = '上班·你迟到了';</span></span><br><span class=\"line\"><span class=\"xml\">          show_error = true;</span></span><br><span class=\"line\"><span class=\"xml\">          break;</span></span><br><span class=\"line\"><span class=\"xml\">        case 4:</span></span><br><span class=\"line\"><span class=\"xml\">          type_name = '下班·你早退了';</span></span><br><span class=\"line\"><span class=\"xml\">          show_error = true;</span></span><br><span class=\"line\"><span class=\"xml\">          break;</span></span><br><span class=\"line\"><span class=\"xml\">        default:</span></span><br><span class=\"line\"><span class=\"xml\">          type_name = '';</span></span><br><span class=\"line\"><span class=\"xml\">          break;</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"><span class=\"xml\">      this.check = &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        placeName: this.check_placeName ? this.check_placeName : this.placeName, // 非外勤打卡，展示的打卡地址取考勤组保存的地址</span></span><br><span class=\"line\"><span class=\"xml\">        latitude: this.latAndLon.latitude,</span></span><br><span class=\"line\"><span class=\"xml\">        longitude: this.latAndLon.longitude,</span></span><br><span class=\"line\"><span class=\"xml\">        dimension: this.latAndLon.latitude,</span></span><br><span class=\"line\"><span class=\"xml\">        type, // 1迟到4早退</span></span><br><span class=\"line\"><span class=\"xml\">        type_name,</span></span><br><span class=\"line\"><span class=\"xml\">        show_error,</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    // 确认打卡</span></span><br><span class=\"line\"><span class=\"xml\">    submit() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      this.show = false;</span></span><br><span class=\"line\"><span class=\"xml\">      let params = &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        enterpriseId: app.globalData.enterpriseId,</span></span><br><span class=\"line\"><span class=\"xml\">        userId: app.globalData.userId,</span></span><br><span class=\"line\"><span class=\"xml\">        employeeNo: app.globalData.employeeNo,</span></span><br><span class=\"line\"><span class=\"xml\">        ...this.check,</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;;</span></span><br><span class=\"line\"><span class=\"xml\">      delete params.type;</span></span><br><span class=\"line\"><span class=\"xml\">      console.log(params, '打卡postdata');</span></span><br><span class=\"line\"><span class=\"xml\">      attendanceApi</span></span><br><span class=\"line\"><span class=\"xml\">        .saveAttendanceData(params)</span></span><br><span class=\"line\"><span class=\"xml\">        .then((res) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          if (res.extra &amp;&amp; res.extra.extraCode) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            // 销毁定时器</span></span><br><span class=\"line\"><span class=\"xml\">            clearInterval(this.intervalTimer);</span></span><br><span class=\"line\"><span class=\"xml\">            app.globalData.scrollLock = false;</span></span><br><span class=\"line\"><span class=\"xml\">            // 打卡有冲突</span></span><br><span class=\"line\"><span class=\"xml\">            this.conflict = &#123;</span></span><br><span class=\"line\"><span class=\"xml\">              ...res.data,</span></span><br><span class=\"line\"><span class=\"xml\">              extraCode: res.extra.extraCode,</span></span><br><span class=\"line\"><span class=\"xml\">            &#125;;</span></span><br><span class=\"line\"><span class=\"xml\">            this.showConflict = true;</span></span><br><span class=\"line\"><span class=\"xml\">          &#125; else &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            // 如果今天没有打过卡</span></span><br><span class=\"line\"><span class=\"xml\">            if (!this.history || !this.history.length) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">              this.getClockType()</span></span><br><span class=\"line\"><span class=\"xml\">            &#125;</span></span><br><span class=\"line\"><span class=\"xml\">            this.success = res.data;</span></span><br><span class=\"line\"><span class=\"xml\">            this.showSuccess = true;</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;)</span></span><br><span class=\"line\"><span class=\"xml\">        .catch((errors) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          uni.$u.toast(errors.msg || '打卡出错，请稍后再试');</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;)</span></span><br><span class=\"line\"><span class=\"xml\">        .finally(() =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          uni.hideLoading();</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    // 储存用户行动轨迹</span></span><br><span class=\"line\"><span class=\"xml\">    getClockType() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      let ln = this.$storage._getStorage('latAndLon')</span></span><br><span class=\"line\"><span class=\"xml\">      let params = &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        enterpriseId: app.globalData.enterpriseId,</span></span><br><span class=\"line\"><span class=\"xml\">        userId: app.globalData.userId,</span></span><br><span class=\"line\"><span class=\"xml\">        employeeNo: app.globalData.employeeNo,</span></span><br><span class=\"line\"><span class=\"xml\">        longitude: ln.longitude,</span></span><br><span class=\"line\"><span class=\"xml\">        dimension: ln.latitude,</span></span><br><span class=\"line\"><span class=\"xml\">        placeName: this.$storage._getStorage('placeName'),</span></span><br><span class=\"line\"><span class=\"xml\">        hideLoadingTitle: true // 隐藏请求动画</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;;</span></span><br><span class=\"line\"><span class=\"xml\">      attendanceApi.attendanceGetClockType(params).then((res) =&gt; &#123; &#125;)</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    // 外勤打卡成功后,展示打卡成功弹窗</span></span><br><span class=\"line\"><span class=\"xml\">    outdoorCheck(params) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      this.showOutdoor = false;</span></span><br><span class=\"line\"><span class=\"xml\">      console.log(params, '外勤打卡postdata');</span></span><br><span class=\"line\"><span class=\"xml\">      attendanceApi.saveAttendanceData(params).then((res) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        if (res.extra &amp;&amp; res.extra.extraCode) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          // 销毁定时器</span></span><br><span class=\"line\"><span class=\"xml\">          clearInterval(this.intervalTimer);</span></span><br><span class=\"line\"><span class=\"xml\">          app.globalData.scrollLock = false;</span></span><br><span class=\"line\"><span class=\"xml\">          // 打卡有冲突</span></span><br><span class=\"line\"><span class=\"xml\">          this.conflict = &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            ...res.data,</span></span><br><span class=\"line\"><span class=\"xml\">            extraCode: res.extra.extraCode,</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;;</span></span><br><span class=\"line\"><span class=\"xml\">          this.showConflict = true;</span></span><br><span class=\"line\"><span class=\"xml\">        &#125; else &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          // 如果今天没有打过卡</span></span><br><span class=\"line\"><span class=\"xml\">          if (!this.history || !this.history.length) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            this.getClockType()</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;</span></span><br><span class=\"line\"><span class=\"xml\">          this.success = res.data;</span></span><br><span class=\"line\"><span class=\"xml\">          this.showSuccess = true;</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    // 关闭打卡成功的弹窗</span></span><br><span class=\"line\"><span class=\"xml\">    closeSuccess() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      this.$emit('after'); // 打卡成功后的回调</span></span><br><span class=\"line\"><span class=\"xml\">      this.showSuccess = false;</span></span><br><span class=\"line\"><span class=\"xml\">      this.innerVisible = false;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">    // 加入考勤组</span></span><br><span class=\"line\"><span class=\"xml\">    addGroup(query) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      let url = '/pages_tools/manage/index';</span></span><br><span class=\"line\"><span class=\"xml\">      if (query) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        url = url + '?from=' + query;</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"><span class=\"xml\">      uni.redirectTo(&#123;</span></span><br><span class=\"line\"><span class=\"xml\">        url,</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    // 取消打卡</span></span><br><span class=\"line\"><span class=\"xml\">    cancel() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      this.show = false;</span></span><br><span class=\"line\"><span class=\"xml\">      this.innerVisible = false;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">    // 取消跳转新增考勤组</span></span><br><span class=\"line\"><span class=\"xml\">    cancelAddGroup() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      this.showManage = false;</span></span><br><span class=\"line\"><span class=\"xml\">      this.showGroup = false;</span></span><br><span class=\"line\"><span class=\"xml\">      this.innerVisible = false;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    closeOutdoor() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      this.showOutdoor = false;</span></span><br><span class=\"line\"><span class=\"xml\">      this.innerVisible = false;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    closePopup() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      this.innerVisible = false;</span></span><br><span class=\"line\"><span class=\"xml\">      app.globalData.scrollLock = false;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    // 有冲突，取消打卡</span></span><br><span class=\"line\"><span class=\"xml\">    closeConflict() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      this.showConflict = false;</span></span><br><span class=\"line\"><span class=\"xml\">      this.innerVisible = false;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    // 确认作废有冲突的记录</span></span><br><span class=\"line\"><span class=\"xml\">    cancelSubmit() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      this.showConflict = false;</span></span><br><span class=\"line\"><span class=\"xml\">      this.submit(); // 继续打卡</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    //经纬度转换成三角函数中度分表形式</span></span><br><span class=\"line\"><span class=\"xml\">    Rad(d) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      return (d * Math.PI) / 180.0;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    // 计算两点之间的距离</span></span><br><span class=\"line\"><span class=\"xml\">    getMapDistance(lat1, lng1, lat2, lng2) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      var radLat1 = this.Rad(lat1);</span></span><br><span class=\"line\"><span class=\"xml\">      var radLat2 = this.Rad(lat2);</span></span><br><span class=\"line\"><span class=\"xml\">      var a = radLat1 - radLat2;</span></span><br><span class=\"line\"><span class=\"xml\">      var b = this.Rad(lng1) - this.Rad(lng2);</span></span><br><span class=\"line\"><span class=\"xml\">      var s =</span></span><br><span class=\"line\"><span class=\"xml\">        2 *</span></span><br><span class=\"line\"><span class=\"xml\">        Math.asin(</span></span><br><span class=\"line\"><span class=\"xml\">          Math.sqrt(</span></span><br><span class=\"line\"><span class=\"xml\">            Math.pow(Math.sin(a / 2), 2) +</span></span><br><span class=\"line\"><span class=\"xml\">            Math.cos(radLat1) *</span></span><br><span class=\"line\"><span class=\"xml\">            Math.cos(radLat2) *</span></span><br><span class=\"line\"><span class=\"xml\">            Math.pow(Math.sin(b / 2), 2),</span></span><br><span class=\"line\"><span class=\"xml\">          ),</span></span><br><span class=\"line\"><span class=\"xml\">        );</span></span><br><span class=\"line\"><span class=\"xml\">      s = s * 6378.137; // EARTH_RADIUS;</span></span><br><span class=\"line\"><span class=\"xml\">      s = Math.round(s * 10000) / 10000; // 输出为公里</span></span><br><span class=\"line\"><span class=\"xml\">      return s;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    //入参 格式 unselectTime=[&#123; startTime:\"1:00\", endtTime:'3:00'&#125;]</span></span><br><span class=\"line\"><span class=\"xml\">    //返回数据 [&#123; startTime:\"00:00\", endtTime:'1:00'&#125;，&#123; startTime:\"3:00\", endtTime:'00:00'&#125;]</span></span><br><span class=\"line\"><span class=\"xml\">    //转化成分钟</span></span><br><span class=\"line\"><span class=\"xml\">    toMinites(time) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      let mins = null;</span></span><br><span class=\"line\"><span class=\"xml\">      let times = time.split(':');</span></span><br><span class=\"line\"><span class=\"xml\">      mins = parseInt(times[0]) * 60 + parseInt(times[1]);</span></span><br><span class=\"line\"><span class=\"xml\">      return mins;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    toHHmmFormat(minutes) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      let h = null;</span></span><br><span class=\"line\"><span class=\"xml\">      let m = null;</span></span><br><span class=\"line\"><span class=\"xml\">      if (minutes) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        h = ('0' + parseInt(minutes / 60)).slice(-2);</span></span><br><span class=\"line\"><span class=\"xml\">        m = ('0' + (minutes % 60)).slice(-2);</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"><span class=\"xml\">      return [h, m].join(':');</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">    formateTime(selectedTime) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      let newSelectTime = [...selectedTime];</span></span><br><span class=\"line\"><span class=\"xml\">      selectedTime.forEach((item, index) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        if (</span></span><br><span class=\"line\"><span class=\"xml\">          this.toMinites(item.startTime) &gt; this.toMinites(item.endtTime) &amp;&amp;</span></span><br><span class=\"line\"><span class=\"xml\">          this.toMinites(item.endtTime) != 0</span></span><br><span class=\"line\"><span class=\"xml\">        ) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          newSelectTime.splice(index, 1);</span></span><br><span class=\"line\"><span class=\"xml\">          newSelectTime.push(&#123;</span></span><br><span class=\"line\"><span class=\"xml\">            startTime: item.startTime,</span></span><br><span class=\"line\"><span class=\"xml\">            endtTime: '00:00',</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">          newSelectTime.push(&#123;</span></span><br><span class=\"line\"><span class=\"xml\">            startTime: '00:00',</span></span><br><span class=\"line\"><span class=\"xml\">            endtTime: item.endtTime,</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">      console.log(newSelectTime, 'newSelectTime');</span></span><br><span class=\"line\"><span class=\"xml\">      return newSelectTime;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">    unselectTime(selectedTime) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      let arr = [...selectedTime];</span></span><br><span class=\"line\"><span class=\"xml\">      let newSelectTime = this.formateTime(arr);</span></span><br><span class=\"line\"><span class=\"xml\">      let timeArr = [];</span></span><br><span class=\"line\"><span class=\"xml\">      let unselectTime = [];</span></span><br><span class=\"line\"><span class=\"xml\">      if (newSelectTime &amp;&amp; newSelectTime.length) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        for (let i = 0; i <span class=\"tag\">&lt; <span class=\"attr\">newSelectTime.length</span>; <span class=\"attr\">i</span>++) &#123;</span></span></span><br><span class=\"line\"><span class=\"xml\">          if (</span></span><br><span class=\"line\"><span class=\"xml\">            this.toMinites(newSelectTime[i].startTime) ==</span></span><br><span class=\"line\"><span class=\"xml\">            this.toMinites(newSelectTime[i].endtTime)</span></span><br><span class=\"line\"><span class=\"xml\">          ) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            return unselectTime;</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;</span></span><br><span class=\"line\"><span class=\"xml\">          timeArr.push([</span></span><br><span class=\"line\"><span class=\"xml\">            this.toMinites(newSelectTime[i].startTime),</span></span><br><span class=\"line\"><span class=\"xml\">            this.toMinites(newSelectTime[i].endtTime),</span></span><br><span class=\"line\"><span class=\"xml\">          ]);</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">      timeArr.sort((a, b) =&gt; &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        return a[0] - b[0];</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">      if (timeArr.length) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        if (timeArr[0][0] !== 0) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          unselectTime.unshift(&#123;</span></span><br><span class=\"line\"><span class=\"xml\">            startTime: '00:00',</span></span><br><span class=\"line\"><span class=\"xml\">            endtTime: this.toHHmmFormat(timeArr[0][0]),</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;</span></span><br><span class=\"line\"><span class=\"xml\">        for (let i = 0; i <span class=\"tag\">&lt; <span class=\"attr\">timeArr.length</span>; <span class=\"attr\">i</span>++) &#123;</span></span></span><br><span class=\"line\"><span class=\"xml\">          if (i + 1 &gt; timeArr.length - 1) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            continue;</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;</span></span><br><span class=\"line\"><span class=\"xml\">          if (timeArr[i][1] == timeArr[i + 1][0]) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">            continue;</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;</span></span><br><span class=\"line\"><span class=\"xml\">          unselectTime.push(&#123;</span></span><br><span class=\"line\"><span class=\"xml\">            startTime: this.formateTime(timeArr[i][1]),</span></span><br><span class=\"line\"><span class=\"xml\">            endtTime: this.toHHmmFormat(timeArr[i + 1][0]),</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;</span></span><br><span class=\"line\"><span class=\"xml\">        if (timeArr[timeArr.length - 1][1] !== 0) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          unselectTime.push(&#123;</span></span><br><span class=\"line\"><span class=\"xml\">            endtTime: this.toHHmmFormat(timeArr[timeArr.length - 1][1]),</span></span><br><span class=\"line\"><span class=\"xml\">            startTime: '00:00',</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;</span></span><br><span class=\"line\"><span class=\"xml\">        if (</span></span><br><span class=\"line\"><span class=\"xml\">          unselectTime.length &amp;&amp;</span></span><br><span class=\"line\"><span class=\"xml\">          unselectTime[0].startTime == '00:00' &amp;&amp;</span></span><br><span class=\"line\"><span class=\"xml\">          unselectTime[unselectTime.length - 1].endtTime == '00:00'</span></span><br><span class=\"line\"><span class=\"xml\">        ) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">          let startTime = unselectTime[unselectTime.length - 1].startTime;</span></span><br><span class=\"line\"><span class=\"xml\">          let endtTime = unselectTime[0].endtTime;</span></span><br><span class=\"line\"><span class=\"xml\">          unselectTime.splice(0, 1);</span></span><br><span class=\"line\"><span class=\"xml\">          unselectTime.splice(unselectTime.length - 1, 1);</span></span><br><span class=\"line\"><span class=\"xml\">          unselectTime.push(&#123;</span></span><br><span class=\"line\"><span class=\"xml\">            startTime,</span></span><br><span class=\"line\"><span class=\"xml\">            endtTime,</span></span><br><span class=\"line\"><span class=\"xml\">          &#125;);</span></span><br><span class=\"line\"><span class=\"xml\">        &#125;</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"><span class=\"xml\">      return unselectTime;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    /**</span></span><br><span class=\"line\"><span class=\"xml\">     * [checkAuditSeocnd 比较当前时间是否在指定时间段内,精确到毫秒]</span></span><br><span class=\"line\"><span class=\"xml\">     * @author dongsir</span></span><br><span class=\"line\"><span class=\"xml\">     * @DateTime 2022-11-23</span></span><br><span class=\"line\"><span class=\"xml\">     * @version 1.0</span></span><br><span class=\"line\"><span class=\"xml\">     * @param  date  [beginDateStr] [开始时间] HH:mm:ss</span></span><br><span class=\"line\"><span class=\"xml\">     * @param  date  [endDateStr]  [结束时间] HH:mm:ss</span></span><br><span class=\"line\"><span class=\"xml\">     * @return  Boolean</span></span><br><span class=\"line\"><span class=\"xml\">     */</span></span><br><span class=\"line\"><span class=\"xml\">    checkAuditSeocnd(beginTime, endTime) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      let today = dayjs(new Date()).format('YYYY/MM/DD');</span></span><br><span class=\"line\"><span class=\"xml\">      beginTime = today + ' ' + beginTime;</span></span><br><span class=\"line\"><span class=\"xml\">      endTime = today + ' ' + endTime;</span></span><br><span class=\"line\"><span class=\"xml\">      // default milliseconds</span></span><br><span class=\"line\"><span class=\"xml\">      if (dayjs().isBetween(beginTime, endTime)) &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        return true;</span></span><br><span class=\"line\"><span class=\"xml\">      &#125; else &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        return false;</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">  beforeDestroy() &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    // 销毁定时器</span></span><br><span class=\"line\"><span class=\"xml\">    clearInterval(this.intervalTimer);</span></span><br><span class=\"line\"><span class=\"xml\">    app.globalData.scrollLock = false;</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;,</span></span><br><span class=\"line\"><span class=\"xml\">&#125;;</span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"scss\"</span> <span class=\"attr\">scoped</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">.check-container &#123;</span></span><br><span class=\"line\"><span class=\"xml\">  text-align: center;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">  .check-box &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    border-bottom: 1px solid rgba(187, 187, 187, 0.6);</span></span><br><span class=\"line\"><span class=\"xml\">    margin: 0 3rem;</span></span><br><span class=\"line\"><span class=\"xml\">    padding: 1.13rem 2rem;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    .icon &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      width: 3.5rem;</span></span><br><span class=\"line\"><span class=\"xml\">      height: 3.5rem;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    .info &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      padding: 0.44rem 0;</span></span><br><span class=\"line\"><span class=\"xml\">      font-size: 1.25rem;</span></span><br><span class=\"line\"><span class=\"xml\">      font-weight: bold;</span></span><br><span class=\"line\"><span class=\"xml\">      color: #262626;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">      &amp;.error &#123;</span></span><br><span class=\"line\"><span class=\"xml\">        color: #e74b47;</span></span><br><span class=\"line\"><span class=\"xml\">      &#125;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    .address &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      width: 320rpx;</span></span><br><span class=\"line\"><span class=\"xml\">      font-size: 0.75rem;</span></span><br><span class=\"line\"><span class=\"xml\">      color: #999999;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">  .time &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    padding: 1.3rem 0;</span></span><br><span class=\"line\"><span class=\"xml\">    font-size: 1.06rem;</span></span><br><span class=\"line\"><span class=\"xml\">    font-weight: bold;</span></span><br><span class=\"line\"><span class=\"xml\">    color: #262626;</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">  .btn &#123;</span></span><br><span class=\"line\"><span class=\"xml\">    height: 4rem;</span></span><br><span class=\"line\"><span class=\"xml\">    background: #4c8afc;</span></span><br><span class=\"line\"><span class=\"xml\">    font-size: 1.06rem;</span></span><br><span class=\"line\"><span class=\"xml\">    font-weight: bold;</span></span><br><span class=\"line\"><span class=\"xml\">    color: #ffffff;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    &amp;.submit-btn &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      letter-spacing: 3px;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\">    &amp;.cancel &#123;</span></span><br><span class=\"line\"><span class=\"xml\">      background: #fff;</span></span><br><span class=\"line\"><span class=\"xml\">      color: #999;</span></span><br><span class=\"line\"><span class=\"xml\">      border-bottom-left-radius: 10px;</span></span><br><span class=\"line\"><span class=\"xml\">      border-bottom-right-radius: 10px;</span></span><br><span class=\"line\"><span class=\"xml\">    &#125;</span></span><br><span class=\"line\"><span class=\"xml\">  &#125;</span></span><br><span class=\"line\"><span class=\"xml\">&#125;</span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n","tags":["VUE","uniapp开发"]},{"title":"图片或背景实现等比自适应缩放","url":"/2019/01/26/%E5%9B%BE%E7%89%87%E6%88%96%E8%83%8C%E6%99%AF%E5%AE%9E%E7%8E%B0%E7%AD%89%E6%AF%94%E8%87%AA%E9%80%82%E5%BA%94%E7%BC%A9%E6%94%BE/","content":"<figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"utf-8\"</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width, initial-scale=1\"</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>React App<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\">    body &#123;</span><br><span class=\"line\">      margin: 0px;</span><br><span class=\"line\">      padding: 0px;</span><br><span class=\"line\"><span class=\"css\">      <span class=\"selector-tag\">background-color</span>: <span class=\"selector-id\">#f8f6f7</span>;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-class\">.ly-container</span> &#123;</span></span><br><span class=\"line\">      display: flex;</span><br><span class=\"line\">      flex-wrap: wrap;</span><br><span class=\"line\">      justify-content: space-between;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-class\">.ly-temp-item</span> &#123;</span></span><br><span class=\"line\">      width: 23%;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-class\">.ly-temp-bodyer</span> &#123;</span></span><br><span class=\"line\">      overflow: hidden;</span><br><span class=\"line\">      position: relative;</span><br><span class=\"line\">      border-radius: 8px;</span><br><span class=\"line\">      padding-bottom: calc(1500% / 11);</span><br><span class=\"line\">      background-color: white;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-class\">.ly-temp-image</span> &#123;</span></span><br><span class=\"line\">      top: 0px;</span><br><span class=\"line\">      left: 0px;</span><br><span class=\"line\">      right: 0px;</span><br><span class=\"line\">      bottom: 0px;</span><br><span class=\"line\">      position: absolute;</span><br><span class=\"line\">      margin-bottom: 5%;</span><br><span class=\"line\">      background-size: 100%;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"css\">    <span class=\"selector-class\">.ly-temp-footer</span> &#123;</span></span><br><span class=\"line\">      font-size: 14px;</span><br><span class=\"line\">      margin-top: 8px;</span><br><span class=\"line\">      text-align: center;</span><br><span class=\"line\">      line-height: 24px;</span><br><span class=\"line\">      margin-bottom: 8px;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-container\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-item\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-bodyer\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-image\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-image: url(./image/1.png);\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-footer\"</span>&gt;</span>标题1<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-item\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-bodyer\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-image\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-image: url(./image/2.png);\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-footer\"</span>&gt;</span>标题1<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-item\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-bodyer\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-image\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-image: url(./image/3.png);\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-footer\"</span>&gt;</span>标题1<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-item\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-bodyer\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-image\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-image: url(./image/4.png);\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-footer\"</span>&gt;</span>标题1<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-item\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-bodyer\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-image\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-image: url(./image/5.png);\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-footer\"</span>&gt;</span>标题1<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-item\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-bodyer\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-image\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-image: url(./image/6.png);\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-footer\"</span>&gt;</span>标题1<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-item\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-bodyer\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-image\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-image: url(./image/7.png);\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-footer\"</span>&gt;</span>标题1<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-item\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-bodyer\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-image\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"background-image: url(./image/8.png);\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ly-temp-footer\"</span>&gt;</span>标题1<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>","tags":["前端","学习"]},{"title":"宏任务还是微任务？","url":"/2021/04/26/%E5%AE%8F%E4%BB%BB%E5%8A%A1%E8%BF%98%E6%98%AF%E5%BE%AE%E4%BB%BB%E5%8A%A1%EF%BC%9F/","content":"<h4 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h4><p>我们都知道js是一个单线程，里面的的请求方式分为两种，一种是同步请求，一种是异步请求，同步方法先执行完毕，然后再去异步任务队列中查看有没有异步任务，有才会执行。</p>\n<p>在JavaScript中，所有的任务都可以分为</p>\n<p>同步任务：立即执行的任务，同步任务一般会直接进入到主线程中执行</p>\n<p>异步任务：异步执行的任务，比如<code>ajax</code>网络请求，<code>setTimeout</code>定时函数等</p>\n<h4 id=\"常见的宏任务\"><a href=\"#常见的宏任务\" class=\"headerlink\" title=\"常见的宏任务\"></a>常见的宏任务</h4><p><code>script</code>、<code>setTimeout</code>、<code>setInterval</code>、<code>setImmediate</code></p>\n<h4 id=\"常见的微任务\"><a href=\"#常见的微任务\" class=\"headerlink\" title=\"常见的微任务\"></a>常见的微任务</h4><p>一个需要异步执行的函数，执行时机是在主函数执行结束之后、当前宏任务结束之前</p>\n<p><code>Promise</code>中的then、async、await、<code>process.nextTick</code>（Node.js）、<code>MutationObserver</code>（监听DOM变化的事件）、<code>Object.observe</code>（已废弃；Proxy 对象替代）</p>\n<p>关于两者之间的区别：微任务是批量执行、宏任务则是一个一个的执行。</p>\n<ul>\n<li>执行一个宏任务，如果遇到微任务就将它放到微任务的事件队列中</li>\n<li>当前宏任务执行完成后，会查看微任务的事件队列，然后将里面的所有微任务依次执行完</li>\n</ul>\n<p>这里我们可以看到，script标签包含的下面的代码块，那么这就属于是第一个异步任务，也就是宏任务，首先去执行它</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'1'</span>) </span></span><br><span class=\"line\"><span class=\"actionscript\">    setTimeout(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123; </span></span><br><span class=\"line\"><span class=\"javascript\">       <span class=\"built_in\">console</span>.log(<span class=\"string\">'2'</span>)</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">resolve</span>) </span>&#123; </span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'3'</span>);  </span></span><br><span class=\"line\">        resolve();</span><br><span class=\"line\"><span class=\"actionscript\">    &#125;).then(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123; </span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'4'</span>)</span></span><br><span class=\"line\"><span class=\"actionscript\">        setTimeout(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">'5'</span>) </span></span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">resolve</span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">'6'</span>); </span></span><br><span class=\"line\">            resolve();</span><br><span class=\"line\"><span class=\"actionscript\">        &#125;).then(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">             <span class=\"built_in\">console</span>.log(<span class=\"string\">'7'</span>)</span></span><br><span class=\"line\"><span class=\"actionscript\">        setTimeout(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">'8'</span>) </span></span><br><span class=\"line\">        &#125;); </span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight coffeescript\"><table><tr><td class=\"code\"><pre><span class=\"line\">setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"number\">0</span>)</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>)</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">new</span> Promise(<span class=\"function\"><span class=\"params\">(resolve, reject)</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"number\">1</span>)</span><br><span class=\"line\">    resolve()</span><br><span class=\"line\">&#125;).<span class=\"keyword\">then</span>(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"number\">2</span>)</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Promise(<span class=\"function\"><span class=\"params\">(resolve, reject)</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"number\">3</span>)</span><br><span class=\"line\">        resolve()</span><br><span class=\"line\">    &#125;).<span class=\"keyword\">then</span>(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"number\">4</span>)</span><br><span class=\"line\">    &#125;).<span class=\"keyword\">then</span>(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"number\">5</span>)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;).<span class=\"keyword\">then</span>(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"number\">6</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">new</span> Promise(<span class=\"function\"><span class=\"params\">(resolve, reject)</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"number\">7</span>)</span><br><span class=\"line\">    resolve()</span><br><span class=\"line\">&#125;).<span class=\"keyword\">then</span>(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"number\">8</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">172384650</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight coffeescript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"number\">1</span>);</span><br><span class=\"line\"><span class=\"keyword\">new</span> Promise(<span class=\"function\"><span class=\"params\">(resolve, reject)</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"number\">2</span>);</span><br><span class=\"line\">    setTimeout(() = &gt;&#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"number\">3</span>)</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    resolve()</span><br><span class=\"line\">&#125;).<span class=\"keyword\">then</span>(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"number\">4</span>)</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"number\">5</span>)</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"number\">6</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">1</span>，<span class=\"number\">2</span>，<span class=\"number\">6</span>，<span class=\"number\">4</span>，<span class=\"number\">3</span>，<span class=\"number\">5</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'1'</span>) </span><br><span class=\"line\">    setTimeout(function () &#123; </span><br><span class=\"line\">       <span class=\"built_in\">console</span>.log(<span class=\"string\">'2'</span>)</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Promise(function (resolve) &#123; </span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'3'</span>);  </span><br><span class=\"line\">        resolve();</span><br><span class=\"line\">    &#125;).<span class=\"keyword\">then</span>(function () &#123; </span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'4'</span>)</span><br><span class=\"line\">        setTimeout(function () &#123;</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">'5'</span>) </span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">new</span> Promise(function (resolve) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">'6'</span>); </span><br><span class=\"line\">            resolve();</span><br><span class=\"line\">        &#125;).<span class=\"keyword\">then</span>(function () &#123;</span><br><span class=\"line\">             <span class=\"built_in\">console</span>.log(<span class=\"string\">'7'</span>)</span><br><span class=\"line\">        setTimeout(function () &#123;</span><br><span class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">'8'</span>) </span><br><span class=\"line\">        &#125;); </span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"number\">9</span>)</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">136947258</span></span><br><span class=\"line\"></span><br><span class=\"line\">let promise = <span class=\"keyword\">new</span> Promise(resolve=&gt;&#123;</span><br><span class=\"line\">    setTimeout(<span class=\"function\"><span class=\"params\">()</span>=&gt;</span>&#123;</span><br><span class=\"line\">        resolve();</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'1'</span>)</span><br><span class=\"line\">    &#125;,<span class=\"number\">0</span>);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'2'</span>)</span><br><span class=\"line\">&#125;).<span class=\"keyword\">then</span>(value=&gt;<span class=\"built_in\">console</span>.log(<span class=\"string\">'3'</span>))</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'4'</span>)</span><br><span class=\"line\"><span class=\"number\">2413</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"number\">1</span>) <span class=\"regexp\">//</span> 遇到 <span class=\"built_in\">console</span>.log(<span class=\"number\">1</span>) ，直接打印 <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"regexp\">//</span> 遇到定时器，属于新的宏任务，留着后面执行</span><br><span class=\"line\">setTimeout(<span class=\"function\"><span class=\"params\">()</span>=&gt;</span>&#123; </span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"number\">2</span>)</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"regexp\">//</span> 遇到 <span class=\"keyword\">new</span> Promise，这个是直接执行的，打印 <span class=\"string\">'new Promise'</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> Promise(<span class=\"function\"><span class=\"params\">(resolve, reject)</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'new Promise'</span>)</span><br><span class=\"line\">    resolve()</span><br><span class=\"line\">&#125;).<span class=\"keyword\">then</span>(<span class=\"function\"><span class=\"params\">()</span>=&gt;</span>&#123; <span class=\"regexp\">//</span> .<span class=\"keyword\">then</span> 属于微任务，放入微任务队列，后面再执行</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'then'</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"number\">3</span>) <span class=\"regexp\">//</span> 遇到 <span class=\"built_in\">console</span>.log(<span class=\"number\">3</span>) 直接打印 <span class=\"number\">3</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"regexp\">//</span> 好了本轮宏任务执行完毕，现在去微任务列表查看是否有微任务，发现 .<span class=\"keyword\">then</span> 的回调，执行它，打印 <span class=\"string\">'then'</span></span><br><span class=\"line\"><span class=\"regexp\">//</span> 当一次宏任务执行完，再去执行新的宏任务，这里就剩一个定时器的宏任务了，执行它，打印 <span class=\"number\">2</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">实际结果是：<span class=\"number\">1</span>=&gt;<span class=\"string\">'new Promise'</span>=&gt; <span class=\"number\">3</span> =&gt; <span class=\"string\">'then'</span> =&gt; <span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h4><p>同步&gt;微任务&gt;宏任务</p>\n<h4 id=\"async与await\"><a href=\"#async与await\" class=\"headerlink\" title=\"async与await\"></a>async与await</h4><p><code>async</code> 是异步的意思，<code>await</code>则可以理解为 <code>async wait</code>。所以可以理解<code>async</code>就是用来声明一个异步方法，而 <code>await</code>是用来等待异步方法执行</p>\n<p><code>async</code>函数返回一个<code>promise</code>对象，下面两种方法是等效的</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">f</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Promise</span>.resolve(<span class=\"string\">'TEST'</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// asyncF is equivalent to f!</span></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">asyncF</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'TEST'</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>正常情况下，<code>await</code>命令后面是一个 <code>Promise</code>对象，返回该对象的结果。如果不是 <code>Promise</code>对象，就直接返回对应的值。不管<code>await</code>后面跟着的是什么，<code>await</code>都会阻塞后面的代码</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fn1</span> (<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">await</span> fn2()</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"number\">2</span>) <span class=\"comment\">// 阻塞</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">fn2</span> (<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'fn2'</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">fn1()</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"number\">3</span>)</span><br></pre></td></tr></table></figure>\n<p>上面的例子中，<code>await</code>会阻塞下面的代码（即加入微任务队列），先执行 <code>async</code>外面的同步代码，同步代码执行完，再回到 <code>async</code> 函数中，再执行之前阻塞的代码</p>\n<p>所以上述输出结果为：<code>1，fn2，3，2</code></p>\n<p>参考文章</p>\n<ul>\n<li><a href=\"https://blog.csdn.net/weixin_48389576/article/details/112210861\" target=\"_blank\" rel=\"noopener\">宏任务微任务</a></li>\n<li><a href=\"https://vue3js.cn/interview/JavaScript/event_loop.html#%E4%B8%89%E3%80%81async%E4%B8%8Eawait\" target=\"_blank\" rel=\"noopener\">事件循环</a></li>\n</ul>\n","tags":["前端","学习"]},{"title":"uni-小程序 环境变量配置","url":"/2022/05/09/%E5%B0%8F%E7%A8%8B%E5%BA%8F-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE/","content":"<p>小程序环境变量配置，区分开发、体验、线上</p>\n<p>封装__wxConfig.envVersion，main.js中引入注册，全局使用；</p>\n<p>和后端约定了在请求<code>header</code>里除了<code>token</code>，还要加上<code>requestId</code>,为随机生成40位的字母，数字，-，三种,最后一位默认为4，为小程序标识</p>\n<h4 id=\"注意\"><a href=\"#注意\" class=\"headerlink\" title=\"注意\"></a>注意</h4><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> REQUEST_URL = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">baseUrl</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">const</span> envVersion = __wxConfig.envVersion;</span><br><span class=\"line\">\t<span class=\"keyword\">switch</span> (envVersion) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"string\">'develop'</span>:</span><br><span class=\"line\">\t\t\tREQUEST_URL =<span class=\"string\">\"http://xxxx.com\"</span>; <span class=\"comment\">//开发版</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"string\">'trial'</span>:</span><br><span class=\"line\">\t\t\tREQUEST_URL = <span class=\"string\">\"http://xxxx.com\"</span>; <span class=\"comment\">//体验版</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">case</span> <span class=\"string\">'release'</span>:</span><br><span class=\"line\">\t\t\tREQUEST_URL = <span class=\"string\">\"https://xxxx.com\"</span>; <span class=\"comment\">//正式版</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t\t<span class=\"keyword\">default</span>:</span><br><span class=\"line\">\t\t\tREQUEST_URL = <span class=\"string\">\"正式域名地址\"</span>;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> REQUEST_URL;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">baseUrl()</span><br></pre></td></tr></table></figure>\n<h4 id=\"request公共方法\"><a href=\"#request公共方法\" class=\"headerlink\" title=\"request公共方法\"></a>request公共方法</h4><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> randomString = <span class=\"function\">(<span class=\"params\">length</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> str = <span class=\"string\">'0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-'</span>;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> result = <span class=\"string\">''</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = length; i &gt; <span class=\"number\">0</span>; --i) &#123; result += str[<span class=\"built_in\">Math</span>.floor(<span class=\"built_in\">Math</span>.random() * str.length)] &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> getHeader = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> token = uni.getStorageSync(<span class=\"string\">'token'</span>) || <span class=\"string\">''</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    token,</span><br><span class=\"line\">    <span class=\"string\">'Content-type'</span>: <span class=\"string\">'application/json;charset=UTF-8'</span>,</span><br><span class=\"line\">    <span class=\"string\">'requestId'</span>: randomString(<span class=\"number\">39</span>) + <span class=\"string\">'4'</span> <span class=\"comment\">// 随机生成40位的字母，数字，-，三种,最后一位默认为4，为小程序标识</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","tags":["微信小程序","uniapp","移动端"]},{"title":"新官网踩坑笔记","url":"/2023/02/28/%E6%96%B0%E5%AE%98%E7%BD%91%E8%B8%A9%E5%9D%91%E7%AC%94%E8%AE%B0/","content":"<p>统一修改</p>\n<ol>\n<li>首页banner 滚动  - 文字不滚动</li>\n<li>理念主张：before也需要连着文字算居中</li>\n<li>怀庭 - 公共区域/客房区域- 加上白色滚动进度条</li>\n<li>品牌页面 - 左右滑动fix</li>\n<li>安卓 - 芷岸 滚动nav 没出现</li>\n<li>芷岸美学 - 图上缺字</li>\n<li>芷岸、怀挺icon高度140， 其他110</li>\n</ol>\n<ul>\n<li>图片压缩</li>\n<li>视频 cover gif - 杨奇上传服务器，替换本地为云端图片</li>\n<li>首页/新闻与活动 - 替换公众号地址</li>\n<li>im 等待时间1000</li>\n<li>乐乎集团 轮播图 替换正确的</li>\n<li>footer  手机号 tips 对齐</li>\n<li>招聘  - input搜索 样式</li>\n<li><del>乐乎租房 - 安卓会文字溢出。商量修改文案</del></li>\n<li><del>title背景字母 - 长度会溢出</del></li>\n<li><del>认识行业专家 - 文字会超出长度第二行 - icon和name平级</del></li>\n<li>二级页面弹窗 - 用reload 跳转 ，需要页面滚动到顶部</li>\n<li>tabs切换替换bug</li>\n<li>input框文字被遮挡</li>\n<li>swiper 一个轮回后再次点击，没有出来弹窗</li>\n<li>gif背景播放图，过大加载优化，解决首次加载出现白色屏幕</li>\n<li>品牌页面 icon替换计算，而不是用css控制居中</li>\n<li>点击menu，当前id匹配的话收起menu而不是固定不动</li>\n<li>图片加载白</li>\n<li>表单提交节流</li>\n</ul>\n<ol>\n<li>压缩</li>\n<li>gif会出现播放一次后，会卡顿几秒，然后再次播放。本地用定时器 + 随机数，强行webpack二次压缩，时间到了reload 该gif解决卡顿</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@description</span>: 定时器重载视频背景gif，解决卡顿问题</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return <span class=\"type\">&#123;*&#125;</span> </span>image url</span></span><br><span class=\"line\"><span class=\"comment\"> *  一轮播放60s,是因为gif是60s的播放长度</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\">reloadGif() &#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.show = <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.timeRunner = setInterval(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.cover = <span class=\"built_in\">require</span>(<span class=\"string\">'@/assets/insight.gif'</span>) + <span class=\"string\">'?'</span> + <span class=\"built_in\">Math</span>.random()</span><br><span class=\"line\">  &#125;, <span class=\"number\">600000</span>)</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>swiper 一个轮回后再次点击，没有出来弹窗，swiper 一次轮回，init了，直接绑定在dom上的@click事件是无法二次触发的。采用原生的click事件，拿到点击的index再去召唤弹窗<figure class=\"highlight django\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"swiper-container expert-swiper expert-js\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"swiper-wrapper \"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"swiper-slide\"</span></span></span></span><br><span class=\"line\"><span class=\"xml\">      v-for=\"(item,index) in data\"</span></span><br><span class=\"line\"><span class=\"xml\">      :key=\"index\"&gt;</span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">:src</span>=<span class=\"string\">\"item.img\"</span> /&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"expert-item\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"layout-slide\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"name pb16\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123; item.title &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">          <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">class</span>=<span class=\"string\">\"icon\"</span></span></span></span><br><span class=\"line\"><span class=\"xml\">            src=\"@/assets/arrow- detraction.png\" /&gt;</span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"position\"</span>&gt;</span> </span><span class=\"template-variable\">&#123;&#123; item.info[0] &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"xml\"><span class=\"comment\">&lt;!-- 专家弹窗 --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">p-detail-popup</span> <span class=\"attr\">:data</span>=<span class=\"string\">\"current\"</span></span></span></span><br><span class=\"line\"><span class=\"xml\">  :visible.sync=\"show\"</span></span><br><span class=\"line\"><span class=\"xml\">  height=\"80%\"</span></span><br><span class=\"line\"><span class=\"xml\">  complex /&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">mounted() &#123;</span><br><span class=\"line\">   <span class=\"keyword\">let</span> vm = <span class=\"keyword\">this</span></span><br><span class=\"line\">   <span class=\"keyword\">new</span> Swiper(<span class=\"string\">\".expert-js\"</span>, &#123;</span><br><span class=\"line\">     slidesPerView: <span class=\"string\">\"auto\"</span>,</span><br><span class=\"line\">     autoplay: <span class=\"literal\">true</span>,</span><br><span class=\"line\">     speed: <span class=\"number\">300</span>,</span><br><span class=\"line\">     loop: <span class=\"literal\">true</span>,</span><br><span class=\"line\">     swiperIndex: <span class=\"literal\">null</span>, <span class=\"comment\">// 初始化</span></span><br><span class=\"line\">     on: &#123;</span><br><span class=\"line\">       click: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">         vm.swiperIndex = <span class=\"keyword\">this</span>.realIndex</span><br><span class=\"line\">         vm.handleShow(vm.data[<span class=\"keyword\">this</span>.realIndex])</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">   &#125;);</span><br><span class=\"line\"> &#125;,</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li><p>css计算</p>\n<figure class=\"highlight scss\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">height</span>: calc(<span class=\"number\">100%</span> / <span class=\"number\">6</span>);</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>表单提交节流</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//校验表单合法</span></span><br><span class=\"line\">        checkValid() &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.isPending) <span class=\"keyword\">return</span></span><br><span class=\"line\">            <span class=\"keyword\">this</span>.$refs.form.validate().then(() =&gt; &#123;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.isPending = <span class=\"literal\">true</span></span><br><span class=\"line\">                <span class=\"comment\">// 验证通过</span></span><br><span class=\"line\">                <span class=\"keyword\">this</span>.handleSubmit()</span><br><span class=\"line\">            &#125;).<span class=\"keyword\">catch</span>((err) =&gt; &#123;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.isPending = <span class=\"literal\">false</span></span><br><span class=\"line\">                <span class=\"comment\">//验证失败</span></span><br><span class=\"line\">                Toast(&#123;</span><br><span class=\"line\">                    message: err[<span class=\"number\">0</span>].message,</span><br><span class=\"line\">                    className: <span class=\"string\">'toastStyle'</span>, <span class=\"comment\">//所加样式名</span></span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        </span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">// 请求成功后 form = &#123;&#125;,避免重复提交</span></span><br></pre></td></tr></table></figure></li>\n</ol>\n","tags":["VUE"]},{"title":"手写节流函数和防抖函数","url":"/2019/08/13/%E6%89%8B%E5%86%99%E8%8A%82%E6%B5%81%E5%87%BD%E6%95%B0%E5%92%8C%E9%98%B2%E6%8A%96%E5%87%BD%E6%95%B0/","content":"<h4 id=\"函数节流\"><a href=\"#函数节流\" class=\"headerlink\" title=\"函数节流\"></a>函数节流</h4><p>不断触发一个函数后，执行第一次，只有大于设定的执行周期后才会执行第二次</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">            节流函数：fn:要被节流的函数，delay：规定的时间</span></span><br><span class=\"line\"><span class=\"comment\">        */</span></span><br><span class=\"line\">       <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">throttle</span>(<span class=\"params\">fn,delay</span>)</span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 记录上一次函数出发的时间</span></span><br><span class=\"line\">            <span class=\"keyword\">var</span> lastTime = <span class=\"number\">0</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 记录当前函数触发的时间</span></span><br><span class=\"line\">            <span class=\"keyword\">var</span> nowTime = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>().getTime()</span><br><span class=\"line\">            <span class=\"comment\">// 当当前时间减去上一次执行时间大于这个指定间隔时间才让他触发这个函数</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nowTime - lastTime &gt; delay)&#123;</span><br><span class=\"line\">                <span class=\"comment\">// 绑定this指向</span></span><br><span class=\"line\">                fn.call(<span class=\"keyword\">this</span>)</span><br><span class=\"line\">                <span class=\"comment\">//同步时间</span></span><br><span class=\"line\">                lastTime = nowTime</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"函数防抖\"><a href=\"#函数防抖\" class=\"headerlink\" title=\"函数防抖\"></a>函数防抖</h4><p>不断触发一个函数，在规定时间内只让最后一次生效，前面都不生效</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">debounce</span>(<span class=\"params\">fn,delay</span>)</span>&#123;</span><br><span class=\"line\">           <span class=\"keyword\">var</span> timer = <span class=\"literal\">null</span></span><br><span class=\"line\">        <span class=\"comment\">//  清除上一次延时器</span></span><br><span class=\"line\">          <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">               clearTimeout(timer)</span><br><span class=\"line\">              <span class=\"comment\">//  重新设置一个新的延时器</span></span><br><span class=\"line\">              timer = setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">                  fn.call(<span class=\"keyword\">this</span>)</span><br><span class=\"line\">              &#125;, delay);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure>","tags":["前端","面试"]},{"title":"手写一个带有并发限制的异步调度器","url":"/2020/06/29/%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AA%E5%B8%A6%E6%9C%89%E5%B9%B6%E5%8F%91%E9%99%90%E5%88%B6%E7%9A%84%E5%BC%82%E6%AD%A5%E8%B0%83%E5%BA%A6%E5%99%A8/","content":"<figure class=\"highlight typescript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> *  并发限制</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> Schedule &#123;</span><br><span class=\"line\">    <span class=\"keyword\">constructor</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.waitList = [] <span class=\"comment\">// 异步任务等待队列</span></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.execList = [] <span class=\"comment\">// 异步任务执行队列</span></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.maxNum = <span class=\"number\">2</span>  <span class=\"comment\">//最大并发数量</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 添加异步任务</span></span><br><span class=\"line\">    add(callback) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 先判断异步任务执行队列长度</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"keyword\">this</span>.execList.length &lt; <span class=\"keyword\">this</span>.maxNum) &#123;</span><br><span class=\"line\">            <span class=\"comment\">//如果执行队列数量小于最大并发数量，则将该队列放入异步执行队列</span></span><br><span class=\"line\">            <span class=\"keyword\">this</span>.execList.push(callback)</span><br><span class=\"line\">            <span class=\"comment\">// 并执行该任务</span></span><br><span class=\"line\">            <span class=\"keyword\">this</span>.run(callback)</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 否则将该任务放入等待队列</span></span><br><span class=\"line\">            <span class=\"keyword\">this</span>.waitList.push(callback)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 执行异步任务</span></span><br><span class=\"line\">    run(callback) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> len = <span class=\"keyword\">this</span>.execList.length</span><br><span class=\"line\">        <span class=\"keyword\">let</span> index = len - <span class=\"number\">1</span> <span class=\"comment\">//获取当前正在执行的异步任务的索引</span></span><br><span class=\"line\">        <span class=\"comment\">// 执行该异步任务</span></span><br><span class=\"line\">        callback().then(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 执行完将该任务移出执行队列</span></span><br><span class=\"line\">            <span class=\"keyword\">this</span>.execList.splice(index, <span class=\"number\">1</span>)</span><br><span class=\"line\">            <span class=\"comment\">// 再判断等待队列是否还有异步任务</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(<span class=\"keyword\">this</span>.waitList.length &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">this</span>.run(<span class=\"keyword\">this</span>.waitList.shift())</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> timeout = <span class=\"function\"><span class=\"params\">time</span> =&gt;</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    setTimeout(resolve, time)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> schedule = <span class=\"keyword\">new</span> Schedule()</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">addTask</span>(<span class=\"params\">time, index</span>) </span>&#123;</span><br><span class=\"line\">    schedule.add(</span><br><span class=\"line\">        ()=&gt;timeout(time).then(<span class=\"function\"><span class=\"params\">()</span>=&gt;</span><span class=\"built_in\">console</span>.log(index, +<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>()))</span><br><span class=\"line\">    )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">addTask(<span class=\"number\">1000</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">addTask(<span class=\"number\">500</span>, <span class=\"number\">2</span>)</span><br><span class=\"line\">addTask(<span class=\"number\">300</span>, <span class=\"number\">3</span>)</span><br><span class=\"line\">addTask(<span class=\"number\">400</span>, <span class=\"number\">4</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 2,3,1,4</span></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 先任务1进执行队列，任务1开始执行，接着任务2进执行队列，任务2开始执行</span></span><br><span class=\"line\"><span class=\"comment\"> * 接着任务3进等待队列，任务4进等待队列。时间到了500ms，打印出2，任务2移出执行队列</span></span><br><span class=\"line\"><span class=\"comment\"> * 任务3进执行队列，此时时间到了（500+300）800ms，打印出3，任务3移出执行队列</span></span><br><span class=\"line\"><span class=\"comment\"> * 任务4进执行队列，此时时间到了1000ms，打印出1，任务1移出执行队列</span></span><br><span class=\"line\"><span class=\"comment\"> * 等待队列没有任务了，此时时间到了（800+400）1200ms，打印出4</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br></pre></td></tr></table></figure>\n<p>最近看到一道<a href=\"https://github.com/mqyqingfeng/Blog/issues/98\" target=\"_blank\" rel=\"noopener\">面试题</a>，题目如下：</p>\n<blockquote>\n<p>红灯三秒亮一次，绿灯一秒亮一次，黄灯2秒亮一次；如何让三个灯不断交替重复亮灯？（用 Promise 实现）</p>\n</blockquote>\n<p>三个亮灯函数已经存在：<br><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">red</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'red'</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">green</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'green'</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">yellow</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'yellow'</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>利用 then 和递归实现：<br><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">red</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'red'</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">green</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'green'</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">yellow</span>(<span class=\"params\"></span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'yellow'</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> lightUp = <span class=\"function\">(<span class=\"params\">timmer, callback</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">            callback();</span><br><span class=\"line\">            resolve();</span><br><span class=\"line\">        &#125;, timmer);</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> trafficStep = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">Promise</span>.resolve()</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> light(<span class=\"number\">3000</span>, red);</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> light(<span class=\"number\">2000</span>, green);</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> light(<span class=\"number\">1000</span>, yellow);</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">     .then(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">        trafficStep(); <span class=\"comment\">// 执行完毕后，递归执行</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">trafficStep()</span><br></pre></td></tr></table></figure></p>\n<p>执行效果如图所示<br><img src=\"https://img-blog.csdnimg.cn/eafb393645054d2dbaa5b10951636cf2.gif\" alt=\"image\"></p>\n","tags":["前端","面试"]},{"title":"记录hexo替换主题","url":"/2017/09/09/%E8%AE%B0%E5%BD%95hexo%E6%9B%BF%E6%8D%A2%E4%B8%BB%E9%A2%98/","content":"<p>博客也是上线了一年了，结果拖拖拉拉一直没什么东西写，今天闲来无事想着更换看腻了的博客主题。在 <a href=\"https://hexo.io/themes/\" target=\"_blank\" rel=\"noopener\">hexo主题官网</a> 找到了一款极简的主题 <a href=\"https://github.com/frostfan/hexo-theme-polarbear\" target=\"_blank\" rel=\"noopener\">polarbear</a> ,安装替换现有主题都是常规流程。参考制作人的readme步骤。</p>\n<figure class=\"highlight elixir\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$ </span>npm install hexo-renderer-scss --save</span><br><span class=\"line\"><span class=\"variable\">$ </span>git clone <span class=\"symbol\">https:</span>/<span class=\"regexp\">/github.com/frostfan</span><span class=\"regexp\">/hexo-theme-polarbear themes/polarbear</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"修改配置-config-yml\"><a href=\"#修改配置-config-yml\" class=\"headerlink\" title=\"修改配置 _config.yml\"></a>修改配置 <strong>_config.yml</strong></h1><figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Extensions</span></span><br><span class=\"line\"><span class=\"comment\">## Plugins: http://hexo.io/plugins/</span></span><br><span class=\"line\"><span class=\"comment\">## Themes: http://hexo.io/themes/</span></span><br><span class=\"line\"><span class=\"attr\">theme:</span> <span class=\"string\">polarbear</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 在归档页面显示所有文章 （Show all articles on archive page.）</span></span><br><span class=\"line\"><span class=\"comment\"># 需要安装(Need to install) hexo-generator-archive 插件支持</span></span><br><span class=\"line\"><span class=\"attr\">archive_generator:</span></span><br><span class=\"line\">    <span class=\"attr\">per_page:</span> <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"attr\">yearly:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">    <span class=\"attr\">monthly:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">    <span class=\"attr\">daily:</span> <span class=\"literal\">false</span></span><br></pre></td></tr></table></figure>\n<p>结果 <strong>archive</strong> 和 <strong>about</strong> 遇到了问题。右上角的归档页和关于我找不到路径。</p>\n<p><img src=\"http://xiaobokeji-test.oss-cn-shenzhen.aliyuncs.com/upload/39f20625-eeef-cc03-1f9e-4d03778175c9/achite.png\" alt=\"image\"></p>\n<hr>\n<h1 id=\"更换自己喜欢的网页图标\"><a href=\"#更换自己喜欢的网页图标\" class=\"headerlink\" title=\"更换自己喜欢的网页图标\"></a>更换自己喜欢的网页图标</h1><p>网上搜索自己喜欢的图片，尺寸小，注意格式要是<code>.ico</code>,替换本地<code>themes</code>文件夹下的<code>favicon.icon</code>文件即可。</p>\n<hr>\n<h1 id=\"解决about找不到\"><a href=\"#解决about找不到\" class=\"headerlink\" title=\"解决about找不到\"></a>解决about找不到</h1><p>排查了一下问题，可能是文件找不到。终于找到了相关教程，new了文件</p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"code\"><pre><span class=\"line\">hexo new<span class=\"built_in\"> page </span><span class=\"string\">\"about\"</span></span><br><span class=\"line\">hexo new<span class=\"built_in\"> page </span><span class=\"string\">\"archives\"</span></span><br></pre></td></tr></table></figure>\n<p>执行命令后在本地站点的source目录下生成一个about文件夹，修改about文件夹下的index.md。相应的archives也要修改type</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">about</span></span><br><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"number\">2016</span><span class=\"number\">-03</span><span class=\"number\">-23</span> <span class=\"number\">14</span><span class=\"string\">:24:06</span></span><br><span class=\"line\"><span class=\"attr\">type:</span> <span class=\"string\">about</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">---</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">archives</span></span><br><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"number\">2016</span><span class=\"number\">-03</span><span class=\"number\">-23</span> <span class=\"number\">14</span><span class=\"string\">:24:06</span></span><br><span class=\"line\"><span class=\"attr\">type:</span> <span class=\"string\">archive</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure>\n<p>重启服务就发现about可以正常跳转一个空页了。</p>\n<hr>\n<h1 id=\"解决archive找不到\"><a href=\"#解决archive找不到\" class=\"headerlink\" title=\"解决archive找不到\"></a>解决archive找不到</h1><p>百思不得其解为什么hexo没有自动生成archive，明明是安装了插件就可以支持的。重新执行了一下安装命令。<br><figure class=\"highlight sql\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm <span class=\"keyword\">install</span> <span class=\"comment\">--save hexo-generator-archive</span></span><br></pre></td></tr></table></figure></p>\n<p>在node_modules下找到了相应的hexo-generator-archive，证明插件安装成功。但是还是没有自动生成。</p>\n<p>终于排查到了问题，<strong>_config.yml</strong> 网站配置文件里的文件目录写错了 </p>\n<figure class=\"highlight avrasm\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\"># 错误</span></span><br><span class=\"line\"><span class=\"symbol\">archive_dir:</span> archive</span><br><span class=\"line\"><span class=\"meta\"># 正确</span></span><br><span class=\"line\"><span class=\"symbol\">archive_dir:</span> archives</span><br></pre></td></tr></table></figure>\n<p>终于成功了！</p>\n<p><img src=\"http://xiaobokeji-test.oss-cn-shenzhen.aliyuncs.com/upload/39f20628-f2aa-db19-1214-3dff2a83249e/%E6%B5%8B%E8%AF%95.png\" alt=\"image\"></p>\n<hr>\n<h1 id=\"以下是9月10日更新：\"><a href=\"#以下是9月10日更新：\" class=\"headerlink\" title=\"以下是9月10日更新：\"></a>以下是9月10日更新：</h1><p>侧边栏没有展示自定义的widget</p>\n<p>修改本地站点的 <strong>_config.yml</strong> 的相关配置语句并没有生效，经过排查发现是主题的 <strong>_config.yml</strong> 的相关配置是false，看来主题的配置权重更高。修改为false之后就发现了自定义的 <strong>widget_custom</strong> 出现了。</p>\n<p><img src=\"http://xiaobokeji-test.oss-cn-shenzhen.aliyuncs.com/upload/39f20628-f2aa-db19-1214-3dff2a83249e/%E6%B5%8B%E8%AF%95.png\" alt=\"image\"></p>\n<hr>\n<p>参考文章 </p>\n<ul>\n<li><a href=\"https://hexo.io/zh-cn/docs/configuration.html\" target=\"_blank\" rel=\"noopener\">官方说明</a></li>\n<li><a href=\"https://blog.csdn.net/tonydandelion2014/article/details/61615898\" target=\"_blank\" rel=\"noopener\">Hexo安装配置详解</a></li>\n</ul>\n","tags":["hexo"]},{"title":"手动实现all、bind、apply","url":"/2017/09/23/%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0all%E3%80%81bind%E3%80%81apply/","content":"<h6 id=\"call\"><a href=\"#call\" class=\"headerlink\" title=\"call\"></a>call</h6><p>原生call</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\">arg1, arg2</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(arg1, arg2)</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.a, <span class=\"keyword\">this</span>.b)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">run.call(&#123;</span><br><span class=\"line\">  a: <span class=\"string\">'a'</span>,</span><br><span class=\"line\">  b: <span class=\"string\">'b'</span></span><br><span class=\"line\">&#125;, <span class=\"number\">1</span>, <span class=\"number\">2</span>)</span><br></pre></td></tr></table></figure>\n<p>在实现的过程有个关键：</p>\n<p>如果一个函数作为一个对象的属性，那么通过对象的.运算符调用此函数，<strong>this</strong> 就是此对象</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\">  a: <span class=\"string\">'a'</span>,</span><br><span class=\"line\">  b: <span class=\"string\">'b'</span>,</span><br><span class=\"line\">  test: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">arg1, arg2</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(arg1, arg2)</span><br><span class=\"line\">    <span class=\"comment\">// this.a 就是 a; this.b 就是 b</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.a, <span class=\"keyword\">this</span>.b) </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">obj.test(<span class=\"number\">1</span>, <span class=\"number\">2</span>)</span><br></pre></td></tr></table></figure>\n<h6 id=\"手动模拟call\"><a href=\"#手动模拟call\" class=\"headerlink\" title=\"手动模拟call\"></a>手动模拟call</h6><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Function</span>.prototype.call2 = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">context</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(<span class=\"keyword\">typeof</span> <span class=\"keyword\">this</span> !== <span class=\"string\">'function'</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">TypeError</span>(<span class=\"string\">'Error'</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 默认上下文是window</span></span><br><span class=\"line\">  context = context || <span class=\"built_in\">window</span></span><br><span class=\"line\">  <span class=\"comment\">// 保存默认的fn</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; fn &#125; = context</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 前面讲的关键，将函数本身作为对象context的属性调用，自动绑定this</span></span><br><span class=\"line\">  context.fn = <span class=\"keyword\">this</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> args = [...arguments].slice(<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"keyword\">const</span> result = context.fn(...args)</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">// 恢复默认的fn</span></span><br><span class=\"line\">  context.fn = fn</span><br><span class=\"line\">  <span class=\"keyword\">return</span> result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 以下是测试代码</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\">arg1, arg2</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(arg1, arg2)</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.a, <span class=\"keyword\">this</span>.b)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">test.call2(&#123;</span><br><span class=\"line\">  a: <span class=\"string\">'a'</span>,</span><br><span class=\"line\">  b: <span class=\"string\">'b'</span></span><br><span class=\"line\">&#125;, <span class=\"number\">1</span>, <span class=\"number\">2</span>)</span><br></pre></td></tr></table></figure>\n<h6 id=\"bind\"><a href=\"#bind\" class=\"headerlink\" title=\"bind\"></a>bind</h6><p><code>bind</code>有两个特点：</p>\n<ul>\n<li>本身返回一个全新的函数，所以需要考虑new的清空</li>\n<li>可以保留参数，内部实现了参数的拼接</li>\n</ul>\n<figure class=\"highlight qml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Function</span>.prototype.bind2 = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">context</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(<span class=\"keyword\">typeof</span> <span class=\"keyword\">this</span> !== <span class=\"string\">'function'</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">TypeError</span>(<span class=\"string\">'Error'</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> that = <span class=\"keyword\">this</span></span><br><span class=\"line\">  <span class=\"comment\">// 保留之前的参数，为了下面的参数拼接</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> args = [...arguments].slice(<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">F</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 如果被new创建实例，不会被改变上下文！</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"keyword\">this</span> <span class=\"keyword\">instanceof</span> F) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> that(...args, ...arguments)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">    <span class=\"comment\">// args.concat(...arguments): 拼接之前和现在的参数</span></span><br><span class=\"line\">    <span class=\"comment\">// 注意：arguments是个类Array的Object, 用解构运算符..., 直接拿值拼接</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> that.apply(context, args.concat(...arguments))</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 以下是测试代码</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\">arg1, arg2</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(arg1, arg2)</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.a, <span class=\"keyword\">this</span>.b)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> test2 = test.bind2(&#123;</span><br><span class=\"line\">  <span class=\"attribute\">a</span>: <span class=\"string\">'a'</span>,</span><br><span class=\"line\">  <span class=\"attribute\">b</span>: <span class=\"string\">'b'</span></span><br><span class=\"line\">&#125;, <span class=\"number\">1</span>) <span class=\"comment\">// 参数 1</span></span><br><span class=\"line\"></span><br><span class=\"line\">test2(<span class=\"number\">2</span>) <span class=\"comment\">// 参数 2</span></span><br></pre></td></tr></table></figure>\n<h6 id=\"apply\"><a href=\"#apply\" class=\"headerlink\" title=\"apply\"></a>apply</h6><p>apply和call实现类似，只是传入的参数形式是数组形式，而不是逗号分隔的参数序列。</p>\n<p>因此，借助es6提供的…运算符，就可以很方便的实现数组和参数序列的转化。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">Function</span>.prototype.apply2 = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">context</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(<span class=\"keyword\">typeof</span> <span class=\"keyword\">this</span> !== <span class=\"string\">'function'</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"built_in\">TypeError</span>(<span class=\"string\">'Error'</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  context = context || <span class=\"built_in\">window</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; fn &#125; = context</span><br><span class=\"line\"></span><br><span class=\"line\">  context.fn = <span class=\"keyword\">this</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> result</span><br><span class=\"line\">  <span class=\"keyword\">if</span>(<span class=\"built_in\">Array</span>.isArray(<span class=\"built_in\">arguments</span>[<span class=\"number\">1</span>])) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 通过...运算符将数组转换为用逗号分隔的参数序列</span></span><br><span class=\"line\">    result = context.fn(...arguments[<span class=\"number\">1</span>])</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    result = context.fn()</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  context.fn = fn</span><br><span class=\"line\">  <span class=\"keyword\">return</span> result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 以下是测试代码</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\">arg1, arg2</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(arg1, arg2)</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.a, <span class=\"keyword\">this</span>.b)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">test.apply2(&#123;</span><br><span class=\"line\">  a: <span class=\"string\">'a'</span>,</span><br><span class=\"line\">  b: <span class=\"string\">'b'</span></span><br><span class=\"line\">&#125;, [<span class=\"number\">1</span>, <span class=\"number\">2</span>])</span><br></pre></td></tr></table></figure>\n","tags":["前端","面试"]},{"title":"操作按钮展示逻辑","url":"/2019/06/12/%E6%93%8D%E4%BD%9C%E6%8C%89%E9%92%AE%E5%B1%95%E7%A4%BA%E9%80%BB%E8%BE%91/","content":"<h4 id=\"合同申请\"><a href=\"#合同申请\" class=\"headerlink\" title=\"合同申请\"></a>合同申请</h4><ul>\n<li>接口：/contract-expend/detail</li>\n<li>status为0 default，默认为新增状态</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>按钮</th>\n<th>状态(data.detail.detail.status)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>合同归档</td>\n<td>data.detail.detail.hasFileManageTag</td>\n</tr>\n<tr>\n<td>保存</td>\n<td>0、1</td>\n</tr>\n<tr>\n<td>提交</td>\n<td>0、1</td>\n</tr>\n<tr>\n<td>发起K2审批</td>\n<td>14</td>\n</tr>\n<tr>\n<td>撤回草稿</td>\n<td>14</td>\n</tr>\n<tr>\n<td>生成付款单</td>\n<td>10</td>\n</tr>\n<tr>\n<td>结算合同</td>\n<td>10</td>\n</tr>\n<tr>\n<td>查看审批流程</td>\n<td>非0状态下都展示</td>\n</tr>\n<tr>\n<td>删除</td>\n<td>data.detail.operation.delete</td>\n</tr>\n<tr>\n<td>作废</td>\n<td>data.detail.operation.abolish</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"合同付款单申请\"><a href=\"#合同付款单申请\" class=\"headerlink\" title=\"合同付款单申请\"></a>合同付款单申请</h4><ul>\n<li>接口：无</li>\n<li>status为0 默认为新增状态</li>\n<li>url带newId 为重新发起的单据</li>\n</ul>\n<p>区分付款方式</p>\n<table>\n<thead>\n<tr>\n<th>按钮</th>\n<th>状态(data.detail.detail.status)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>保存</td>\n<td>0、url带newId、8、10、17、24</td>\n</tr>\n<tr>\n<td>提交</td>\n<td>0、url带newId、5、8、17、24 或者invoiceType为2，且status为10</td>\n</tr>\n<tr>\n<td>发起K2审批</td>\n<td>26、27</td>\n</tr>\n<tr>\n<td>撤回草稿</td>\n<td>26</td>\n</tr>\n<tr>\n<td>冲账</td>\n<td>12、或者invoiceType为1且status为10或者19</td>\n</tr>\n<tr>\n<td>打印封面</td>\n<td>2、3、4、9、15、16、 11, 18, 20, 21, 22, 23, 25、url带newId</td>\n</tr>\n<tr>\n<td>复制&amp;重新发起</td>\n<td>25</td>\n</tr>\n<tr>\n<td>查看审批流程</td>\n<td>非0、非5、非url带newId</td>\n</tr>\n<tr>\n<td>删除</td>\n<td>5、8、10、17、24，以上状态url不能带newId、非invoiceType为1且status为10</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"事项申请\"><a href=\"#事项申请\" class=\"headerlink\" title=\"事项申请\"></a>事项申请</h4><ul>\n<li>接口：/expend-matter/get-edit-data</li>\n<li>status为0 默认为新增状态</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>按钮</th>\n<th>状态（data.data.expenditure.status_cn）</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>提交</td>\n<td>0、草稿</td>\n</tr>\n<tr>\n<td>保存</td>\n<td>0、草稿</td>\n</tr>\n<tr>\n<td>删除</td>\n<td>0、草稿</td>\n</tr>\n<tr>\n<td>查看审批流程</td>\n<td>!= ‘草稿’ 或者 data.data.showFlag==true</td>\n</tr>\n<tr>\n<td>撤回</td>\n<td>等待审批</td>\n</tr>\n<tr>\n<td>生成付款单</td>\n<td>审批通过且data.data.expenditure.left_apply_amount大于0</td>\n</tr>\n<tr>\n<td>事项已完成</td>\n<td>审批通过</td>\n</tr>\n<tr>\n<td>作废</td>\n<td>审批通过且data.data.expenditure.invoices 小于等于0</td>\n</tr>\n<tr>\n<td>发起k2审批</td>\n<td>未发起K2审批</td>\n</tr>\n<tr>\n<td>撤回到草稿</td>\n<td>未发起K2审批</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"事项付款单\"><a href=\"#事项付款单\" class=\"headerlink\" title=\"事项付款单\"></a>事项付款单</h4><ul>\n<li>接口：/expend-matter/get-invoice-info</li>\n<li>status为0 默认为新增状态</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>按钮</th>\n<th>状态（data.data.invoiceStatus）</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>提交</td>\n<td>0、url带resend、5、8、10、17、24、!(type为1和status为10)</td>\n</tr>\n<tr>\n<td>保存</td>\n<td>0、url带resend、5</td>\n</tr>\n<tr>\n<td>删除</td>\n<td>5、8、10、17、24、!(type为1和status为10)</td>\n</tr>\n<tr>\n<td>查看审批流程</td>\n<td>!= 5 或 data.data.hasK2.length</td>\n</tr>\n<tr>\n<td>打印封面</td>\n<td>0、1、2、3、4、6、7、9、11、12、13、14、15、16、18、20、21、22、23</td>\n</tr>\n<tr>\n<td>冲账</td>\n<td>type == 1 且 status 10、12、19</td>\n</tr>\n<tr>\n<td>复制&amp;重新发起</td>\n<td>25</td>\n</tr>\n<tr>\n<td>发起k2审批</td>\n<td>26、27</td>\n</tr>\n<tr>\n<td>撤回草稿</td>\n<td>26</td>\n</tr>\n</tbody>\n</table>\n","tags":["工作笔记"]},{"title":"请求封装","url":"/2018/03/29/%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%B0%81%E8%A3%85/","content":"<p>目前后台是微服务架构，所以不同的业务模块会请求到不同的地址，而不同的环境（测试/beta/生产）会携带不同的请求头进行区分，同时每个请求都有固定的参数携带，所以需要对请求进行统一的封装和管理。在这里记录一下封装请求的代码。</p>\n<p>目前请求统一封装至 services 文件夹，按照后台模块名进行区分。每个请求都会封装成一个Promise，使用async/await进行异步请求管理。注意同时发起的多个请求使用Promise.all封装为一个新的Promise进行管理，防止串行请求影响性能。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> resp = <span class=\"keyword\">await</span> OpService.getProjects()</span><br><span class=\"line\"><span class=\"built_in\">console</span>.log(resp)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> requests = [UcService.getCurrentDeptLoginInfo(), UcService.getDepts()]</span><br><span class=\"line\"><span class=\"keyword\">let</span> [currentDeptResp, deptsResp] = <span class=\"keyword\">await</span> <span class=\"built_in\">Promise</span>.all(requests)</span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h1><ul>\n<li>utils/request.js</li>\n<li>封装请求</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//module区分模块，模块名称封装在 【src/config/module.js】里</span></span><br><span class=\"line\"><span class=\"comment\">//path 是请求的文件路径</span></span><br><span class=\"line\"><span class=\"comment\">//data 是传入数据</span></span><br><span class=\"line\"><span class=\"comment\">//noAccessToken 大部分时间都是false ，极端情况 比如登陆、投诉之类的不需要</span></span><br><span class=\"line\">  <span class=\"keyword\">get</span>(module, path, data, noAccessToken = false) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> p = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">resolve, reject</span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> config = <span class=\"keyword\">await</span> BaseService.getConfig()</span><br><span class=\"line\">        <span class=\"keyword\">let</span> client = <span class=\"keyword\">await</span> BaseService.getClient(<span class=\"built_in\">module</span>)</span><br><span class=\"line\">        <span class=\"keyword\">let</span> services = config.services[<span class=\"built_in\">module</span>]</span><br><span class=\"line\">        <span class=\"keyword\">let</span> resp = <span class=\"keyword\">await</span> client.get(makeUrl(services.host, path, data, noAccessToken), &#123;</span><br><span class=\"line\">          headers: &#123;</span><br><span class=\"line\">            accept: <span class=\"string\">'application/json'</span>,</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        resolve(resp)</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">await</span> handleError(e)</span><br><span class=\"line\">        reject(e)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> p</span><br><span class=\"line\">  &#125;,</span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h1><ul>\n<li>eg: src\\services.js</li>\n<li>封装请求</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 登录后获取当前基础信息接口</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//R是在build/webpack.base.conf.js里声明过的封装方法</span></span><br><span class=\"line\"> <span class=\"comment\">//里面包含了基础的请求信息</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCurrentDeptLoginInfo</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> p = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">res, rej</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> resp = <span class=\"keyword\">await</span> R.get(Config.module.UC, <span class=\"string\">'/user/get_current_dept_login_info'</span>)</span><br><span class=\"line\">      res(resp)</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">      rej(e)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  <span class=\"keyword\">return</span> p</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<h1 id=\"3-应用请求\"><a href=\"#3-应用请求\" class=\"headerlink\" title=\"3 应用请求\"></a>3 应用请求</h1><ul>\n<li>src\\app.js</li>\n<li>调用封装的方法</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> handleDeptCommand(id) &#123;</span><br><span class=\"line\">   Loading.show()</span><br><span class=\"line\">   <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">     <span class=\"keyword\">let</span> resp = <span class=\"keyword\">await</span> UserService.switchDept(id)</span><br><span class=\"line\">     <span class=\"keyword\">if</span> (resp.errcode == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">       <span class=\"keyword\">let</span> resp2 = <span class=\"keyword\">await</span> UserService.getCurrentDeptLoginInfo()</span><br><span class=\"line\">       BaseService.setBasicData(resp2.info)</span><br><span class=\"line\">       <span class=\"keyword\">this</span>._renderBasicData(resp2.info)</span><br><span class=\"line\">       <span class=\"keyword\">this</span>.$router.push(<span class=\"string\">'/'</span>)</span><br><span class=\"line\">     &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">       <span class=\"built_in\">console</span>.error(<span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'errcode: '</span> + resp.errcode))</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">   &#125; <span class=\"keyword\">catch</span> (e) &#123;</span><br><span class=\"line\">     <span class=\"built_in\">console</span>.error(e)</span><br><span class=\"line\">   &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">     Loading.hide()</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n","tags":["前端","VUE"]},{"title":"计算请假小时的时长","url":"/2022/07/01/%E8%AE%A1%E7%AE%97%E8%AF%B7%E5%81%87%E5%B0%8F%E6%97%B6%E7%9A%84%E6%97%B6%E9%95%BF/","content":"<p>最近有一个需求，选择两个日期后，计算请假总的小时数</p>\n<p>要求：</p>\n<ol>\n<li>日期之间如果有法定节假日，需要剔除计算</li>\n<li>已设置的非考勤时间段，需要剔除计算</li>\n<li>只统计请假日期范围内需要出勤的时间总和</li>\n</ol>\n<p>举例：</p>\n<p>请假10月1日至10月10日，其中10月1日至10月7日为法定节假日，10月8日、10月9日、10月10日为考勤日期，考勤时间段为9:00-12:00， 13:00-18:00，由此可得请假小时为24个小时</p>\n<p>思考：</p>\n<p>因为考勤时间可能存在多个时间段和多个筛选日期条件</p>\n<p>先统计出需要出勤的日期，计算出全部工作小时，再遍历法定节假日数组，剔除法定节假日的工作小时</p>\n<p>demo如下：</p>\n<h4 id=\"参考api\"><a href=\"#参考api\" class=\"headerlink\" title=\"参考api\"></a>参考api</h4><p><a href=\"http://www.apihubs.cn/#/holiday\" target=\"_blank\" rel=\"noopener\">节假日api，依据条件进行筛选</a></p>\n<h5 id=\"数据结构\"><a href=\"#数据结构\" class=\"headerlink\" title=\"数据结构\"></a>数据结构</h5><figure class=\"highlight subunit\"><table><tr><td class=\"code\"><pre><span class=\"line\">return &#123;</span><br><span class=\"line\">     // 法定节假日</span><br><span class=\"line\">     festival: [\"2018<span class=\"string\">-12</span><span class=\"string\">-30</span>\", \"2018<span class=\"string\">-12</span><span class=\"string\">-31</span>\", \"2019<span class=\"string\">-01</span><span class=\"string\">-01</span>\", \"2019<span class=\"string\">-02</span><span class=\"string\">-03</span>\", \"2019<span class=\"string\">-02</span><span class=\"string\">-04</span>\", \"2019<span class=\"string\">-02</span><span class=\"string\">-05</span>\", \"2019<span class=\"string\">-02</span><span class=\"string\">-06</span>\", \"2019<span class=\"string\">-02</span><span class=\"string\">-07</span>\", \"2019<span class=\"string\">-02</span><span class=\"string\">-08</span>\", \"2019<span class=\"string\">-02</span><span class=\"string\">-09</span>\",</span><br><span class=\"line\">       \"2019<span class=\"string\">-02</span><span class=\"string\">-10</span>\", \"2019<span class=\"string\">-02</span><span class=\"string\">-11</span>\", \"2019<span class=\"string\">-04</span><span class=\"string\">-05</span>\", \"2019<span class=\"string\">-04</span><span class=\"string\">-06</span>\", \"2019<span class=\"string\">-04</span><span class=\"string\">-07</span>\", \"2019<span class=\"string\">-05</span><span class=\"string\">-01</span>\", \"2019<span class=\"string\">-05</span><span class=\"string\">-02</span>\", \"2019<span class=\"string\">-05</span><span class=\"string\">-03</span>\", \"2019<span class=\"string\">-05</span><span class=\"string\">-04</span>\", \"2019<span class=\"string\">-06</span><span class=\"string\">-07</span>\", \"2019<span class=\"string\">-06</span><span class=\"string\">-08</span>\",</span><br><span class=\"line\">       \"2019<span class=\"string\">-06</span><span class=\"string\">-09</span>\", \"2019<span class=\"string\">-09</span><span class=\"string\">-13</span>\", \"2019<span class=\"string\">-09</span><span class=\"string\">-14</span>\", \"2019<span class=\"string\">-09</span><span class=\"string\">-15</span>\", \"2019<span class=\"string\">-10</span><span class=\"string\">-01</span>\", \"2019<span class=\"string\">-10</span><span class=\"string\">-02</span>\", \"2019<span class=\"string\">-10</span><span class=\"string\">-03</span>\", \"2019<span class=\"string\">-10</span><span class=\"string\">-04</span>\", \"2019<span class=\"string\">-10</span><span class=\"string\">-05</span>\", \"2019<span class=\"string\">-10</span><span class=\"string\">-06</span>\", \"2019<span class=\"string\">-10</span><span class=\"string\">-07</span>\",</span><br><span class=\"line\">       \"2020<span class=\"string\">-01</span><span class=\"string\">-01</span>\", \"2020<span class=\"string\">-01</span><span class=\"string\">-24</span>\", \"2020<span class=\"string\">-01</span><span class=\"string\">-25</span>\", \"2020<span class=\"string\">-01</span><span class=\"string\">-26</span>\", \"2020<span class=\"string\">-01</span><span class=\"string\">-27</span>\", \"2020<span class=\"string\">-01</span><span class=\"string\">-28</span>\", \"2020<span class=\"string\">-01</span><span class=\"string\">-29</span>\", \"2020<span class=\"string\">-01</span><span class=\"string\">-30</span>\", \"2020<span class=\"string\">-01</span><span class=\"string\">-31</span>\", \"2020<span class=\"string\">-02</span><span class=\"string\">-01</span>\", \"2020<span class=\"string\">-02</span><span class=\"string\">-02</span>\",</span><br><span class=\"line\">       \"2020<span class=\"string\">-04</span><span class=\"string\">-04</span>\", \"2020<span class=\"string\">-04</span><span class=\"string\">-05</span>\", \"2020<span class=\"string\">-04</span><span class=\"string\">-06</span>\", \"2020<span class=\"string\">-05</span><span class=\"string\">-01</span>\", \"2020<span class=\"string\">-05</span><span class=\"string\">-02</span>\", \"2020<span class=\"string\">-05</span><span class=\"string\">-03</span>\", \"2020<span class=\"string\">-05</span><span class=\"string\">-04</span>\", \"2020<span class=\"string\">-05</span><span class=\"string\">-05</span>\", \"2020<span class=\"string\">-06</span><span class=\"string\">-25</span>\", \"2020<span class=\"string\">-06</span><span class=\"string\">-26</span>\", \"2020<span class=\"string\">-06</span><span class=\"string\">-27</span>\",</span><br><span class=\"line\">       \"2020<span class=\"string\">-10</span><span class=\"string\">-01</span>\", \"2020<span class=\"string\">-10</span><span class=\"string\">-02</span>\", \"2020<span class=\"string\">-10</span><span class=\"string\">-03</span>\", \"2020<span class=\"string\">-10</span><span class=\"string\">-04</span>\", \"2020<span class=\"string\">-10</span><span class=\"string\">-05</span>\", \"2020<span class=\"string\">-10</span><span class=\"string\">-06</span>\", \"2020<span class=\"string\">-10</span><span class=\"string\">-07</span>\", \"2020<span class=\"string\">-10</span><span class=\"string\">-08</span>\",</span><br><span class=\"line\">       \"2021<span class=\"string\">-01</span><span class=\"string\">-01</span>\", \"2021<span class=\"string\">-02</span><span class=\"string\">-11</span>\", \"2021<span class=\"string\">-02</span><span class=\"string\">-12</span>\", \"2021<span class=\"string\">-02</span><span class=\"string\">-13</span>\", \"2021<span class=\"string\">-02</span><span class=\"string\">-14</span>\", \"2021<span class=\"string\">-02</span><span class=\"string\">-15</span>\", \"2021<span class=\"string\">-02</span><span class=\"string\">-16</span>\", \"2021<span class=\"string\">-02</span><span class=\"string\">-17</span>\", \"2021<span class=\"string\">-02</span><span class=\"string\">-26</span>\", \"2021<span class=\"string\">-04</span><span class=\"string\">-02</span>\", \"2021<span class=\"string\">-04</span><span class=\"string\">-03</span>\",</span><br><span class=\"line\">       \"2021<span class=\"string\">-04</span><span class=\"string\">-04</span>\", \"2021<span class=\"string\">-04</span><span class=\"string\">-30</span>\", \"2021<span class=\"string\">-05</span><span class=\"string\">-01</span>\", \"2021<span class=\"string\">-05</span><span class=\"string\">-02</span>\", \"2021<span class=\"string\">-06</span><span class=\"string\">-12</span>\", \"2021<span class=\"string\">-06</span><span class=\"string\">-13</span>\", \"2021<span class=\"string\">-06</span><span class=\"string\">-14</span>\", \"2021<span class=\"string\">-06</span><span class=\"string\">-12</span>\", \"2021<span class=\"string\">-09</span><span class=\"string\">-19</span>\", \"2021<span class=\"string\">-09</span><span class=\"string\">-20</span>\", \"2021<span class=\"string\">-09</span><span class=\"string\">-21</span>\",</span><br><span class=\"line\">       \"2021<span class=\"string\">-10</span><span class=\"string\">-01</span>\", \"2021<span class=\"string\">-10</span><span class=\"string\">-02</span>\", \"2021<span class=\"string\">-10</span><span class=\"string\">-03</span>\", \"2021<span class=\"string\">-10</span><span class=\"string\">-04</span>\", \"2021<span class=\"string\">-10</span><span class=\"string\">-05</span>\", \"2021<span class=\"string\">-10</span><span class=\"string\">-06</span>\", \"2021<span class=\"string\">-10</span><span class=\"string\">-07</span>\",</span><br><span class=\"line\">       \"2022<span class=\"string\">-01</span><span class=\"string\">-01</span>\", \"2022<span class=\"string\">-01</span><span class=\"string\">-31</span>\", \"2022<span class=\"string\">-02</span><span class=\"string\">-01</span>\", \"2022<span class=\"string\">-02</span><span class=\"string\">-02</span>\", \"2022<span class=\"string\">-02</span><span class=\"string\">-03</span>\", \"2022<span class=\"string\">-02</span><span class=\"string\">-04</span>\", \"2022<span class=\"string\">-02</span><span class=\"string\">-05</span>\", \"2022<span class=\"string\">-02</span><span class=\"string\">-06</span>\", \"2022<span class=\"string\">-04</span><span class=\"string\">-03</span>\", \"2022<span class=\"string\">-04</span><span class=\"string\">-04</span>\", \"2022<span class=\"string\">-04</span><span class=\"string\">-05</span>\",</span><br><span class=\"line\">       \"2022<span class=\"string\">-04</span><span class=\"string\">-30</span>\", \"2022<span class=\"string\">-05</span><span class=\"string\">-01</span>\", \"2022<span class=\"string\">-05</span><span class=\"string\">-02</span>\", \"2022<span class=\"string\">-06</span><span class=\"string\">-03</span>\", \"2022<span class=\"string\">-06</span><span class=\"string\">-04</span>\", \"2022<span class=\"string\">-06</span><span class=\"string\">-05</span>\", \"2022<span class=\"string\">-09</span><span class=\"string\">-09</span>\", \"2022<span class=\"string\">-09</span><span class=\"string\">-10</span>\", \"2022<span class=\"string\">-09</span><span class=\"string\">-11</span>\", \"2022<span class=\"string\">-10</span><span class=\"string\">-01</span>\", \"2022<span class=\"string\">-10</span><span class=\"string\">-02</span>\",</span><br><span class=\"line\">       \"2022<span class=\"string\">-10</span><span class=\"string\">-03</span>\", \"2022<span class=\"string\">-10</span><span class=\"string\">-04</span>\", \"2022<span class=\"string\">-10</span><span class=\"string\">-05</span>\", \"2022<span class=\"string\">-10</span><span class=\"string\">-06</span>\", \"2022<span class=\"string\">-10</span><span class=\"string\">-07</span>\"</span><br><span class=\"line\">     ],</span><br><span class=\"line\">     //需要上班的周末</span><br><span class=\"line\">     weekendWorkDay: [\"2018<span class=\"string\">-12</span><span class=\"string\">-29</span>\", \"2019<span class=\"string\">-02</span><span class=\"string\">-02</span>\", \"2019<span class=\"string\">-09</span><span class=\"string\">-29</span>\", \"2019<span class=\"string\">-10</span><span class=\"string\">-12</span>\", \"2019<span class=\"string\">-04</span><span class=\"string\">-28</span>\", \"2019<span class=\"string\">-05</span><span class=\"string\">-05</span>\",</span><br><span class=\"line\">       \"2020<span class=\"string\">-01</span><span class=\"string\">-19</span>\", \"2020<span class=\"string\">-04</span><span class=\"string\">-26</span>\", \"2020<span class=\"string\">-05</span><span class=\"string\">-09</span>\", \"2020<span class=\"string\">-06</span><span class=\"string\">-28</span>\", \"2020<span class=\"string\">-09</span><span class=\"string\">-27</span>\", \"2020<span class=\"string\">-10</span><span class=\"string\">-10</span>\",</span><br><span class=\"line\">       \"2021<span class=\"string\">-02</span><span class=\"string\">-07</span>\", \"2021<span class=\"string\">-02</span><span class=\"string\">-20</span>\", \"2021<span class=\"string\">-09</span><span class=\"string\">-18</span>\", \"2021<span class=\"string\">-10</span><span class=\"string\">-09</span>\", \"2021<span class=\"string\">-10</span><span class=\"string\">-10</span>\"</span><br><span class=\"line\">     ],</span><br><span class=\"line\">     festival_list: [],</span><br><span class=\"line\">     weekendWorkDay_list: []</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"响应方法\"><a href=\"#响应方法\" class=\"headerlink\" title=\"响应方法\"></a>响应方法</h5><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 将节假日,周末工作日转换为时间戳</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.festival.forEach(<span class=\"function\">(<span class=\"params\">i, item</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.festival_list.push(<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(item).valueOf())</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.weekendWorkDay.forEach(<span class=\"function\">(<span class=\"params\">i, item</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.weekendWorkDay_list.push(<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(item).valueOf())</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.formatCountDay(<span class=\"string\">\"2022-07-22\"</span>, <span class=\"string\">\"2022-07-25\"</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"读入数据\"><a href=\"#读入数据\" class=\"headerlink\" title=\"读入数据\"></a>读入数据</h5><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 过滤俩天之间的周末节假日，返回距离的天数</span></span><br><span class=\"line\">    formatCountDay (start, end) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> sign = <span class=\"literal\">true</span></span><br><span class=\"line\">      <span class=\"keyword\">var</span> startday = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(start)</span><br><span class=\"line\">      <span class=\"keyword\">var</span> endday = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(end)</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// 总相差天数</span></span><br><span class=\"line\">      <span class=\"keyword\">var</span> diffDay = (endday - startday) / (<span class=\"number\">1000</span> * <span class=\"number\">60</span> * <span class=\"number\">60</span> * <span class=\"number\">24</span>) + <span class=\"number\">1</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">parseInt</span>(diffDay) === <span class=\"number\">0</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">parseInt</span>(diffDay)</span><br><span class=\"line\">      <span class=\"comment\">// 周末周六天数+节假日</span></span><br><span class=\"line\">      <span class=\"keyword\">var</span> weekEnds = <span class=\"number\">0</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; diffDay; i++) &#123;</span><br><span class=\"line\">        sign = <span class=\"literal\">true</span></span><br><span class=\"line\">        <span class=\"comment\">// 判断是否是节假日</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.festival_list.includes(startday.valueOf())) &#123;</span><br><span class=\"line\">          <span class=\"built_in\">console</span>.log(<span class=\"string\">\"节假日\"</span>)</span><br><span class=\"line\">          weekEnds = weekEnds + <span class=\"number\">1</span></span><br><span class=\"line\">          sign = <span class=\"literal\">false</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 判断周六周日，如果是节假日则不作判断</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (sign === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (startday.getDay() === <span class=\"number\">0</span> || startday.getDay() === <span class=\"number\">6</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 判断该周末是否需要因为节假日补班</span></span><br><span class=\"line\">            <span class=\"keyword\">var</span> weekEnds_sign = <span class=\"number\">0</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> j <span class=\"keyword\">in</span> <span class=\"keyword\">this</span>.weekendWorkDay_list) &#123;</span><br><span class=\"line\">              <span class=\"keyword\">if</span> (startday.valueOf() === <span class=\"keyword\">this</span>.weekendWorkDay_list[j]) &#123;</span><br><span class=\"line\">                weekEnds_sign = weekEnds_sign + <span class=\"number\">1</span></span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (weekEnds_sign === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">              weekEnds = weekEnds + <span class=\"number\">1</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        startday.setDate(startday.getDate() + <span class=\"number\">1</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(diffDay - weekEnds)</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">parseInt</span>(diffDay - weekEnds)</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 计算请假时长</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;Object&#125;</span> </span>beginTime    开始时间</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;Object&#125;</span> </span>endTime      结束时间</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;Object&#125;</span> </span>stWorkTime   上班时间</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;Object&#125;</span> </span>enWrokTime   下班时间</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;Object&#125;</span> </span>isFreeTime  是否要去除午休工作时长</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;Object&#125;</span> </span>freeTimeMon  午休开始时间</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;Object&#125;</span> </span>freeTimeAft  午休结束时间</span></span><br><span class=\"line\"><span class=\"comment\"> * </span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\">     getTotal(beginTime ,endTime,stWorkTime,enWrokTime,isFreeTime,freeTimeMon,freeTimeAft)&#123;</span><br><span class=\"line\">         <span class=\"keyword\">var</span> days;</span><br><span class=\"line\">         <span class=\"keyword\">var</span> hours;</span><br><span class=\"line\">         <span class=\"keyword\">var</span> date;</span><br><span class=\"line\">         <span class=\"keyword\">var</span> freeTime=freeTimeAft-freeTimeMon;</span><br><span class=\"line\">         </span><br><span class=\"line\">         beginTime = beginTime.replace(<span class=\"regexp\">/-/g</span>,<span class=\"string\">'/'</span>);</span><br><span class=\"line\">         <span class=\"keyword\">var</span> beginArr =  beginTime.split(<span class=\"string\">\" \"</span>);     </span><br><span class=\"line\">         <span class=\"keyword\">var</span> beginMonth = <span class=\"built_in\">parseInt</span>( beginArr[<span class=\"number\">0</span>].split(<span class=\"string\">\"/\"</span>)[<span class=\"number\">1</span>]);</span><br><span class=\"line\">         <span class=\"keyword\">var</span> beginDay = <span class=\"built_in\">parseInt</span>(beginArr[<span class=\"number\">0</span>].split(<span class=\"string\">\"/\"</span>)[<span class=\"number\">2</span>]); </span><br><span class=\"line\">         <span class=\"keyword\">var</span> beginHours = <span class=\"built_in\">parseInt</span>(beginArr[<span class=\"number\">1</span>].split(<span class=\"string\">\":\"</span>)[<span class=\"number\">0</span>]);                                       </span><br><span class=\"line\">         <span class=\"keyword\">var</span> beginMin = <span class=\"built_in\">parseInt</span>(beginArr[<span class=\"number\">1</span>].split(<span class=\"string\">\":\"</span>)[<span class=\"number\">1</span>]);   </span><br><span class=\"line\">         <span class=\"keyword\">var</span> beginHoursMin = beginHours+beginMin/<span class=\"number\">60</span>;</span><br><span class=\"line\">       </span><br><span class=\"line\">         endTime = endTime.replace(<span class=\"regexp\">/-/g</span>,<span class=\"string\">'/'</span>);</span><br><span class=\"line\">         <span class=\"keyword\">var</span> endArr = endTime.split(<span class=\"string\">\" \"</span>);</span><br><span class=\"line\">         <span class=\"keyword\">var</span> endMonth = <span class=\"built_in\">parseInt</span>(endArr[<span class=\"number\">0</span>].split(<span class=\"string\">\"/\"</span>)[<span class=\"number\">1</span>]);</span><br><span class=\"line\">         <span class=\"keyword\">var</span> endDay = <span class=\"built_in\">parseInt</span>(endArr[<span class=\"number\">0</span>].split(<span class=\"string\">\"/\"</span>)[<span class=\"number\">2</span>]);  </span><br><span class=\"line\">         <span class=\"keyword\">var</span> endHours = <span class=\"built_in\">parseInt</span>(endArr[<span class=\"number\">1</span>].split(<span class=\"string\">\":\"</span>)[<span class=\"number\">0</span>]);</span><br><span class=\"line\">         <span class=\"keyword\">var</span> endMin = <span class=\"built_in\">parseInt</span>(endArr[<span class=\"number\">1</span>].split(<span class=\"string\">\":\"</span>)[<span class=\"number\">1</span>]);</span><br><span class=\"line\">         <span class=\"keyword\">var</span> endHoursMin = endHours+endMin/<span class=\"number\">60</span>;</span><br><span class=\"line\">     </span><br><span class=\"line\">         </span><br><span class=\"line\">         <span class=\"comment\">//如果beginHoursMin时间小于上班时间都算上班时间</span></span><br><span class=\"line\">         <span class=\"keyword\">if</span> (beginHoursMin&lt;=stWorkTime)&#123;     </span><br><span class=\"line\">             beginHoursMin = stWorkTime;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">         <span class=\"comment\">//如果endHoursMin时间大于上班时间都算下班时间</span></span><br><span class=\"line\">         <span class=\"keyword\">if</span> (endHoursMin&gt;=enWrokTime)&#123;</span><br><span class=\"line\">             endHoursMin = enWrokTime;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">         <span class=\"comment\">//如果结束时间在freeTimeMon和freeTimeAft之间都算freeTimeMon</span></span><br><span class=\"line\">         <span class=\"keyword\">if</span> (isFreeTime==<span class=\"literal\">true</span>)&#123;</span><br><span class=\"line\">             <span class=\"keyword\">if</span> (endHoursMin&gt;=freeTimeMon &amp;&amp; endHoursMin&lt;=freeTimeAft)&#123;</span><br><span class=\"line\">                 endHoursMin = freeTimeMon;</span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">             </span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">             </span><br><span class=\"line\">         </span><br><span class=\"line\">         <span class=\"comment\">//获取结束时间-开始时间的天数</span></span><br><span class=\"line\">         <span class=\"keyword\">var</span> daysBetween = <span class=\"keyword\">this</span>.daysBetween(beginTime,endTime);</span><br><span class=\"line\">         <span class=\"keyword\">if</span> (daysBetween.length&gt;<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">             <span class=\"keyword\">var</span> daysBetweenLen = daysBetween.length;</span><br><span class=\"line\">             <span class=\"comment\">//午休</span></span><br><span class=\"line\">             <span class=\"keyword\">if</span> (isFreeTime==<span class=\"literal\">true</span>)&#123;</span><br><span class=\"line\">                 <span class=\"keyword\">var</span> hour = enWrokTime-stWorkTime-freeTime;</span><br><span class=\"line\">                 <span class=\"keyword\">if</span> (daysBetweenLen==<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                     <span class=\"comment\">//同一天</span></span><br><span class=\"line\">                     hours=(endHoursMin)-(beginHoursMin)-freeTime;</span><br><span class=\"line\">                 &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (daysBetweenLen==<span class=\"number\">2</span>)&#123;</span><br><span class=\"line\">                     <span class=\"comment\">//跨一天   </span></span><br><span class=\"line\">                     <span class=\"comment\">//第一天的时长</span></span><br><span class=\"line\">                     hours = enWrokTime - beginHoursMin;</span><br><span class=\"line\">                     <span class=\"comment\">//是否有午休         </span></span><br><span class=\"line\">                     <span class=\"keyword\">if</span> (beginHoursMin&lt;=freeTimeMon) </span><br><span class=\"line\">                         hours=hours-freeTime;</span><br><span class=\"line\">                     <span class=\"comment\">//第二天的时长    </span></span><br><span class=\"line\">                     hours += endHoursMin -stWorkTime ;</span><br><span class=\"line\">                     <span class=\"comment\">//是否有午休 </span></span><br><span class=\"line\">                     <span class=\"keyword\">if</span> (endHoursMin&gt;=freeTimeAft)</span><br><span class=\"line\">                         hours=hours-freeTime;</span><br><span class=\"line\">                             </span><br><span class=\"line\">                 &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                     <span class=\"comment\">//跨两天以上 </span></span><br><span class=\"line\">                     <span class=\"comment\">//第一天的时长</span></span><br><span class=\"line\">                     hours = enWrokTime - beginHoursMin;</span><br><span class=\"line\">                     <span class=\"comment\">//是否有午休             </span></span><br><span class=\"line\">                     <span class=\"keyword\">if</span> (beginHoursMin&lt;=freeTimeMon) </span><br><span class=\"line\">                         hours=hours-freeTime;</span><br><span class=\"line\">                     <span class=\"comment\">//中间时长</span></span><br><span class=\"line\">                     hours+=(daysBetweenLen<span class=\"number\">-2</span>)*(hour);</span><br><span class=\"line\">                     <span class=\"comment\">//最后一天时长</span></span><br><span class=\"line\">                     hours += endHoursMin -stWorkTime ;</span><br><span class=\"line\">                     <span class=\"comment\">//是否有午休 </span></span><br><span class=\"line\">                     <span class=\"keyword\">if</span> (endHoursMin&gt;=freeTimeAft)</span><br><span class=\"line\">                         hours=hours-freeTime;</span><br><span class=\"line\">                 &#125;</span><br><span class=\"line\">                 days = <span class=\"built_in\">Math</span>.floor(hours/hour);</span><br><span class=\"line\">                 hours = hours%hour;</span><br><span class=\"line\">                 date =&#123;<span class=\"string\">\"days\"</span>:days,<span class=\"string\">\"hours\"</span>:hours&#125;;          </span><br><span class=\"line\">                 </span><br><span class=\"line\">             &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">             <span class=\"comment\">//非午休   </span></span><br><span class=\"line\">                 hour = enWrokTime-stWorkTime;</span><br><span class=\"line\">                 <span class=\"keyword\">if</span> (daysBetweenLen==<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                     <span class=\"comment\">//同一天</span></span><br><span class=\"line\">                     hours=(endHoursMin)-(beginHoursMin);</span><br><span class=\"line\">                 &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (daysBetweenLen==<span class=\"number\">2</span>)&#123;</span><br><span class=\"line\">                     <span class=\"comment\">//跨一天   </span></span><br><span class=\"line\">                     hours = enWrokTime - beginHoursMin; </span><br><span class=\"line\">                     <span class=\"comment\">//第二天的时长</span></span><br><span class=\"line\">                     hours += endHoursMin -stWorkTime ;              </span><br><span class=\"line\">                 &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                     <span class=\"comment\">//跨两天以上 </span></span><br><span class=\"line\">                     <span class=\"comment\">//第一天的时长</span></span><br><span class=\"line\">                     hours = enWrokTime - beginHoursMin; </span><br><span class=\"line\">                     <span class=\"comment\">//中间时长</span></span><br><span class=\"line\">                     hours+=(daysBetweenLen<span class=\"number\">-2</span>)*(hour);</span><br><span class=\"line\">                     <span class=\"comment\">//最后一天时长</span></span><br><span class=\"line\">                     hours += endHoursMin -stWorkTime ;              </span><br><span class=\"line\">                 &#125;</span><br><span class=\"line\">                 days = <span class=\"built_in\">Math</span>.floor(hours/hour);</span><br><span class=\"line\">                 hours = hours%hour;</span><br><span class=\"line\">                 date =&#123;<span class=\"string\">\"days\"</span>:days,<span class=\"string\">\"hours\"</span>:hours&#125;;</span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">             </span><br><span class=\"line\">         </span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">         <span class=\"built_in\">console</span>.log(date)</span><br><span class=\"line\">         <span class=\"keyword\">return</span> date;</span><br><span class=\"line\">     &#125;,</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">* 根据两个日期，判断相差天数</span></span><br><span class=\"line\"><span class=\"comment\">* <span class=\"doctag\">@param </span>sDate1 开始日期 如：2016-11-01</span></span><br><span class=\"line\"><span class=\"comment\">* <span class=\"doctag\">@param </span>sDate2 结束日期 如：2016-11-02</span></span><br><span class=\"line\"><span class=\"comment\">* <span class=\"doctag\">@returns <span class=\"type\">&#123;number&#125;</span> </span>返回相差天数</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\">     daysBetween(sDate1,sDate2)&#123;</span><br><span class=\"line\">       <span class=\"keyword\">var</span> arr = [];</span><br><span class=\"line\">       sDate1 = sDate1.substring(<span class=\"number\">0</span>,<span class=\"number\">10</span>);</span><br><span class=\"line\">       sDate2 = sDate2.substring(<span class=\"number\">0</span>,<span class=\"number\">10</span>);</span><br><span class=\"line\">       <span class=\"keyword\">var</span> startTime = <span class=\"keyword\">this</span>.gDate(sDate1);</span><br><span class=\"line\">       <span class=\"keyword\">var</span> endTime = <span class=\"keyword\">this</span>.gDate(sDate2);</span><br><span class=\"line\">       <span class=\"keyword\">while</span>((endTime.getTime()-startTime.getTime())&gt;=<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">         <span class=\"keyword\">var</span> year = startTime.getFullYear();</span><br><span class=\"line\">         <span class=\"keyword\">var</span> month = startTime.getMonth().toString().length==<span class=\"number\">1</span>?<span class=\"string\">\"0\"</span>+startTime.getMonth().toString():startTime.getMonth();</span><br><span class=\"line\">         <span class=\"keyword\">var</span> day = startTime.getDate().toString().length==<span class=\"number\">1</span>?<span class=\"string\">\"0\"</span>+startTime.getDate():startTime.getDate();</span><br><span class=\"line\">         arr.push(year+<span class=\"string\">\"/\"</span>+month+<span class=\"string\">\"/\"</span>+day);</span><br><span class=\"line\">         startTime.setDate(startTime.getDate()+<span class=\"number\">1</span>);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> arr;</span><br><span class=\"line\"></span><br><span class=\"line\">     &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">     gDate(datestr)&#123;</span><br><span class=\"line\">       datestr=datestr.replace(<span class=\"regexp\">/-/g</span>,<span class=\"string\">'/'</span>);</span><br><span class=\"line\">       <span class=\"keyword\">var</span> temp = datestr.split(<span class=\"string\">\"/\"</span>);</span><br><span class=\"line\">       <span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(temp[<span class=\"number\">0</span>],temp[<span class=\"number\">1</span>],temp[<span class=\"number\">2</span>]);</span><br><span class=\"line\">       <span class=\"keyword\">return</span> date;</span><br><span class=\"line\">     &#125;,</span><br><span class=\"line\"> </span><br><span class=\"line\"> \t<span class=\"comment\">//函数调用</span></span><br><span class=\"line\"><span class=\"keyword\">this</span>.getTotal(<span class=\"string\">'2022-08-27 09:00:00'</span> ,<span class=\"string\">'2022-08-28 18:00:00'</span>,<span class=\"number\">9</span>,<span class=\"number\">18</span>,<span class=\"literal\">false</span>,<span class=\"number\">12</span>,<span class=\"number\">13.5</span>)</span><br></pre></td></tr></table></figure>\n","tags":["VUE","uniapp开发"]},{"title":"uni+微信小程序 按照速度区分颜色的轨迹图","url":"/2022/12/16/uni-%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F-%E6%8C%89%E7%85%A7%E9%80%9F%E5%BA%A6%E5%8C%BA%E5%88%86%E9%A2%9C%E8%89%B2%E7%9A%84%E8%BD%A8%E8%BF%B9%E5%9B%BE/","content":"<p>记录一下需求，要求拿到用户的经纬度，然后按照30s一次上报后端，然后一次性获取所有的经纬度点，按照点与点之间不同的距离，计算出速度，然后绘制成带区分色的轨迹图</p>\n<h4 id=\"实现效果\"><a href=\"#实现效果\" class=\"headerlink\" title=\"实现效果\"></a>实现效果</h4><p><img src=\"https://im3.ezgif.com/tmp/ezgif-3-94f3875486.gif\" alt=\"示例图\"></p>\n<h4 id=\"data-json\"><a href=\"#data-json\" class=\"headerlink\" title=\"data.json\"></a>data.json</h4><figure class=\"highlight json\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"attr\">\"code\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"data\"</span>:[</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:53:24\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71166734498046</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.20920941391502</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:54:44\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71166008788287</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.20898698228511</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:54:48\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.711693503519076</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.20875726100549</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:54:52\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71189860469305</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.20869256136642</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:54:56\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.712181104603896</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.20886675764767</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:55:00\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.712506135198485</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.20907492939607</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:55:04\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.712842776280617</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.20928553737295</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:55:08\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71319016342363</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.20949474032147</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:55:12\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71350534020304</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.20971273260996</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:55:16\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.713791684549886</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.20990119142213</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:55:20\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714036827858415</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.210070202799</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:55:24\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714266030993794</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21023024427261</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:55:28\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71442604665383</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21034282943285</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:55:32\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71448621071001</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21037110912891</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:55:44\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714628938239677</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21053399055451</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:55:48\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71465771333451</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21087655322795</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:55:52\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71467711256273</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21125094755847</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:55:56\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714682375931073</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21161537704236</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:56:00\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714676307593784</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21188376191323</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:56:04\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71468110961003</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21212021982076</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:56:08\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71466774066909</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21235499195997</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:56:12\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714666955670868</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21253397872917</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:58:01\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714657245049036</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21259598217958</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:58:04\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714662977502993</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2128423931212</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:58:08\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714679401534834</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21314766821581</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:58:12\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714683542998344</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21349713948362</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:58:16\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71469151639618</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21386985436938</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:58:20\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71469840018674</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2142374541996</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:58:24\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714710190772863</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21458169812438</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:58:28\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714716666885508</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2149158067759</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:58:32\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71472675842538</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2152932672711</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:58:36\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714735544070944</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21567027290654</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:58:40\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714746934638526</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21600937226607</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:58:44\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71474531602733</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21630222070142</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:58:48\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71475756560034</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21658579179083</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:58:52\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.7147754988659</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.216923014858</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:58:56\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714778082401658</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21723619993996</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:59:00\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714771523450338</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21741966309897</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:59:04\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71476752614504</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.217509838215</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:59:08\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714814057950495</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21756453898232</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:59:28\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714767591707222</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21749000880261</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 07:59:32\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71472381947862</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21744404043126</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:00:12\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714752348555827</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21748934928218</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:00:16\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71475485667822</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21755344828007</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:00:20\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714760169035635</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21773959845069</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:00:24\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714769784204858</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21798007952485</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:00:28\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.714785723413375</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21824364605955</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:00:32\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71493339486867</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21843132531077</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:00:36\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.715199863798023</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21847183881765</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:00:40\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.715509457888327</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21850942074495</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:00:44\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.715853631525217</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21850705515993</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:00:48\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.716181958000874</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21849920971333</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:00:52\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.716512279117712</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21850405879921</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:00:56\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.716877387926818</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21852607528479</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:01:00\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.717256742057675</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21859467881966</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:01:04\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71757489911249</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21853688333465</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:01:09\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.717906960690303</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21851826978653</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:01:12\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.718171144053734</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21849988191971</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:01:16\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.718276072397508</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21849159461227</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:01:24\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71836093899089</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21848840588443</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:01:28\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.718414641729094</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21848963646993</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:01:32\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71857582921908</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21851774902089</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:01:36\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71877979594395</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21861123246154</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:01:40\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71897988148927</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21876890707762</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:01:44\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.719097384788377</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2190075857295</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:01:48\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.719158065321334</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21935886891531</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:01:52\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.719167210823525</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.21970596141334</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:01:56\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.719162798310663</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22007604186517</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:02:00\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71917403911972</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22050008235797</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:02:05\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.719190816569437</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2209074413749</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:02:08\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71919999684288</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22128092063352</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:02:13\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71920351711499</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22156255001013</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:02:17\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.719203258378997</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22186173834818</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:02:20\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.719207645832345</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22215030009414</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:02:24\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71920405568835</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22240214346795</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:02:28\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.719208683027663</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22265103499771</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:02:32\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71921596054</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22286667100457</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:02:36\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.719212489164047</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22303556516229</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:02:40\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.719214074548187</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22314687775298</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:02:44\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.719215404918966</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22320039821086</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:04:09\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.719229383015872</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22325904995131</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:04:12\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.719247885681625</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22352139464499</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:04:16\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.719345685784102</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2236893600681</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:04:20\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.719601773020415</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22369947601904</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:04:24\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.71990372911814</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22370368547439</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:04:28\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.720141059754024</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22370630417791</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:04:32\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.720293891651924</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22369638118128</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:04:36\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.720357608293583</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22368772077975</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:05:09\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72045297180199</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.223680529476</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:05:16\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72065023437033</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22369893678533</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:05:16\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.720927782074693</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22368698464251</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:05:21\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.721281873382114</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22369046840628</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:05:25\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72165175116794</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22369204658347</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:05:32\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72239796811318</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22366875208037</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:05:36\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72276495788978</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22365914073147</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:05:39\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72195955510468</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22368208250278</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:05:41\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.723115404139772</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22364878980729</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:05:44\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72348123670898</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22364564646378</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:05:48\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.723777075907208</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22363753829237</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:05:52\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.723989433961908</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22362812776778</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:05:56\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.724106985277402</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2236377167716</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:06:00\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.724176690130662</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22363237061235</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:07:37\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72426045244677</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22363277464207</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:07:40\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.7243611552018</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22376370901743</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:07:44\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72434281109563</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22401779127807</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:07:48\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72436471808387</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22408085703397</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:08:04\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.724414258355903</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22404719149297</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:08:16\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.724411529827755</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2239629756914</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:08:28\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.724424096331536</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22391458521047</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:09:12\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.724442259277566</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22373467710806</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:09:16\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.724557611434964</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22362538522293</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:09:20\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72481035979971</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22362577890588</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:09:24\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72509132813704</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22361513457489</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:09:28\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.725350975266284</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22360942991091</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:09:32\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.725575217952237</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22361712848125</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:09:36\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.725703060132563</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22361960120473</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:09:40\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.725770110263515</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22373559112553</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:09:44\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72577355384784</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22386939514324</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:09:48\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.725756190711447</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22399552266337</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:09:52\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72574931111423</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22422242720208</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:09:56\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72575503498403</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22445080157111</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:10:00\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.725769937369844</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22465648933498</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:10:04\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.725780796093566</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22477231052068</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:10:12\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72573571734934</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2248250427536</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:10:36\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.725786092733873</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22483288148169</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:10:48\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72571394287688</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22476759522763</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:12:09\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72585305418696</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22476451871387</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:12:52\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72580279799154</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22482288047848</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:13:24\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72573600445524</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22480912150246</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:13:28\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72572342315431</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22491948180424</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:13:32\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.725726842403155</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22516580940378</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:13:36\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.725777503057266</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22545349807348</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:13:40\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72579442669164</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22573199402697</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:13:44\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.725790322664423</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22598567527362</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:13:48\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.725807322913553</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2261648009138</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:13:52\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72597017484282</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22627466734963</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:13:56\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.726235909857557</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22628217931974</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:14:00\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72645181333114</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22627791908914</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:14:04\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.726658384578514</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22627337881853</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:14:08\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.726795490324864</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22625563774187</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:14:12\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.726843370470277</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2262585553525</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:14:36\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727037200464363</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2262714437939</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:14:40\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727275414533537</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22627275506666</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:14:44\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727545943872638</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22626787902973</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:14:48\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.7277875946114</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22626371010828</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:14:52\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728014256385656</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22626432194915</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:14:58\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728233825276007</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22625611884581</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:15:00\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728416909980673</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22626175938406</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:15:04\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72856377499358</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2263356183156</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:15:08\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728675564349615</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2265927655562</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:15:12\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728760672050775</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22697604536071</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:15:16\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728807158779542</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2273037835168</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:15:20\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728814524082534</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22752356754961</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:15:24\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728813210062818</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22758842673466</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:16:20\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72881473763901</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22765259740675</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:16:24\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728818144712097</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22782057189954</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:16:28\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728824082351007</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2280724657185</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:16:32\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72883118860196</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22830742036493</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:16:36\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728826002057595</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22857529132177</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:16:40\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728827598477814</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2289298514748</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:16:44\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72885905076257</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22930232848607</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:16:48\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72887443183621</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.22964344083444</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:16:52\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728875280794473</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2299756710356</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:16:56\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72886726238431</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23026145947337</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:17:00\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728874592342425</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23053435242863</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:17:04\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728851788835954</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23074737158144</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:17:08\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728800313937484</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23090861276462</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:17:12\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728785884702628</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23100681657283</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:17:16\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72872533619655</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23111297557733</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:17:20\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728648872136336</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23119766786047</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:17:24\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728578514272055</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2312773885663</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:17:32\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728548164280173</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23131429891129</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:17:36\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72854287759444</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23144927720902</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:17:40\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72853441113965</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23163096325663</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:17:44\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728522280591857</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23178192797546</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:17:48\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728513896511778</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2318914178959</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:17:52\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728516247798495</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.2319505166727</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:18:04\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728531854471473</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23188782447674</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:18:20\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72856907216821</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23184311580049</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:19:41\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728549651292568</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23190946202295</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:19:48\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728484035448844</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23195466842698</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:19:52\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728468979964976</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23200427100286</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:20:08\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728396381850423</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23198996893971</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:20:16\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728312422760563</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23200911462374</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:20:24\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72828229345752</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23205842689165</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:20:39\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728305758963234</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23198744767465</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:21:06\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.728541</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232045</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:21:38\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727982</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232259</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:22:00\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727973</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23234</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:23:41\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727988</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232656</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:35:45\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727992</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232722</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 08:36:17\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72797</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23236</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">0</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:01:51\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727993</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232074</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:02:12\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727792</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.231854</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:02:55\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72758</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232564</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:04:03\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727792</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.231854</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:04:23\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72758</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232564</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:04:36\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727804</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.231872</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:05:16\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727962</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232328</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:11:56\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727581</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232533</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:12:36\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727961</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232336</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:14:36\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727581</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232533</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:14:44\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727936</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232363</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:16:52\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727154</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232758</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:19:36\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727936</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232358</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:21:20\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727978</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232074</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:21:40\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.72758</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232675</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:22:44\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727166</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.23275</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:27:28\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727936</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232358</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:40:49\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727578</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232711</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:41:53\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727935</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232366</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:42:09\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727578</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232711</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:42:57\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727988</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232071</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:44:21\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727791</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.231911</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:45:01\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727988</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232071</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:45:33\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727791</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.231911</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:46:01\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727988</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232071</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:46:05\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727935</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232366</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:47:33\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727791</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.231911</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:47:49\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727936</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232358</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"attr\">\"attendancegroupid\"</span>:<span class=\"string\">\"5fe1e81368cb5a441f573e3f7ef79fa2\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"createTime\"</span>:<span class=\"string\">\"2022-12-16 10:50:39\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"dimension\"</span>:<span class=\"number\">22.727973</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"employeeNo\"</span>:<span class=\"string\">\"e3226256812343558144\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"enterpriseId\"</span>:<span class=\"string\">\"c2226256812326780928\"</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"longitude\"</span>:<span class=\"number\">114.232073</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"type\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">            <span class=\"attr\">\"userId\"</span>:<span class=\"string\">\"110169488214196224\"</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    <span class=\"attr\">\"extra\"</span>:&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">\"msg\"</span>:<span class=\"string\">\"请求成功!\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"state\"</span>:<span class=\"number\">200</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"index-vue\"><a href=\"#index-vue\" class=\"headerlink\" title=\"index.vue\"></a>index.vue</h5><figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&lt;template&gt;</span></span><br><span class=\"line\">  <span class=\"string\">&lt;map</span> <span class=\"string\">id=\"polylineMap\"</span></span><br><span class=\"line\">    <span class=\"string\">:longitude=\"longitude\"</span></span><br><span class=\"line\">    <span class=\"string\">:latitude=\"latitude\"</span></span><br><span class=\"line\">    <span class=\"string\">:markers=\"markers\"</span></span><br><span class=\"line\">    <span class=\"string\">:scale=\"scale\"</span></span><br><span class=\"line\">    <span class=\"string\">:polyline=\"polyline\"</span></span><br><span class=\"line\">    <span class=\"string\">:style=\"&#123;height:</span> <span class=\"string\">height,width:width&#125;\"&gt;&lt;/map&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;/template&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&lt;script&gt;</span></span><br><span class=\"line\"><span class=\"string\">export</span> <span class=\"string\">default</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">props:</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">height:</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">type:</span> <span class=\"string\">String,</span></span><br><span class=\"line\">      <span class=\"attr\">default:</span> <span class=\"string\">'100vh'</span></span><br><span class=\"line\">    <span class=\"string\">&#125;,</span></span><br><span class=\"line\">    <span class=\"attr\">width:</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">type:</span> <span class=\"string\">String,</span></span><br><span class=\"line\">      <span class=\"attr\">default:</span> <span class=\"string\">'100%'</span></span><br><span class=\"line\">    <span class=\"string\">&#125;,</span></span><br><span class=\"line\">    <span class=\"attr\">points:</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">type:</span> <span class=\"string\">Array,</span></span><br><span class=\"line\">      <span class=\"string\">default()</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">        <span class=\"string\">return</span> <span class=\"string\">[]</span></span><br><span class=\"line\">      <span class=\"string\">&#125;</span></span><br><span class=\"line\">    <span class=\"string\">&#125;,</span></span><br><span class=\"line\">    <span class=\"attr\">username:</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">type:</span> <span class=\"string\">String,</span></span><br><span class=\"line\">      <span class=\"attr\">default:</span> <span class=\"string\">''</span></span><br><span class=\"line\">    <span class=\"string\">&#125;</span></span><br><span class=\"line\">  <span class=\"string\">&#125;,</span></span><br><span class=\"line\">  <span class=\"string\">data()</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">    <span class=\"string\">return</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">maxSpeed:</span> <span class=\"literal\">null</span><span class=\"string\">,</span> <span class=\"string\">//</span> <span class=\"string\">最快速度的点</span></span><br><span class=\"line\">      <span class=\"attr\">scale:</span> <span class=\"number\">4</span><span class=\"string\">,</span> <span class=\"string\">//</span> <span class=\"string\">地图缩放比例</span></span><br><span class=\"line\">      <span class=\"attr\">markers:</span> <span class=\"string\">[],</span> <span class=\"string\">//</span> <span class=\"string\">标记点集合</span></span><br><span class=\"line\">      <span class=\"attr\">polyline:</span> <span class=\"string\">[&#123;</span></span><br><span class=\"line\">        <span class=\"attr\">points:</span> <span class=\"string\">[],</span></span><br><span class=\"line\">      <span class=\"string\">&#125;,],</span> <span class=\"string\">//</span> <span class=\"string\">坐标点集合</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"attr\">latitude:</span> <span class=\"number\">39.909</span><span class=\"string\">,</span></span><br><span class=\"line\">      <span class=\"attr\">longitude:</span> <span class=\"number\">116.39742</span><span class=\"string\">,</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"string\">//</span> <span class=\"string\">中间点</span></span><br><span class=\"line\">      <span class=\"attr\">centerPoint:</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">        <span class=\"attr\">latitude:</span> <span class=\"number\">0</span><span class=\"string\">,</span></span><br><span class=\"line\">        <span class=\"attr\">longitude:</span> <span class=\"number\">0</span></span><br><span class=\"line\">      <span class=\"string\">&#125;,</span></span><br><span class=\"line\">    <span class=\"string\">&#125;</span></span><br><span class=\"line\">  <span class=\"string\">&#125;,</span></span><br><span class=\"line\">  <span class=\"attr\">watch:</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">    <span class=\"string\">points(e)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">      <span class=\"string\">let</span> <span class=\"string\">that</span> <span class=\"string\">=</span> <span class=\"string\">this;</span></span><br><span class=\"line\">      <span class=\"string\">if</span> <span class=\"string\">(that.points.length</span> <span class=\"string\">&gt;</span> <span class=\"number\">0</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">        <span class=\"string\">that.setDateByPoints(that.points);</span></span><br><span class=\"line\">      <span class=\"string\">&#125;</span></span><br><span class=\"line\">    <span class=\"string\">&#125;,</span></span><br><span class=\"line\">  <span class=\"string\">&#125;,</span></span><br><span class=\"line\">  <span class=\"attr\">created:</span> <span class=\"string\">function</span> <span class=\"string\">()</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">    <span class=\"string\">let</span> <span class=\"string\">that</span> <span class=\"string\">=</span> <span class=\"string\">this;</span></span><br><span class=\"line\">    <span class=\"string\">if</span> <span class=\"string\">(that.points.length</span> <span class=\"string\">&gt;</span> <span class=\"number\">0</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">      <span class=\"string\">that.setDateByPoints(that.points);</span></span><br><span class=\"line\">    <span class=\"string\">&#125;</span></span><br><span class=\"line\">  <span class=\"string\">&#125;,</span></span><br><span class=\"line\">  <span class=\"attr\">methods:</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">    <span class=\"string\">//</span> <span class=\"string\">根据速度计算路线颜色</span></span><br><span class=\"line\">    <span class=\"string\">computePointsSpeed(points)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">      <span class=\"string\">let</span> <span class=\"string\">lineColor</span> <span class=\"string\">=</span> <span class=\"string\">'#ffd500'</span></span><br><span class=\"line\">      <span class=\"string\">let</span> <span class=\"string\">list</span> <span class=\"string\">=</span> <span class=\"string\">[]</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"string\">if</span> <span class=\"string\">(!points</span> <span class=\"string\">||</span> <span class=\"type\">!points</span><span class=\"string\">.length)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">        <span class=\"string\">return</span> <span class=\"string\">list</span></span><br><span class=\"line\">      <span class=\"string\">&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"string\">let</span> <span class=\"string\">lastArr</span> <span class=\"string\">=</span> <span class=\"string\">[]</span></span><br><span class=\"line\">      <span class=\"string\">let</span> <span class=\"string\">lastSpeed</span> <span class=\"string\">=</span> <span class=\"number\">0</span></span><br><span class=\"line\">      <span class=\"string\">for</span> <span class=\"string\">(let</span> <span class=\"string\">i</span> <span class=\"string\">=</span> <span class=\"number\">0</span><span class=\"string\">;</span> <span class=\"string\">i</span> <span class=\"string\">&lt;</span> <span class=\"string\">points.length;</span> <span class=\"string\">i++)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">        <span class=\"string\">let</span> <span class=\"string\">speed</span> <span class=\"string\">=</span> <span class=\"string\">this.covertSpeed(points[i].speed)</span></span><br><span class=\"line\">        <span class=\"string\">if</span> <span class=\"string\">(!this.maxSpeed)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">          <span class=\"string\">this.maxSpeed</span> <span class=\"string\">=</span> <span class=\"string\">points[i]</span></span><br><span class=\"line\">        <span class=\"string\">&#125;</span> <span class=\"string\">else</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">          <span class=\"string\">if</span> <span class=\"string\">(points[i].speed</span> <span class=\"string\">&gt;</span> <span class=\"string\">this.maxSpeed.speed)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">            <span class=\"string\">this.maxSpeed</span> <span class=\"string\">=</span> <span class=\"string\">points[i]</span></span><br><span class=\"line\">          <span class=\"string\">&#125;</span></span><br><span class=\"line\">        <span class=\"string\">&#125;</span></span><br><span class=\"line\">        <span class=\"string\">if</span> <span class=\"string\">(i</span> <span class=\"string\">===</span> <span class=\"string\">points.length</span> <span class=\"bullet\">-</span> <span class=\"number\">1</span> <span class=\"string\">||</span> <span class=\"type\">!speed</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">          <span class=\"string\">//</span> <span class=\"string\">还剩最后一个不计入</span></span><br><span class=\"line\">          <span class=\"string\">continue</span></span><br><span class=\"line\">        <span class=\"string\">&#125;</span></span><br><span class=\"line\">        <span class=\"string\">let</span> <span class=\"string\">nextPoint</span> <span class=\"string\">=</span> <span class=\"string\">points[i</span> <span class=\"string\">+</span> <span class=\"number\">1</span><span class=\"string\">]</span></span><br><span class=\"line\">        <span class=\"string\">let</span> <span class=\"string\">nextSpeed</span> <span class=\"string\">=</span> <span class=\"string\">this.covertSpeed(points[i</span> <span class=\"string\">+</span> <span class=\"number\">1</span><span class=\"string\">].speed)</span></span><br><span class=\"line\">        <span class=\"string\">if</span> <span class=\"string\">(!nextSpeed)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">          <span class=\"string\">continue</span></span><br><span class=\"line\">        <span class=\"string\">&#125;</span></span><br><span class=\"line\">        <span class=\"string\">lastSpeed</span> <span class=\"string\">=</span> <span class=\"string\">speed</span></span><br><span class=\"line\">        <span class=\"string\">if</span> <span class=\"string\">(!lastArr.length)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">          <span class=\"string\">lastArr.push(points[i],</span> <span class=\"string\">nextPoint)</span></span><br><span class=\"line\">        <span class=\"string\">&#125;</span> <span class=\"string\">else</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">          <span class=\"string\">lastArr.push(nextPoint)</span></span><br><span class=\"line\">        <span class=\"string\">&#125;</span></span><br><span class=\"line\">        <span class=\"string\">if</span> <span class=\"string\">(speed</span> <span class=\"string\">&lt;=</span> <span class=\"number\">20</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">          <span class=\"string\">lineColor</span> <span class=\"string\">=</span> <span class=\"string\">'#ffd500'</span></span><br><span class=\"line\">          <span class=\"string\">if</span> <span class=\"string\">(nextSpeed</span> <span class=\"string\">&gt;</span> <span class=\"number\">20</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">            <span class=\"string\">//</span> <span class=\"string\">清空</span></span><br><span class=\"line\">            <span class=\"string\">list.push(&#123;</span></span><br><span class=\"line\">              <span class=\"attr\">points:</span> <span class=\"string\">lastArr,</span></span><br><span class=\"line\">              <span class=\"attr\">color:</span> <span class=\"string\">lineColor,</span></span><br><span class=\"line\">              <span class=\"attr\">arrowLine:</span> <span class=\"literal\">true</span><span class=\"string\">,</span> <span class=\"string\">//带箭头的线</span></span><br><span class=\"line\">              <span class=\"attr\">width:</span> <span class=\"number\">8</span><span class=\"string\">,</span></span><br><span class=\"line\">            <span class=\"string\">&#125;)</span></span><br><span class=\"line\">            <span class=\"string\">lastArr</span> <span class=\"string\">=</span> <span class=\"string\">[]</span></span><br><span class=\"line\">          <span class=\"string\">&#125;</span></span><br><span class=\"line\">        <span class=\"string\">&#125;</span></span><br><span class=\"line\">        <span class=\"string\">if</span> <span class=\"string\">(speed</span> <span class=\"string\">&gt;</span> <span class=\"number\">20</span> <span class=\"string\">&amp;&amp;</span> <span class=\"string\">speed</span> <span class=\"string\">&lt;=</span> <span class=\"number\">40</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">          <span class=\"string\">lineColor</span> <span class=\"string\">=</span> <span class=\"string\">'#ff8800'</span></span><br><span class=\"line\">          <span class=\"string\">if</span> <span class=\"string\">(nextSpeed</span> <span class=\"string\">&lt;=</span> <span class=\"number\">20</span> <span class=\"string\">||</span> <span class=\"string\">nextSpeed</span> <span class=\"string\">&gt;</span> <span class=\"number\">40</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">            <span class=\"string\">//</span> <span class=\"string\">清空</span></span><br><span class=\"line\">            <span class=\"string\">list.push(&#123;</span></span><br><span class=\"line\">              <span class=\"attr\">points:</span> <span class=\"string\">lastArr,</span></span><br><span class=\"line\">              <span class=\"attr\">color:</span> <span class=\"string\">lineColor,</span></span><br><span class=\"line\">              <span class=\"attr\">arrowLine:</span> <span class=\"literal\">true</span><span class=\"string\">,</span> <span class=\"string\">//带箭头的线</span></span><br><span class=\"line\">              <span class=\"attr\">width:</span> <span class=\"number\">8</span><span class=\"string\">,</span></span><br><span class=\"line\">            <span class=\"string\">&#125;)</span></span><br><span class=\"line\">            <span class=\"string\">lastArr</span> <span class=\"string\">=</span> <span class=\"string\">[]</span></span><br><span class=\"line\">          <span class=\"string\">&#125;</span></span><br><span class=\"line\">        <span class=\"string\">&#125;</span></span><br><span class=\"line\">        <span class=\"string\">if</span> <span class=\"string\">(speed</span> <span class=\"string\">&gt;</span> <span class=\"number\">40</span> <span class=\"string\">&amp;&amp;</span> <span class=\"string\">speed</span> <span class=\"string\">&lt;=</span> <span class=\"number\">60</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">          <span class=\"string\">lineColor</span> <span class=\"string\">=</span> <span class=\"string\">'#ff5d00'</span></span><br><span class=\"line\">          <span class=\"string\">if</span> <span class=\"string\">(nextSpeed</span> <span class=\"string\">&lt;=</span> <span class=\"number\">40</span> <span class=\"string\">||</span> <span class=\"string\">nextSpeed</span> <span class=\"string\">&gt;</span> <span class=\"number\">60</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">            <span class=\"string\">//</span> <span class=\"string\">清空</span></span><br><span class=\"line\">            <span class=\"string\">list.push(&#123;</span></span><br><span class=\"line\">              <span class=\"attr\">points:</span> <span class=\"string\">lastArr,</span></span><br><span class=\"line\">              <span class=\"attr\">color:</span> <span class=\"string\">lineColor,</span></span><br><span class=\"line\">              <span class=\"attr\">arrowLine:</span> <span class=\"literal\">true</span><span class=\"string\">,</span> <span class=\"string\">//带箭头的线</span></span><br><span class=\"line\">              <span class=\"attr\">width:</span> <span class=\"number\">8</span><span class=\"string\">,</span></span><br><span class=\"line\">            <span class=\"string\">&#125;)</span></span><br><span class=\"line\">            <span class=\"string\">lastArr</span> <span class=\"string\">=</span> <span class=\"string\">[]</span></span><br><span class=\"line\">          <span class=\"string\">&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"string\">&#125;</span></span><br><span class=\"line\">        <span class=\"string\">if</span> <span class=\"string\">(speed</span> <span class=\"string\">&gt;</span> <span class=\"number\">60</span> <span class=\"string\">&amp;&amp;</span> <span class=\"string\">speed</span> <span class=\"string\">&lt;=</span> <span class=\"number\">80</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">          <span class=\"string\">lineColor</span> <span class=\"string\">=</span> <span class=\"string\">'#ff4d00'</span></span><br><span class=\"line\">          <span class=\"string\">if</span> <span class=\"string\">(nextSpeed</span> <span class=\"string\">&lt;=</span> <span class=\"number\">60</span> <span class=\"string\">||</span> <span class=\"string\">nextSpeed</span> <span class=\"string\">&gt;</span> <span class=\"number\">80</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">            <span class=\"string\">//</span> <span class=\"string\">清空</span></span><br><span class=\"line\">            <span class=\"string\">list.push(&#123;</span></span><br><span class=\"line\">              <span class=\"attr\">points:</span> <span class=\"string\">lastArr,</span></span><br><span class=\"line\">              <span class=\"attr\">color:</span> <span class=\"string\">lineColor,</span></span><br><span class=\"line\">              <span class=\"attr\">arrowLine:</span> <span class=\"literal\">true</span><span class=\"string\">,</span> <span class=\"string\">//带箭头的线</span></span><br><span class=\"line\">              <span class=\"attr\">width:</span> <span class=\"number\">8</span><span class=\"string\">,</span></span><br><span class=\"line\">            <span class=\"string\">&#125;)</span></span><br><span class=\"line\">            <span class=\"string\">lastArr</span> <span class=\"string\">=</span> <span class=\"string\">[]</span></span><br><span class=\"line\">          <span class=\"string\">&#125;</span></span><br><span class=\"line\">        <span class=\"string\">&#125;</span></span><br><span class=\"line\">        <span class=\"string\">if</span> <span class=\"string\">(speed</span> <span class=\"string\">&gt;</span> <span class=\"number\">80</span> <span class=\"string\">&amp;&amp;</span> <span class=\"string\">speed</span> <span class=\"string\">&lt;=</span> <span class=\"number\">100</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">          <span class=\"string\">lineColor</span> <span class=\"string\">=</span> <span class=\"string\">'#ff3d00'</span></span><br><span class=\"line\">          <span class=\"string\">if</span> <span class=\"string\">(nextSpeed</span> <span class=\"string\">&lt;=</span> <span class=\"number\">80</span> <span class=\"string\">||</span> <span class=\"string\">nextSpeed</span> <span class=\"string\">&gt;</span> <span class=\"number\">100</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">            <span class=\"string\">//</span> <span class=\"string\">清空</span></span><br><span class=\"line\">            <span class=\"string\">list.push(&#123;</span></span><br><span class=\"line\">              <span class=\"attr\">points:</span> <span class=\"string\">lastArr,</span></span><br><span class=\"line\">              <span class=\"attr\">color:</span> <span class=\"string\">lineColor,</span></span><br><span class=\"line\">              <span class=\"attr\">arrowLine:</span> <span class=\"literal\">true</span><span class=\"string\">,</span> <span class=\"string\">//带箭头的线</span></span><br><span class=\"line\">              <span class=\"attr\">width:</span> <span class=\"number\">8</span><span class=\"string\">,</span></span><br><span class=\"line\">            <span class=\"string\">&#125;)</span></span><br><span class=\"line\">            <span class=\"string\">lastArr</span> <span class=\"string\">=</span> <span class=\"string\">[]</span></span><br><span class=\"line\">          <span class=\"string\">&#125;</span></span><br><span class=\"line\">        <span class=\"string\">&#125;</span></span><br><span class=\"line\">        <span class=\"string\">if</span> <span class=\"string\">(speed</span> <span class=\"string\">&gt;</span> <span class=\"number\">100</span> <span class=\"string\">&amp;&amp;</span> <span class=\"string\">speed</span> <span class=\"string\">&lt;=</span> <span class=\"number\">120</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">          <span class=\"string\">lineColor</span> <span class=\"string\">=</span> <span class=\"string\">'#ff2d00'</span></span><br><span class=\"line\">          <span class=\"string\">if</span> <span class=\"string\">(nextSpeed</span> <span class=\"string\">&lt;=</span> <span class=\"number\">100</span> <span class=\"string\">||</span> <span class=\"string\">nextSpeed</span> <span class=\"string\">&gt;</span> <span class=\"number\">120</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">            <span class=\"string\">//</span> <span class=\"string\">清空</span></span><br><span class=\"line\">            <span class=\"string\">list.push(&#123;</span></span><br><span class=\"line\">              <span class=\"attr\">points:</span> <span class=\"string\">lastArr,</span></span><br><span class=\"line\">              <span class=\"attr\">color:</span> <span class=\"string\">lineColor,</span></span><br><span class=\"line\">              <span class=\"attr\">arrowLine:</span> <span class=\"literal\">true</span><span class=\"string\">,</span> <span class=\"string\">//带箭头的线</span></span><br><span class=\"line\">              <span class=\"attr\">width:</span> <span class=\"number\">8</span><span class=\"string\">,</span></span><br><span class=\"line\">            <span class=\"string\">&#125;)</span></span><br><span class=\"line\">            <span class=\"string\">lastArr</span> <span class=\"string\">=</span> <span class=\"string\">[]</span></span><br><span class=\"line\">          <span class=\"string\">&#125;</span></span><br><span class=\"line\">        <span class=\"string\">&#125;</span></span><br><span class=\"line\">        <span class=\"string\">if</span> <span class=\"string\">(speed</span> <span class=\"string\">&gt;</span> <span class=\"number\">120</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">          <span class=\"string\">lineColor</span> <span class=\"string\">=</span> <span class=\"string\">'#ff1d00'</span></span><br><span class=\"line\">          <span class=\"string\">if</span> <span class=\"string\">(nextSpeed</span> <span class=\"string\">&lt;=</span> <span class=\"number\">120</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">            <span class=\"string\">//</span> <span class=\"string\">清空</span></span><br><span class=\"line\">            <span class=\"string\">list.push(&#123;</span></span><br><span class=\"line\">              <span class=\"attr\">points:</span> <span class=\"string\">lastArr,</span></span><br><span class=\"line\">              <span class=\"attr\">color:</span> <span class=\"string\">lineColor,</span></span><br><span class=\"line\">              <span class=\"attr\">arrowLine:</span> <span class=\"literal\">true</span><span class=\"string\">,</span> <span class=\"string\">//带箭头的线</span></span><br><span class=\"line\">              <span class=\"attr\">width:</span> <span class=\"number\">8</span><span class=\"string\">,</span></span><br><span class=\"line\">            <span class=\"string\">&#125;)</span></span><br><span class=\"line\">            <span class=\"string\">lastArr</span> <span class=\"string\">=</span> <span class=\"string\">[]</span></span><br><span class=\"line\">          <span class=\"string\">&#125;</span></span><br><span class=\"line\">        <span class=\"string\">&#125;</span></span><br><span class=\"line\">      <span class=\"string\">&#125;</span></span><br><span class=\"line\">      <span class=\"string\">this.centerPoint</span> <span class=\"string\">=</span> <span class=\"string\">points[Math.round(points.length</span> <span class=\"string\">/</span> <span class=\"number\">2</span><span class=\"string\">)]</span></span><br><span class=\"line\">      <span class=\"string\">console.log(\"centerPoint\",</span> <span class=\"string\">this.centerPoint)</span></span><br><span class=\"line\">      <span class=\"string\">if</span> <span class=\"string\">(!list.length</span> <span class=\"string\">&amp;&amp;</span> <span class=\"string\">lastArr.length)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">        <span class=\"string\">list.push(&#123;</span></span><br><span class=\"line\">          <span class=\"attr\">points:</span> <span class=\"string\">lastArr,</span></span><br><span class=\"line\">          <span class=\"attr\">color:</span> <span class=\"string\">lineColor,</span></span><br><span class=\"line\">          <span class=\"attr\">arrowLine:</span> <span class=\"literal\">true</span><span class=\"string\">,</span> <span class=\"string\">//带箭头的线</span></span><br><span class=\"line\">          <span class=\"attr\">width:</span> <span class=\"number\">8</span><span class=\"string\">,</span></span><br><span class=\"line\">        <span class=\"string\">&#125;)</span></span><br><span class=\"line\">      <span class=\"string\">&#125;</span></span><br><span class=\"line\">      <span class=\"string\">return</span> <span class=\"string\">list</span></span><br><span class=\"line\">    <span class=\"string\">&#125;,</span></span><br><span class=\"line\">    <span class=\"string\">//</span> <span class=\"string\">设置路线和点</span></span><br><span class=\"line\">    <span class=\"string\">setDateByPoints(points)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">      <span class=\"string\">let</span> <span class=\"string\">that</span> <span class=\"string\">=</span> <span class=\"string\">this;</span></span><br><span class=\"line\">      <span class=\"string\">let</span> <span class=\"string\">color</span> <span class=\"string\">=</span> <span class=\"string\">\"#ffd500\"</span></span><br><span class=\"line\">      <span class=\"string\">//</span> <span class=\"string\">标记点集合</span></span><br><span class=\"line\">      <span class=\"string\">that.polyline</span> <span class=\"string\">=</span> <span class=\"string\">this.computePointsSpeed(points)</span></span><br><span class=\"line\">      <span class=\"string\">if</span> <span class=\"string\">(!that.polyline.length)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">        <span class=\"string\">that.polyline</span> <span class=\"string\">=</span> <span class=\"string\">[&#123;</span></span><br><span class=\"line\">          <span class=\"attr\">points:</span> <span class=\"string\">points,</span></span><br><span class=\"line\">          <span class=\"attr\">color:</span> <span class=\"string\">color,</span></span><br><span class=\"line\">          <span class=\"attr\">arrowLine:</span> <span class=\"literal\">true</span><span class=\"string\">,</span> <span class=\"string\">//带箭头的线</span></span><br><span class=\"line\">          <span class=\"attr\">width:</span> <span class=\"number\">8</span><span class=\"string\">,</span></span><br><span class=\"line\">        <span class=\"string\">&#125;]</span></span><br><span class=\"line\">      <span class=\"string\">&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"string\">//</span> <span class=\"string\">//</span> <span class=\"string\">极速点</span></span><br><span class=\"line\">      <span class=\"string\">//</span> <span class=\"string\">if</span> <span class=\"string\">(that.maxSpeed)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">      <span class=\"string\">//</span>   <span class=\"string\">that.maxSpeed.iconPath</span> <span class=\"string\">=</span> <span class=\"string\">'/'</span></span><br><span class=\"line\">      <span class=\"string\">//</span>   <span class=\"string\">that.maxSpeed.width</span> <span class=\"string\">=</span> <span class=\"number\">0</span></span><br><span class=\"line\">      <span class=\"string\">//</span>   <span class=\"string\">that.maxSpeed.height</span> <span class=\"string\">=</span> <span class=\"number\">0</span></span><br><span class=\"line\">      <span class=\"string\">//</span>   <span class=\"string\">that.maxSpeed.id</span> <span class=\"string\">=</span> <span class=\"number\">2</span></span><br><span class=\"line\">      <span class=\"string\">//</span>   <span class=\"string\">that.maxSpeed.callout</span> <span class=\"string\">=</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">      <span class=\"string\">//</span>     <span class=\"attr\">anchorY:</span> <span class=\"number\">0</span><span class=\"string\">,</span></span><br><span class=\"line\">      <span class=\"string\">//</span>     <span class=\"attr\">anchorX:</span> <span class=\"number\">0</span><span class=\"string\">,</span></span><br><span class=\"line\">      <span class=\"string\">//</span>     <span class=\"attr\">display:</span> <span class=\"string\">'ALWAYS'</span><span class=\"string\">,</span></span><br><span class=\"line\">      <span class=\"string\">//</span>     <span class=\"attr\">color:</span> <span class=\"string\">'#5d5d5d'</span><span class=\"string\">,</span></span><br><span class=\"line\">      <span class=\"string\">//</span>     <span class=\"attr\">fontSize:</span> <span class=\"number\">14</span><span class=\"string\">,</span></span><br><span class=\"line\">      <span class=\"string\">//</span>     <span class=\"attr\">borderRadius:</span> <span class=\"number\">6</span><span class=\"string\">,</span></span><br><span class=\"line\">      <span class=\"string\">//</span>     <span class=\"attr\">padding:</span> <span class=\"number\">8</span><span class=\"string\">,</span></span><br><span class=\"line\">      <span class=\"string\">//</span>     <span class=\"attr\">bgColor:</span> <span class=\"string\">'#fff'</span><span class=\"string\">,</span></span><br><span class=\"line\">      <span class=\"string\">//</span>     <span class=\"attr\">content:</span> <span class=\"string\">`$&#123;this.username&#125;</span> <span class=\"string\">$&#123;this.username</span> <span class=\"string\">?</span> <span class=\"string\">':'</span> <span class=\"string\">:</span> <span class=\"string\">''</span><span class=\"string\">&#125;极速</span> <span class=\"string\">$&#123;this.covertSpeed(this.maxSpeed.speed)&#125;</span> <span class=\"string\">km/h`</span></span><br><span class=\"line\">      <span class=\"string\">//</span>   <span class=\"string\">&#125;</span></span><br><span class=\"line\">      <span class=\"string\">//</span>   <span class=\"string\">that.markers.push(this.maxSpeed)</span></span><br><span class=\"line\">      <span class=\"string\">//</span> <span class=\"string\">&#125;</span></span><br><span class=\"line\">      <span class=\"string\">let</span> <span class=\"string\">map_obj</span> <span class=\"string\">=</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">        <span class=\"attr\">anchorY:</span> <span class=\"number\">0</span><span class=\"string\">,</span></span><br><span class=\"line\">        <span class=\"attr\">anchorX:</span> <span class=\"number\">0</span><span class=\"string\">,</span></span><br><span class=\"line\">        <span class=\"attr\">display:</span> <span class=\"string\">'ALWAYS'</span><span class=\"string\">,</span></span><br><span class=\"line\">        <span class=\"attr\">color:</span> <span class=\"string\">'#fff'</span><span class=\"string\">,</span></span><br><span class=\"line\">        <span class=\"attr\">fontSize:</span> <span class=\"number\">14</span><span class=\"string\">,</span></span><br><span class=\"line\">        <span class=\"attr\">borderRadius:</span> <span class=\"number\">8</span><span class=\"string\">,</span></span><br><span class=\"line\">        <span class=\"attr\">padding:</span> <span class=\"number\">8</span><span class=\"string\">,</span></span><br><span class=\"line\">      <span class=\"string\">&#125;</span></span><br><span class=\"line\">      <span class=\"string\">let</span> <span class=\"string\">start</span> <span class=\"string\">=</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">        <span class=\"string\">...points[0],</span></span><br><span class=\"line\">        <span class=\"attr\">id:</span> <span class=\"number\">1</span><span class=\"string\">,</span></span><br><span class=\"line\">        <span class=\"attr\">width:</span> <span class=\"number\">1</span><span class=\"string\">,</span></span><br><span class=\"line\">        <span class=\"attr\">height:</span> <span class=\"number\">1</span><span class=\"string\">,</span></span><br><span class=\"line\">        <span class=\"attr\">iconPath:</span> <span class=\"string\">'/'</span><span class=\"string\">,</span></span><br><span class=\"line\">        <span class=\"attr\">callout:</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">          <span class=\"string\">...map_obj,</span></span><br><span class=\"line\">          <span class=\"attr\">bgColor:</span> <span class=\"string\">'#4C8AFC'</span><span class=\"string\">,</span></span><br><span class=\"line\">          <span class=\"attr\">content:</span> <span class=\"string\">'起'</span></span><br><span class=\"line\">        <span class=\"string\">&#125;</span></span><br><span class=\"line\">      <span class=\"string\">&#125;</span></span><br><span class=\"line\">      <span class=\"string\">let</span> <span class=\"string\">end</span> <span class=\"string\">=</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">        <span class=\"string\">...points[points.length</span> <span class=\"bullet\">-</span> <span class=\"number\">1</span><span class=\"string\">],</span></span><br><span class=\"line\">        <span class=\"attr\">id:</span> <span class=\"number\">3</span><span class=\"string\">,</span></span><br><span class=\"line\">        <span class=\"attr\">width:</span> <span class=\"number\">1</span><span class=\"string\">,</span></span><br><span class=\"line\">        <span class=\"attr\">height:</span> <span class=\"number\">1</span><span class=\"string\">,</span></span><br><span class=\"line\">        <span class=\"attr\">iconPath:</span> <span class=\"string\">'/'</span><span class=\"string\">,</span></span><br><span class=\"line\">        <span class=\"attr\">callout:</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">          <span class=\"string\">...map_obj,</span></span><br><span class=\"line\">          <span class=\"attr\">bgColor:</span> <span class=\"string\">'#E74B47'</span><span class=\"string\">,</span></span><br><span class=\"line\">          <span class=\"attr\">content:</span> <span class=\"string\">'终'</span></span><br><span class=\"line\">        <span class=\"string\">&#125;</span></span><br><span class=\"line\">      <span class=\"string\">&#125;</span></span><br><span class=\"line\">      <span class=\"string\">that.markers.push(start,</span> <span class=\"string\">end);</span></span><br><span class=\"line\">      <span class=\"string\">this.setCenterPoint(start,</span> <span class=\"string\">end)</span></span><br><span class=\"line\">    <span class=\"string\">&#125;,</span></span><br><span class=\"line\">    <span class=\"string\">//</span> <span class=\"string\">地图中心点</span> <span class=\"string\">（计算3个点的中心点）</span></span><br><span class=\"line\">    <span class=\"string\">setCenterPoint(start,</span> <span class=\"string\">end)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">      <span class=\"string\">this.longitude</span> <span class=\"string\">=</span> <span class=\"string\">(start.longitude</span> <span class=\"string\">+</span> <span class=\"string\">this.centerPoint.longitude</span> <span class=\"string\">+</span> <span class=\"string\">end.longitude)</span> <span class=\"string\">/</span> <span class=\"number\">3</span></span><br><span class=\"line\">      <span class=\"string\">this.latitude</span> <span class=\"string\">=</span> <span class=\"string\">(start.latitude</span> <span class=\"string\">+</span> <span class=\"string\">this.centerPoint.latitude</span> <span class=\"string\">+</span> <span class=\"string\">end.latitude)</span> <span class=\"string\">/</span> <span class=\"number\">3</span></span><br><span class=\"line\">      <span class=\"string\">let</span> <span class=\"string\">distance1</span> <span class=\"string\">=</span> <span class=\"string\">this.getDistance(start.latitude,</span> <span class=\"string\">start.longitude,</span> <span class=\"string\">this.centerPoint.latitude,</span> <span class=\"string\">this.centerPoint.longitude)</span></span><br><span class=\"line\">      <span class=\"string\">let</span> <span class=\"string\">distance2</span> <span class=\"string\">=</span> <span class=\"string\">this.getDistance(this.centerPoint.latitude,</span> <span class=\"string\">this.centerPoint.longitude,</span> <span class=\"string\">end.latitude,</span> <span class=\"string\">end.longitude)</span></span><br><span class=\"line\">      <span class=\"string\">const</span> <span class=\"string\">distance</span> <span class=\"string\">=</span> <span class=\"string\">Number(distance1)</span> <span class=\"string\">+</span> <span class=\"string\">Number(distance2)</span></span><br><span class=\"line\">      <span class=\"string\">console.log('计算两点之间的距离',</span> <span class=\"string\">distance1,</span> <span class=\"string\">distance2,</span> <span class=\"string\">distance)</span></span><br><span class=\"line\">      <span class=\"string\">if</span> <span class=\"string\">(distance</span> <span class=\"string\">&lt;</span> <span class=\"number\">200</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">        <span class=\"string\">this.scale</span> <span class=\"string\">=</span> <span class=\"number\">17</span></span><br><span class=\"line\">      <span class=\"string\">&#125;</span></span><br><span class=\"line\">      <span class=\"string\">if</span> <span class=\"string\">(distance</span> <span class=\"string\">&gt;=</span> <span class=\"number\">200</span> <span class=\"string\">&amp;&amp;</span> <span class=\"string\">distance</span> <span class=\"string\">&lt;</span> <span class=\"number\">1000</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">        <span class=\"string\">this.scale</span> <span class=\"string\">=</span> <span class=\"number\">15</span></span><br><span class=\"line\">      <span class=\"string\">&#125;</span></span><br><span class=\"line\">      <span class=\"string\">if</span> <span class=\"string\">(distance</span> <span class=\"string\">&gt;=</span> <span class=\"number\">1000</span> <span class=\"string\">&amp;&amp;</span> <span class=\"string\">distance</span> <span class=\"string\">&lt;</span> <span class=\"number\">5000</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">        <span class=\"string\">this.scale</span> <span class=\"string\">=</span> <span class=\"number\">13</span></span><br><span class=\"line\">      <span class=\"string\">&#125;</span></span><br><span class=\"line\">      <span class=\"string\">if</span> <span class=\"string\">(distance</span> <span class=\"string\">&gt;=</span> <span class=\"number\">5000</span> <span class=\"string\">&amp;&amp;</span> <span class=\"string\">distance</span> <span class=\"string\">&lt;</span> <span class=\"number\">10000</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">        <span class=\"string\">this.scale</span> <span class=\"string\">=</span> <span class=\"number\">12</span></span><br><span class=\"line\">      <span class=\"string\">&#125;</span></span><br><span class=\"line\">      <span class=\"string\">if</span> <span class=\"string\">(distance</span> <span class=\"string\">&gt;=</span> <span class=\"number\">10000</span> <span class=\"string\">&amp;&amp;</span> <span class=\"string\">distance</span> <span class=\"string\">&lt;</span> <span class=\"number\">15000</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">        <span class=\"string\">this.scale</span> <span class=\"string\">=</span> <span class=\"number\">11</span></span><br><span class=\"line\">      <span class=\"string\">&#125;</span></span><br><span class=\"line\">      <span class=\"string\">if</span> <span class=\"string\">(distance</span> <span class=\"string\">&gt;=</span> <span class=\"number\">15000</span> <span class=\"string\">&amp;&amp;</span> <span class=\"string\">distance</span> <span class=\"string\">&lt;</span> <span class=\"number\">50000</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">        <span class=\"string\">this.scale</span> <span class=\"string\">=</span> <span class=\"number\">10</span></span><br><span class=\"line\">      <span class=\"string\">&#125;</span></span><br><span class=\"line\">      <span class=\"string\">if</span> <span class=\"string\">(distance</span> <span class=\"string\">&gt;=</span> <span class=\"number\">50000</span> <span class=\"string\">&amp;&amp;</span> <span class=\"string\">distance</span> <span class=\"string\">&lt;</span> <span class=\"number\">200000</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">        <span class=\"string\">this.scale</span> <span class=\"string\">=</span> <span class=\"number\">8</span></span><br><span class=\"line\">      <span class=\"string\">&#125;</span></span><br><span class=\"line\">      <span class=\"string\">if</span> <span class=\"string\">(distance</span> <span class=\"string\">&gt;</span> <span class=\"number\">200000</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">        <span class=\"string\">this.scale</span> <span class=\"string\">=</span> <span class=\"number\">5</span></span><br><span class=\"line\">      <span class=\"string\">&#125;</span></span><br><span class=\"line\">    <span class=\"string\">&#125;,</span></span><br><span class=\"line\">    <span class=\"string\">//</span> <span class=\"string\">速度转换</span> <span class=\"string\">m/s</span> <span class=\"string\">-&gt;</span> <span class=\"string\">km/h</span></span><br><span class=\"line\">    <span class=\"string\">covertSpeed(ms)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">      <span class=\"string\">if</span> <span class=\"string\">(ms</span> <span class=\"string\">&lt;=</span> <span class=\"number\">0</span><span class=\"string\">)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">        <span class=\"string\">return</span> <span class=\"number\">0.00</span></span><br><span class=\"line\">      <span class=\"string\">&#125;</span></span><br><span class=\"line\">      <span class=\"string\">const</span> <span class=\"string\">kmh</span> <span class=\"string\">=</span> <span class=\"string\">ms</span> <span class=\"string\">*</span> <span class=\"string\">(60</span> <span class=\"string\">*</span> <span class=\"number\">60</span><span class=\"string\">)</span></span><br><span class=\"line\">      <span class=\"string\">return</span> <span class=\"string\">parseFloat(String(kmh</span> <span class=\"string\">/</span> <span class=\"number\">1000</span><span class=\"string\">)).toFixed(2)</span></span><br><span class=\"line\">    <span class=\"string\">&#125;,</span></span><br><span class=\"line\">    <span class=\"string\">//</span> <span class=\"string\">计算两坐标点之间的距离</span></span><br><span class=\"line\">    <span class=\"attr\">getDistance:</span> <span class=\"string\">function</span> <span class=\"string\">(lat1,</span> <span class=\"string\">lng1,</span> <span class=\"string\">lat2,</span> <span class=\"string\">lng2)</span> <span class=\"string\">&#123;</span></span><br><span class=\"line\">      <span class=\"string\">let</span> <span class=\"string\">rad1</span> <span class=\"string\">=</span> <span class=\"string\">lat1</span> <span class=\"string\">*</span> <span class=\"string\">Math.PI</span> <span class=\"string\">/</span> <span class=\"number\">180.0</span><span class=\"string\">;</span></span><br><span class=\"line\">      <span class=\"string\">let</span> <span class=\"string\">rad2</span> <span class=\"string\">=</span> <span class=\"string\">lat2</span> <span class=\"string\">*</span> <span class=\"string\">Math.PI</span> <span class=\"string\">/</span> <span class=\"number\">180.0</span><span class=\"string\">;</span></span><br><span class=\"line\">      <span class=\"string\">let</span> <span class=\"string\">a</span> <span class=\"string\">=</span> <span class=\"string\">rad1</span> <span class=\"bullet\">-</span> <span class=\"string\">rad2;</span></span><br><span class=\"line\">      <span class=\"string\">let</span> <span class=\"string\">b</span> <span class=\"string\">=</span> <span class=\"string\">lng1</span> <span class=\"string\">*</span> <span class=\"string\">Math.PI</span> <span class=\"string\">/</span> <span class=\"number\">180.0</span> <span class=\"bullet\">-</span> <span class=\"string\">lng2</span> <span class=\"string\">*</span> <span class=\"string\">Math.PI</span> <span class=\"string\">/</span> <span class=\"number\">180.0</span><span class=\"string\">;</span></span><br><span class=\"line\">      <span class=\"string\">let</span> <span class=\"string\">r</span> <span class=\"string\">=</span> <span class=\"number\">6378137</span><span class=\"string\">;</span></span><br><span class=\"line\">      <span class=\"string\">return</span> <span class=\"string\">(r</span> <span class=\"string\">*</span> <span class=\"number\">2</span> <span class=\"string\">*</span> <span class=\"string\">Math.asin(Math.sqrt(Math.pow(Math.sin(a</span> <span class=\"string\">/</span> <span class=\"number\">2</span><span class=\"string\">),</span> <span class=\"number\">2</span><span class=\"string\">)</span> <span class=\"string\">+</span> <span class=\"string\">Math.cos(rad1)</span> <span class=\"string\">*</span> <span class=\"string\">Math.cos(rad2)</span> <span class=\"string\">*</span> <span class=\"string\">Math.pow(Math</span></span><br><span class=\"line\">        <span class=\"string\">.sin(b</span> <span class=\"string\">/</span> <span class=\"number\">2</span><span class=\"string\">),</span> <span class=\"number\">2</span><span class=\"string\">)))).toFixed(0)</span></span><br><span class=\"line\">    <span class=\"string\">&#125;</span></span><br><span class=\"line\">  <span class=\"string\">&#125;</span></span><br><span class=\"line\"><span class=\"string\">&#125;</span></span><br><span class=\"line\"><span class=\"string\">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>\n"}]